/*! For license information please see main.5136bcb7.chunk.js.LICENSE.txt */
(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{162:function(e,t,a){e.exports={mainDiv:"Dialog_mainDiv__xudm_",highLighter:"Dialog_highLighter__1HcJ5",highLighterH6:"Dialog_highLighterH6__VrgQD",AlertImageDiv:"Dialog_AlertImageDiv__2LxjE",alertImageCircle:"Dialog_alertImageCircle__3ClDg",alertImageIcon:"Dialog_alertImageIcon__1SQgX",secondText:"Dialog_secondText__B_Mlv"}},515:function(e,t,a){e.exports={mydiv:"NotFoundPage_mydiv__30oBf"}},531:function(e){e.exports=JSON.parse('{"name":{"required":true,"validations":{"required":{"value":"true","message":"Name is required"}}},"category":{"required":true,"validations":{"required":{"value":"true","message":"Category is required"}}},"balance":{"required":true,"validations":{"validPositiveIntegerExceptZero":{"value":"true","message":"Balance cannot be negative number"}}},"department":{"required":true,"validations":{"required":{"value":"true","message":"Department is required"}}},"unit":{"required":true,"validations":{"required":{"value":"true","message":"Unit is required"}}}}')},536:function(e,t,a){e.exports={rbc_toolbar:"CalenderStyles_rbc_toolbar__3NKnX",rbc_toolbar_label:"CalenderStyles_rbc_toolbar_label__23so5",button_radius:"CalenderStyles_button_radius__2n-UK"}},537:function(e){e.exports=JSON.parse('{"name":{"required":true,"validations":{"required":{"value":"true","message":"Color name is required"}}}}')},538:function(e){e.exports=JSON.parse('{"name":{"required":true,"validations":{"required":{"value":"true","message":"Category name is required"}}}}')},539:function(e){e.exports=JSON.parse('{"email":{"label":"Email","required":true,"validations":{"required":{"value":"true","message":"Email is required"},"validateEmailRegex":{"value":"true","message":"Email is not valid"}}},"password":{"label":"Password","required":true,"validations":{"required":{"value":"true","message":"Passsword is required"},"validatePasswordMinLength":{"value":"true","message":"Passsword should be more than 5 characters"}}}}')},543:function(e){e.exports=JSON.parse('{"seller_name":{"required":true,"validations":{"required":{"value":"true","message":"Seller Name is required"}}}}')},544:function(e){e.exports=JSON.parse('{"seller":{"required":true,"validations":{"required":{"value":"true","message":"Seller is required"}}},"raw_material":{"required":true,"validations":{"required":{"value":"true","message":"Raw Material is required"}}},"quantity":{"required":true,"validations":{"required":{"value":"true","message":"Quantity is required"},"validPositiveInteger":{"value":"true","message":"Quantity should be a valid positive number"}}}}')},545:function(e){e.exports=JSON.parse('{"material_no":{"required":true,"validations":{"required":{"value":"true","message":"Material Number is required"}}},"add_cost":{"validations":{"validPositiveIntegerExceptZero":{"value":"true","message":"Quantity should be a valid positive number"}}},"total_quantity":{"validations":{"validPositiveIntegerExceptZero":{"value":"true","message":"Quantity should be a valid positive number"}}}}')},548:function(e){e.exports=JSON.parse('{"material_no":{"required":true,"validations":{"required":{"value":"true","message":"Material Number is required"}}},"add_cost":{"validations":{"validPositiveIntegerExceptZero":{"value":"true","message":"Quantity should be a valid positive number"}}},"total_quantity":{"validations":{"validPositiveIntegerExceptZero":{"value":"true","message":"Quantity should be a valid positive number"}}},"colors":{"required":true,"validations":{"required":{"value":"true","message":"Please specify ratios/colors, for plain design add white color"}}}}')},551:function(e){e.exports=JSON.parse('{"party_name":{"required":true,"validations":{"required":{"value":"true","message":"Party Name is required"}}}}')},552:function(e){e.exports=JSON.parse('{"bill_no":{"required":true,"validations":{"required":{"value":"true","message":"Bill number is required"}}}}')},554:function(e){e.exports=JSON.parse('{"party":{"required":true,"validations":{"required":{"value":"true","message":"Party is required"}}}}')},592:function(e,t,a){},593:function(e,t,a){},704:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(26),i=a.n(c),o=(a(592),a(593),a(31)),s=a(60),l="/login",d="/raw-materials",u="/add-raw-materials",j="/edit-raw-material",b="/view-raw-material",p="/raw-material-usage",h="/add-edit-raw-material-usage",m="/parties",x="/add-party",O="/edit-party",f="/add-purchases",g="/purchases",v="/edit-purchases",y="/view-purchases",_="".concat(v,"/:id"),w="".concat(y,"/:id"),C="/add-purchase-payment",S="/purchase-payments",k="/edit-purchase-payment",T="/view-purchase-payment",P="".concat(k,"/:id"),N="".concat(T,"/:id"),D="/view-kachha-purchase-detailss",I="/purchase-ledger",M="/return-goods",R="/view-returned-goods",z="/edit-returned-goods",A="/returned-goods-list",F="".concat(z,"/:id"),W="".concat(R,"/:id"),E="/sellers",H="/add-seller",B="/edit-seller",q="/admins",L="/add-admin",Q="/staff",Y="/add-staff",U="/departments",V="/add-departments",$="/units",G="/add-unit",K="/ready-material",Z="/add-ready-material",J="/edit-ready-material",X="/view-ready-material",ee="/orders",te="/add-order",ae="/edit-order",ne="/view-order",re="".concat(ne,"/:id"),ce="".concat(ae,"/:id"),ie="/edit-department-sheet",oe="".concat("/view-department-sheet","/:id"),se="".concat(ie,"/:id"),le="/sales",de="/add-sales",ue="/view-sales",je="/edit-sales",be="".concat(ue,"/:id"),pe="".concat(je,"/:id"),he="/view-sale-return",me="/add-sale-return",xe="/edit-sale-return",Oe="/sale-return",fe="/view-design",ge="/edit-design",ve="/add-design",ye="/designs",_e="".concat(fe,"/:id"),we="".concat(ge,"/:id"),Ce="select-raw-materials",Se="select-ready-materials",ke="/".concat(Ce),Te="/".concat(Se),Pe="".concat(ge).concat(ke,"/:id"),Ne="".concat(ge).concat(Te,"/:id"),De="/colors",Ie="/add-color",Me="/edit-color",Re="/categories",ze="/add-category",Ae="/edit-category",Fe="/404",We=a(281),Ee=a(515),He=a.n(Ee),Be=a(0);function qe(e){return Object(Be.jsxs)("div",{className:He.a.mydiv,children:[Object(Be.jsx)("h3",{children:"404 page not found"}),Object(Be.jsx)("p",{children:"We are sorry but the page you are looking for does not exist."})]})}var Le=a(324),Qe="jwtToken",Ye="userInfo",Ue="logoUrl",Ve=JSON.parse,$e=JSON.stringify,Ge={clear:function(e){return localStorage&&localStorage.getItem(e)?localStorage.removeItem(e):sessionStorage&&sessionStorage.getItem(e)?sessionStorage.removeItem(e):null},clearAppStorage:function(){localStorage&&localStorage.clear(),sessionStorage&&sessionStorage.clear()},clearToken:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qe;return Ge.clear(e)},clearUserInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ye;return Ge.clear(e)},get:function(e){return localStorage&&localStorage.getItem(e)?Ve(localStorage.getItem(e))||null:sessionStorage&&sessionStorage.getItem(e)&&Ve(sessionStorage.getItem(e))||null},getToken:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qe;return Ge.get(e)},getUserInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ye;return Ge.get(e)},getLogoUrl:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ue;return Ge.get(e)},set:function(e,t,a){return Object(Le.isEmpty)(e)?null:a&&localStorage?localStorage.setItem(t,$e(e)):sessionStorage?sessionStorage.setItem(t,$e(e)):null},setToken:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Qe;return Ge.set(e,a,t)},setUserInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ye;return Ge.set(e,a,t)},setLogo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ue;return Ge.set(e,a,t)}},Ke=Ge,Ze=a(2),Je=a(124);a(5),Object(We.a)((function(e){return{titleText:{color:"#110F48",fontFamily:"Montserrat",fontWeight:500,fontSize:"0.99rem",marginBottom:"0.9375rem"}}}));Object(We.a)((function(e){return{titleText:{color:"#110F48",fontFamily:"Montserrat",fontWeight:500,fontSize:"0.99rem",marginBottom:"0.9375rem"}}}));Object(We.a)((function(e){return{titleText:{fontFamily:"Montserrat",marginBottom:"0.9375rem"}}}));var Xe=function(e){e=(e+="").replace("#","");if(!/[0-9A-Fa-f]/g.test(e)||3!==e.length&&6!==e.length)throw new Error("input is not a valid hex color.");if(3===e.length){var t=e[0],a=e[1],n=e[2];e=t+t+a+a+n+n}var r=(e=e.toUpperCase())[0]+e[1],c=e[2]+e[3],i=e[4]+e[5];return parseInt(r,16)+", "+parseInt(c,16)+", "+parseInt(i,16)},et=260,tt={transition:"all 0.33s cubic-bezier(0.685, 0.0473, 0.346, 1)"},at={paddingRight:"15px",paddingLeft:"15px",marginRight:"auto",marginLeft:"auto"},nt={fontFamily:'"Roboto", "Helvetica", "Arial", sans-serif',fontWeight:"300",lineHeight:"1.5em",color:"#495057 !important"},rt=["#a56863","#b78682","#b78682","#af2cc5"],ct=["#ff9800","#ffa726","#fb8c00","#ffa21a"],it=["#f44336","#ef5350","#e53935","#f55a4e"],ot=["#4caf50","#66bb6a","#43a047","#5cb860"],st=["#bd976a","#26c6da","#bd976a","#00d3ee"],lt=["#e91e63","#ec407a","#d81b60","#eb3573"],dt=["#999","#777","#3C4858","#AAAAAA","#D2D2D2","#DDD","#b4b4b4","#555555","#333","#a9afbb","#eee","#e7e7e7","#eee","#ccc","#e4e4e4","#E5E5E5","#f9f9f9","#f5f5f5","#495057","#e7e7e7","#212121","#c8c8c8","#505050"],ut="#000",jt="#FFF",bt={boxShadow:"0 10px 30px -12px rgba("+Xe(ut)+", 0.42), 0 4px 25px 0px rgba("+Xe(ut)+", 0.12), 0 8px 10px -5px rgba("+Xe(ut)+", 0.2)"},pt={boxShadow:"0 4px 20px 0 rgba("+Xe(ut)+",.14), 0 7px 10px -5px rgba("+Xe(rt[0])+",.4)"},ht={boxShadow:"0 4px 20px 0 rgba("+Xe(ut)+",.14), 0 7px 10px -5px rgba("+Xe(st[0])+",.4)"},mt={boxShadow:"0 4px 20px 0 rgba("+Xe(ut)+",.14), 0 7px 10px -5px rgba("+Xe(ot[0])+",.4)"},xt={boxShadow:"0 4px 20px 0 rgba("+Xe(ut)+",.14), 0 7px 10px -5px rgba("+Xe(ct[0])+",.4)"},Ot={boxShadow:"0 4px 20px 0 rgba("+Xe(ut)+",.14), 0 7px 10px -5px rgba("+Xe(it[0])+",.4)"},ft={boxShadow:"0 4px 20px 0 rgba("+Xe(ut)+",.14), 0 7px 10px -5px rgba("+Xe(lt[0])+",.4)"},gt=Object(Ze.a)({background:"linear-gradient(60deg, "+ct[1]+", "+ct[2]+")"},xt),vt=Object(Ze.a)({background:"linear-gradient(60deg, "+ot[1]+", "+ot[2]+")"},mt),yt=Object(Ze.a)({background:"linear-gradient(60deg, "+it[1]+", "+it[2]+")"},Ot),_t=Object(Ze.a)({background:"linear-gradient(60deg, "+st[1]+", "+st[2]+")"},ht),wt=Object(Ze.a)({background:"linear-gradient(60deg, #bd976a, #bd976a)"},pt),Ct=Object(Ze.a)({background:"linear-gradient(60deg, "+lt[1]+", "+lt[2]+")"},ft),St=(Object(Ze.a)({margin:"0 20px 10px",paddingTop:"10px",borderTop:"1px solid "+dt[10],height:"auto"},nt),Xe(ut),Xe(ut),{border:"0",borderRadius:"3px",boxShadow:"0 10px 20px -12px rgba("+Xe(ut)+", 0.42), 0 3px 20px 0px rgba("+Xe(ut)+", 0.12), 0 8px 10px -5px rgba("+Xe(ut)+", 0.2)",padding:"10px 0",transition:"all 150ms ease 0s"}),kt={color:dt[2],textDecoration:"none",fontWeight:"300",marginTop:"30px",marginBottom:"25px",minHeight:"32px",fontFamily:"'Roboto', 'Helvetica', 'Arial', sans-serif","& small":{color:dt[1],fontWeight:"400",lineHeight:"1"}},Tt=(Object(Ze.a)(Object(Ze.a)({},kt),{},{marginTop:"0",marginBottom:"3px",minHeight:"auto","& a":Object(Ze.a)(Object(Ze.a)({},kt),{},{marginTop:".625rem",marginBottom:"0.75rem",minHeight:"auto"})}),{defaultFontStyle:Object(Ze.a)(Object(Ze.a)({},nt),{},{fontSize:"14px"}),defaultHeaderMargins:{marginTop:"20px",marginBottom:"10px"},quote:{padding:"10px 20px",margin:"0 0 20px",fontSize:"17.5px",borderLeft:"5px solid "+dt[10]},quoteText:{margin:"0 0 10px",fontStyle:"italic"},quoteAuthor:{display:"block",fontSize:"80%",lineHeight:"1.42857143",color:dt[1]},mutedText:{color:dt[1]},primaryText:{color:rt[0]},infoText:{color:st[0]},successText:{color:ot[0]},warningText:{color:ct[0]},dangerText:{color:it[0]}});Object(We.a)(Tt);Object(We.a)(Tt);Object(We.a)(Tt);Object(We.a)(Tt);Object(We.a)(Tt);Object(We.a)(Tt);Object(We.a)(Tt);var Pt=a(39),Nt=a(400),Dt=a.n(Nt),It=a(496),Mt=a(512),Rt=a(818),zt=a(822),At=a(823),Ft=a(824),Wt=a(825),Et=a(826),Ht=a(827),Bt=["rows","columns","className","pageSize","checkboxSelection","title"],qt=["children"],Lt=["children"],Qt=["children"],Yt=["children"],Ut=["children"],Vt=Object(We.a)((function(e){return{root:{"& .MuiPaper-root":{borderRadius:"100px",boxShadow:"0px 0px 0px 0px rgba(0,0,0,0);"}},table:{"& tfoot tr td div:nth-child(1)":{justifyContent:"center",flex:"initial",fontFamily:"Montserrat",fontWeight:600,fontSize:"0.75rem",color:"#8A8A97"},"& tfoot tr td ":{border:"none !important",fontFamily:"Montserrat",fontWeight:500,fontSize:"1rem","& > div":{display:"flex",flexWrap:"wrap"}},"& tfoot tr td div:nth-child(2) span":{fontFamily:"Montserrat",fontWeight:500,fontSize:"1rem"},"& .MuiTypography-caption":{fontFamily:"Montserrat",fontWeight:500,fontSize:"0.75rem",color:"#000"},"& th":{color:"#3b3b42 !important",backgroundColor:"#f9f8f8 !important",fontSize:"0.9375rem !important",fontWeight:"600 !important",lineHeight:"1.5rem !important",letterSpacing:"0.15px !important",border:"0.6px solid #e0e0e0 !important",fontFamily:"Montserrat !important",padding:"1rem !important",flexDirection:"row"},"& td":Object(Ze.a)(Object(Ze.a)({},nt),{},{fontSize:"0.8125rem !important",fontWeight:"450 !important",lineHeight:"1.5rem !important",letterSpacing:"0.15px !important",border:"0.6px solid #e0e0e0 !important",borderBottom:"1px solid #e0e0e0 !important","& .MuiIconButton-label":{color:"#1C4979 !important"},"& .Mui-disabled .MuiIconButton-label":{color:"#00000042 !important"}})}}})),$t=function(e){e.rows,e.columns,e.className,e.pageSize,e.checkboxSelection,e.title,Object(Pt.a)(e,Bt);var t=Vt();return Object(Be.jsxs)(Rt.a,{boxShadow:0,children:[Object(Be.jsx)("link",{rel:"stylesheet",href:"https://fonts.googleapis.com/icon?family=Material+Icons"}),Object(Be.jsx)("div",{className:t.root,children:Object(Be.jsx)(Dt.a,Object(Ze.a)({components:{OverlayLoading:function(e){return Object(Be.jsx)("div",{style:{position:"absolute",top:0,width:"100%"},children:Object(Be.jsx)(It.a,{})})},Container:function(e){return Object(Be.jsx)(zt.a,Object(Ze.a)(Object(Ze.a)({},e),{},{className:t.table}))},Pagination:function(e){return Object(Be.jsx)(Mt.a,Object(Ze.a)(Object(Ze.a)({},e),{},{className:t.table}))},Toolbar:function(){return null}},title:e.title?e.title:null,columns:e.columns,isLoading:e.isLoading,actions:e.actions,editable:e.editable,options:e.options,onOrderChange:e.onOrderChange,style:{}},e))})]})},Gt=function(e){var t=Vt(),a=e.children,n=Object(Pt.a)(e,qt);return Object(Be.jsx)(At.a,Object(Ze.a)(Object(Ze.a)({},n),{},{className:t.table,children:a}))},Kt=function(e){var t=Vt(),a=e.children,n=Object(Pt.a)(e,Lt);return Object(Be.jsx)(Ft.a,Object(Ze.a)(Object(Ze.a)({},n),{},{className:t.table,children:a}))},Zt=function(e){var t=Vt(),a=e.children,n=Object(Pt.a)(e,Qt);return Object(Be.jsx)(Wt.a,Object(Ze.a)(Object(Ze.a)({},n),{},{className:t.table,children:a}))},Jt=function(e){var t=Vt(),a=e.children,n=Object(Pt.a)(e,Yt);return Object(Be.jsx)(Et.a,Object(Ze.a)(Object(Ze.a)({},n),{},{className:t.table,children:a}))},Xt=function(e){var t=Vt(),a=e.children,n=Object(Pt.a)(e,Ut);return Object(Be.jsx)(Ht.a,Object(Ze.a)(Object(Ze.a)({},n),{},{className:t.table,children:a}))},ea=a(497),ta=a(495),aa=a(486),na=a(485),ra=a(479),ca=function(e){return{warningTableHeader:{color:ct[0]},primaryTableHeader:{color:rt[0]},dangerTableHeader:{color:it[0]},successTableHeader:{color:ot[0]},infoTableHeader:{color:st[0]},roseTableHeader:{color:lt[0]},grayTableHeader:{color:dt[0]},table:{marginBottom:"0",width:"100%",maxWidth:"100%",backgroundColor:"transparent",borderSpacing:"0",borderCollapse:"collapse"},tableHeadCell:Object(Ze.a)(Object(Ze.a)({color:"inherit"},nt),{},{"&, &$tableCell":{fontSize:"1em"}}),tableCell:Object(Ze.a)(Object(Ze.a)({},nt),{},{lineHeight:"1.42857143",padding:"12px 8px",verticalAlign:"middle",fontSize:"0.8125rem"}),tableResponsive:{width:"100%",marginTop:e.spacing(3),overflowX:"auto"},tableHeadRow:{height:"56px",color:"inherit",display:"table-row",outline:"none",verticalAlign:"middle"},tableBodyRow:{height:"48px",color:"inherit",display:"table-row",outline:"none",verticalAlign:"middle"}}};Object(We.a)(ca);var ia=a(6),oa=a(396),sa=a(783),la=a(333),da=a(792),ua=a(204),ja=a(524),ba=a.n(ja),pa=a(523),ha=a.n(pa),ma=a(4),xa=a(780),Oa=a(18),fa=a.n(Oa),ga=["children","className"],va=Object(We.a)({grid:{padding:"0 15px !important"}});function ya(e){var t,a=va(),n=e.children,r=e.className,c=Object(Pt.a)(e,ga),i=fa()((t={},Object(ma.a)(t,a.grid,!0),Object(ma.a)(t,r,void 0!==r),t));return Object(Be.jsx)(xa.a,Object(Ze.a)(Object(Ze.a)({item:!0},c),{},{className:i,children:n}))}var _a=["children","noWidth","className"],wa=Object(We.a)({grid:{margin:"0 -15px !important",width:"unset"},noWidthGrid:{}});function Ca(e){var t,a=wa(),n=e.children,r=e.noWidth,c=e.className,i=Object(Pt.a)(e,_a),o=fa()((t={},Object(ma.a)(t,a.noWidthGrid,void 0!==r),Object(ma.a)(t,a.grid,void 0===r||null===r),Object(ma.a)(t,c,void 0!==c),t));return Object(Be.jsx)(xa.a,Object(Ze.a)(Object(Ze.a)({container:!0},i),{},{className:o,children:n}))}function Sa(e){var t=" ----",a=" ----",n=" ----";return e.raw_material.department&&"object"===typeof e.raw_material.department&&e.raw_material.department.name&&(t=e.raw_material.department.name),e.raw_material.color&&"object"===typeof e.raw_material.color&&e.raw_material.color.name&&(a=e.raw_material.color.name),e.raw_material.category&&"object"===typeof e.raw_material.category&&e.raw_material.category.name&&(n=e.raw_material.category.name),Object(Be.jsx)(Ca,{children:Object(Be.jsxs)(ya,{xs:12,sm:12,md:12,children:[Object(Be.jsx)(Ca,{style:{dispay:"flex"},children:Object(Be.jsxs)(ya,{xs:12,sm:12,md:8,children:[Object(Be.jsx)("b",{children:"Name : "})," ",e.raw_material.name]})}),Object(Be.jsx)(Ca,{children:Object(Be.jsxs)(ya,{xs:12,sm:12,md:8,children:[Object(Be.jsx)("b",{children:"Department : "}),t]})}),Object(Be.jsx)(Ca,{children:Object(Be.jsxs)(ya,{xs:12,sm:12,md:8,children:[Object(Be.jsx)("b",{children:"Category : "}),n]})}),Object(Be.jsx)(Ca,{children:Object(Be.jsxs)(ya,{xs:12,sm:12,md:8,children:[Object(Be.jsx)("b",{children:"Color :"}),a]})}),Object(Be.jsx)(Ca,{children:Object(Be.jsxs)(ya,{xs:12,sm:12,md:8,children:[Object(Be.jsx)("b",{children:"Size : "}),e.raw_material.size]})}),Object(Be.jsx)(Ca,{children:Object(Be.jsxs)(ya,{xs:12,sm:12,md:8,children:[Object(Be.jsx)("b",{children:"Balance : "}),e.raw_material.balance,e.includeUnits?" "+e.raw_material.unit:null]})})]})})}var ka=a(828),Ta=a(20),Pa=a(35),Na=a.n(Pa),Da=[d,u,j],Ia=[De,Ie,Me],Ma=[Re,ze,Ae],Ra=[$],za=[U,V],Aa=[p,h],Fa=[].concat(Ia,Ma,Da,Ra,za,Aa),Wa=[M,z,A,R],Ea=[I],Ha=[g,f,y,v,_,w],Ba=[C,k,T,S],qa=[D],La=[E,B,H],Qa=[].concat(Ha,La,Wa,qa,Ea,Ba),Ya=[te,ne,ee,ae,ce,re],Ua=[].concat(Ya,[oe,se]),Va=[m,x,O],$a=[le,ue,de,je,pe,be],Ga=[Oe,he,me,xe],Ka=[].concat(Va,$a,Ga),Za=[ye,ve,ge,fe,we,_e,Pe,Ne],Ja={path:d,name:"Raw Materials",layout:"",pathList:Da},Xa={path:p,name:"Daily Usage",layout:"",pathList:Aa},en={path:A,name:"Goods Return",layout:"",pathList:Wa},tn={path:E,name:"Sellers",layout:"",pathList:La},an={path:g,name:"All Purchases",layout:"",pathList:Ha},nn={path:S,name:"Payments",layout:"",pathList:Ba},rn={path:D,name:"Kachha Purchase Details",layout:"",pathList:qa},cn={path:I,name:"Purchase Ledger",layout:"",pathList:Ea},on={path:le,name:"Sales",layout:"",pathList:$a},sn={path:Oe,name:"Sale Return",layout:"",pathList:Ga},ln={path:m,name:"Parties",layout:"",pathList:Va},dn={path:U,name:"Departments",layout:"",pathList:za},un={path:Re,name:"Categories",layout:"",pathList:Ma},jn={path:De,name:"Colors",layout:"",pathList:Ia},bn={path:$,name:"Units",layout:"",pathList:Ra},pn={path:ee,name:"Orders",layout:"",pathList:Ya},hn=[{name:"Purchases",layout:"",pathList:Qa,children:[an,nn,en,rn,tn,cn]},{name:"Raw Materials",layout:"",pathList:Fa,children:[Ja,Xa,dn,un,jn,bn]},{path:ye,name:"Designs",layout:"",pathList:Za},{name:"Orders",layout:"",pathList:Ua,children:[pn]},{name:"Sales",layout:"",pathList:Ka,children:[on,sn,ln]}],mn=[{name:"Purchases",layout:"",pathList:Qa,children:[an,nn,en,rn,tn,cn]},{name:"Raw Materials",layout:"",pathList:Fa,children:[Ja,Xa,dn,un,jn,bn]},{path:ye,name:"Designs",layout:"",pathList:Za},{name:"Orders",layout:"",pathList:Ua,children:[pn]},{name:"Sales",layout:"",pathList:Ka,children:[on,sn,ln]}],xn=[{name:"Purchases",layout:"",pathList:Qa,children:[an,nn,en,rn,tn,cn]},{name:"Raw Materials",layout:"",pathList:Fa,children:[Ja,Xa,dn,un,jn,bn]},{path:ye,name:"Designs",layout:"",pathList:Za},{name:"Orders",layout:"",pathList:Ua,children:[pn]},{name:"Sales",layout:"",pathList:Ka,children:[on,sn,ln]}];var On=function(e){return!e||/^\s*$/.test(e)};var fn=function(e){return Na()(e).format("DD-MM-YYYY")},gn=function(e){return Na()(e).format("DD-MMM-YYYY")},vn=function(e){return e?new Date(e)==new Date(1970,1,1)?null:e:null},yn=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3?arguments[3]:void 0,r=0;return e=parseFloat(Sn(e).toFixed(2)),t?(r=new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(e),r+=a?n:" /-"):r=new Intl.NumberFormat("en-IN",{}).format(e),r};function _n(e){for(var t=new ArrayBuffer(e.length),a=new Uint8Array(t),n=0;n<e.length;n++)a[n]=255&e.charCodeAt(n);return t}function wn(e){var t=new Date(e);return t.toLocaleString("default",{day:"2-digit"})+"-"+t.toLocaleString("default",{month:"short"})+"-"+t.toLocaleString("default",{year:"numeric"})}function Cn(e){return"Super Admin"===e.getUserInfo().role.name?xn:"Admin"===e.getUserInfo().role.name?mn:hn}function Sn(e){return isNaN(parseFloat(e))?0:parseFloat(e)}function kn(e){var t,a=new Date((new Date).setMonth((new Date).getMonth()-3)),n=new Date(a.getFullYear(),a.getMonth(),1),r=new Date;return(t=Date.parse(e))<=r&&t>=n}function Tn(){var e=new Date((new Date).setMonth((new Date).getMonth()-3));return new Date(e.getFullYear(),e.getMonth(),1)}function Pn(e){var t=!1;return"[object Date]"===Object.prototype.toString.call(e)?(t=!0,t=!isNaN(e)):t=!1,t}function Nn(e,t){return t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())}function Dn(e){var t="";switch(e){case 0:t="January";break;case 1:t="February";break;case 2:t="March";break;case 3:t="April";break;case 4:t="May";break;case 5:t="June";break;case 6:t="July";break;case 7:t="August";break;case 8:t="September";break;case 9:t="October";break;case 10:t="November";break;case 11:t="December";break;default:t="Invalid month"}return t}var In=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text",n=[],r=new RegExp(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/),c=/^\d{10}$/,i=/^\s*$/;return Object(Le.mapKeys)(t,(function(t,a){switch(a){case"required":(void 0===e||null===e||0===e.length||i.test(e))&&n.push(t.message);break;case"ssnvalidator":null!==e&&0!==e.length&&n.push(t.message);break;case"validateEmailRegex":null===e||0===e.length||r.test(e)||n.push(t.message);break;case"validatePasswordMinLength":void 0!==e&&0!==e.length&&e.length<5&&n.push(t.message);break;case"validateMobileNumber":0===e.length||c.test(e)||n.push(t.message);break;case"noEmptySpaces":e&&!i.test(e)||n.push(t.message);break;case"validateEmailPhoneRegex":0===e.length||c.test(e)||r.test(e)||n.push(t.message);break;case"validateOtp":0!==e.length&&e.length!==t.value&&n.push(t.message);break;case"validateOtpForForgotPassword":0!==e.length&&e.length<t.value&&n.push(t.message);break;case"validPositiveInteger":(On(e)||!On(e)&&isNaN(parseFloat(e))||!On(e)&&!isNaN(parseFloat(e))&&parseFloat(e)<=0)&&n.push(t.message);break;case"validPositiveIntegerExceptZero":(isNaN(parseFloat(e))||!isNaN(parseFloat(e))&&parseFloat(e)<0)&&n.push(t.message);break;default:n=[]}})),"email"!==a||r.test(e)||n.push("Not an email"),n},Mn=function(e){return!Object.keys(e).length},Rn=function(e,t){var a={},n=/^\s*$/;return Object.keys(t).map((function(r){if(t[r].required){var c={};if(t[r].validations)c=t[r].validations;else c={required:{value:"true",message:t[r].label?t[r].label+" is required":"required*"}};var i=e.hasOwnProperty(r)?e[r]:"",o=In(i,c);o.length&&(a=Object(Ze.a)(Object(Ze.a)({},a),{},Object(ma.a)({},r,o)))}else if(t[r].validations&&Object.keys(t[r].validations).length&&!n.test(e[r])&&e.hasOwnProperty(r)){var s=e.hasOwnProperty(r)?e[r]:"",l=In(s,t[r].validations);l.length&&(a=Object(Ze.a)(Object(Ze.a)({},a),{},Object(ma.a)({},r,l)))}return null})),a},zn=function(e,t){return!!t.hasOwnProperty(e)},An=function(e){var t=e.data,a=e.handleSelectRawMaterial;return Object(Be.jsx)(ka.a,{component:zt.a,children:Object(Be.jsxs)(At.a,{sx:{minWidth:650},size:"small","aria-label":"a dense table",children:[Object(Be.jsx)(Ft.a,{children:Object(Be.jsxs)(Wt.a,{children:[Object(Be.jsx)(Et.a,{children:"Action"}),Object(Be.jsx)(Et.a,{children:"Name"}),Object(Be.jsx)(Et.a,{children:"Category"}),Object(Be.jsx)(Et.a,{children:"Department"}),Object(Be.jsx)(Et.a,{children:"Color"}),Object(Be.jsx)(Et.a,{children:"Size"}),Object(Be.jsx)(Et.a,{align:"right",children:"Costing"}),Object(Be.jsx)(Et.a,{align:"right",children:"Stock"})]})}),Object(Be.jsx)(Ht.a,{children:t.map((function(e){var t,n,r,c;return Object(Be.jsxs)(Wt.a,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[Object(Be.jsx)(Et.a,{children:Object(Be.jsx)("button",{onClick:function(){return a(e)},children:"Select"})}),Object(Be.jsx)(Et.a,{component:"th",scope:"row",children:(null===e||void 0===e?void 0:e.name)?e.name:"----"}),Object(Be.jsx)(Et.a,{children:(null===e||void 0===e||null===(t=e.category)||void 0===t?void 0:t.name)?e.category.name:"-----"}),Object(Be.jsx)(Et.a,{children:(null===e||void 0===e||null===(n=e.department)||void 0===n?void 0:n.name)?e.department.name:"-----"}),Object(Be.jsx)(Et.a,{children:(null===e||void 0===e||null===(r=e.color)||void 0===r?void 0:r.name)?e.color.name:"-----"}),Object(Be.jsx)(Et.a,{children:(null===e||void 0===e?void 0:e.size)?e.size:"----"}),Object(Be.jsx)(Et.a,{align:"right",children:yn(Sn(e.costing),!0,!0,(null===e||void 0===e||null===(c=e.unit)||void 0===c?void 0:c.name)?" /"+e.unit.name:"")}),Object(Be.jsx)(Et.a,{align:"right",children:(null===e||void 0===e?void 0:e.balance)?e.balance:0})]},e.id)}))})]})})},Fn=Object(We.a)({root:{"& > *":{borderBottom:"unset"}}});function Wn(e){var t=e.row,a=r.a.useState(!1),n=Object(ia.a)(a,2),c=n[0],i=n[1],o=Fn(),s={id:t.id,name:t.name,department:t.department?t.department.name:"",category:t.category?t.category.name:"",color:t.color?t.color.name:"",size:t.size,balance:t.balance,unit:t.unit?t.unit.name:""};return Object(Be.jsxs)(r.a.Fragment,{children:[Object(Be.jsxs)(aa.a,{className:o.root,children:[Object(Be.jsx)(ra.a,{children:Object(Be.jsx)(la.a,{"aria-label":"expand row",size:"small",onClick:function(){return i(!c)},children:c?Object(Be.jsx)(ha.a,{}):Object(Be.jsx)(ba.a,{})})}),e.columns.map((function(e,a){return 0===a?Object(Be.jsx)(ra.a,{component:"th",scope:"row",children:t[e.field]}):Object(Be.jsx)(ra.a,{children:t[e.field]})}))]}),Object(Be.jsx)(aa.a,{children:Object(Be.jsx)(ra.a,{style:{paddingBottom:0,paddingTop:0},colSpan:7,children:Object(Be.jsx)(sa.a,{in:c,timeout:"auto",unmountOnExit:!0,children:Object(Be.jsxs)(oa.a,{margin:1,children:[Object(Be.jsx)(Je.a,{variant:"h6",gutterBottom:!0,component:"div",children:"Raw Material Detail"}),Object(Be.jsx)(Sa,{raw_material:s,includeUnits:!0})]})})})})]})}function En(e){return Object(Be.jsx)(da.a,{component:ua.a,children:Object(Be.jsxs)(ea.a,{"aria-label":"collapsible table",children:[Object(Be.jsx)(ta.a,{children:Object(Be.jsxs)(aa.a,{children:[Object(Be.jsx)(ra.a,{}),e.columns.map((function(e){return Object(Be.jsx)(ra.a,{children:e.title})}))]})}),Object(Be.jsx)(na.a,{children:e.data.map((function(t,a){return Object(Be.jsx)(Wn,{row:t,columns:e.columns},a)}))})]})})}Object(We.a)({table:{"& th":{textAlign:"center"},"& td":{textAlign:"center"}}});var Hn=a(707),Bn=a(713),qn={block:Object(Ze.a)(Object(Ze.a)({color:"inherit",padding:"15px",textTransform:"uppercase",borderRadius:"3px",textDecoration:"none",position:"relative",display:"block"},nt),{},{fontWeight:"500",fontSize:"12px"}),left:{float:"left!important",display:"block"},right:{padding:"15px 0",margin:"0",fontSize:"14px",float:"right!important"},footer:Object(Ze.a)({bottom:"0",borderTop:"1px solid "+dt[11],padding:"15px 0"},nt),container:at,a:{color:rt,textDecoration:"none",backgroundColor:"transparent"},list:{marginBottom:"0",padding:"0",marginTop:"0"},inlineBlock:{display:"inline-block",padding:"0px",width:"auto"}},Ln=Object(We.a)(qn);function Qn(e){var t=Ln();return Object(Be.jsx)("footer",{className:t.footer,children:Object(Be.jsxs)("div",{className:t.container,children:[Object(Be.jsx)("div",{className:t.left,children:Object(Be.jsx)(Bn.a,{className:t.list,children:Object(Be.jsx)(Hn.a,{className:t.inlineBlock,children:Object(Be.jsx)("a",{href:"/",className:t.block,children:"Home"})})})}),Object(Be.jsx)("p",{className:t.right,children:Object(Be.jsxs)("span",{children:["\xa9 ",1900+(new Date).getYear()," Jinit Creation"]})})]})})}var Yn=a(405),Un=a(406),Vn=a(335),$n={disabled:{"&:before":{backgroundColor:"transparent !important"}},noMargin:{marginTop:"0px !Important",marginBottom:"0px !Important",paddingBottom:"10px",minWidth:"max-content"},underline:{"&:hover:not($disabled):before,&:before":{borderColor:dt[4]+" !important",borderWidth:"1px !important"},"&:after":{borderColor:rt[0]}},underlineError:{"&:after":{borderColor:it[0]}},underlineSuccess:{"&:after":{borderColor:ot[0]}},labelRoot:Object(Ze.a)(Object(Ze.a)({},nt),{},{color:dt[3]+" !important",fontWeight:"400",fontSize:"14px",lineHeight:"1.42857",letterSpacing:"unset"}),labelRootError:{color:it[0]+" !important"},labelRootSuccess:{color:ot[0]},feedback:{top:"18px",right:"0",zIndex:"2",display:"block",width:"24px",height:"24px",textAlign:"center",pointerEvents:"none"},marginTop:{marginTop:"16px"},formControl:{paddingBottom:"10px",margin:"27px 0 0 0",position:"relative",verticalAlign:"unset"},noMarginFormControl:{paddingBottom:"10px",position:"relative",verticalAlign:"unset"},labelRTL:{right:0,transition:"all 200ms cubic-bezier(0.0, 0, 0.2, 1) 0ms","&.MuiInputLabel-shrink":{transform:"translate(0, 1.5px)"}},input:{color:dt[7]+" !important",fontSize:"0.900rem"},indeterminateColor:{color:"#a56863"},selectAllText:{fontWeight:600},selectedAll:{backgroundColor:"rgba(0, 0, 0, 0.08)","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.08)"}}},Gn=a(407),Kn=["formControlProps","labelText","id","helperTextId","isHelperText","helperText","labelProps","inputProps","error","success","rtlActive","noMargin"],Zn=Object(We.a)($n);function Jn(e){var t,a,n,r=Zn(),c=e.formControlProps,i=e.labelText,o=e.id,s=e.helperTextId,l=e.isHelperText,d=e.helperText,u=e.labelProps,j=e.inputProps,b=e.error,p=e.success,h=e.rtlActive,m=e.noMargin,x=Object(Pt.a)(e,Kn),O=fa()((t={},Object(ma.a)(t," "+r.labelRootError,b),Object(ma.a)(t," "+r.labelRootSuccess,p&&!b),Object(ma.a)(t," "+r.labelRTL,h),t)),f=fa()((a={},Object(ma.a)(a,r.underlineError,b),Object(ma.a)(a,r.underlineSuccess,p&&!b),Object(ma.a)(a,r.underline,!0),a)),g=fa()(Object(ma.a)({},r.marginTop,void 0===i)),v=fa()((n={},Object(ma.a)(n,c.className,!0),Object(ma.a)(n,r.formControl,!m),Object(ma.a)(n,r.noMarginFormControl,!!m),n)),y={maxLength:j&&j.maxLength?j.maxLength:void 0,minLength:j&&j.minLength?j.minLength:void 0,step:j&&j.step?j.step:void 0};return Object(Be.jsxs)(Yn.a,Object(Ze.a)(Object(Ze.a)({},c),{},{className:v,styles:e.noTopMargin?{marginTop:"0px"}:null,children:[void 0!==i?Object(Be.jsx)(Un.a,Object(Ze.a)(Object(Ze.a)({className:r.labelRoot+O,htmlFor:o,styles:e.noTopMargin?{marginTop:"0px"}:null},u),{},{children:i})):null,Object(Be.jsx)(Vn.a,Object(Ze.a)(Object(Ze.a)(Object(Ze.a)({classes:{root:g,disabled:r.disabled,underline:f,input:r.input}},x),{},{id:o},j),{},{inputProps:y})),l?Object(Be.jsx)(Gn.a,{id:s,error:b,children:d}):null]}))}var Xn,er=a(133),tr=a(240),ar=a(815),nr=a(489),rr=["formControlProps","labelText","id","options","optionKey","autocompleteId","labelProps","inputProps","error","success","rtlActive","autoComplete","onChange","value","getOptionLabel","onHighlightChange","helperTextId","isHelperText","helperText","onTextFieldValueChange","isInputPropsPresent","inputRef","noMarginTop"],cr=Object(We.a)($n);function ir(e){var t=cr(),a=Object(tr.a)(nr.a)(Xn||(Xn=Object(er.a)(["\n    label.Mui-focused {\n      color: green;\n    }\n    .MuiInput-underline:after {\n      border-color: ",";\n    }\n    .MuiInput-underline:before {\n      border-color: ",' !important;\n    }\n    .MuiFormLabel-root {\n      color: #aaaaaa !important;\n      font-size: 14px;\n      font-family: "Roboto", "Helvetica", "Arial", sans-serif;\n      font-weight: 400;\n      line-height: 1.42857;\n      letter-spacing: unset;\n    }\n  '])),rt[0],dt[4]),n=(e.formControlProps,e.labelText),r=e.id,c=e.options,i=e.optionKey,o=e.autocompleteId,s=(e.labelProps,e.inputProps),l=e.error,d=(e.success,e.rtlActive,e.autoComplete,e.onChange),u=e.value,j=e.getOptionLabel,b=e.onHighlightChange,p=e.helperTextId,h=e.isHelperText,m=e.helperText,x=e.onTextFieldValueChange,O=e.isInputPropsPresent,f=e.inputRef,g=e.noMarginTop,v=Object(Pt.a)(e,rr),y=fa()(Object(ma.a)({},t.marginTop,void 0===n));return Object(Be.jsx)(ar.a,Object(Ze.a)(Object(Ze.a)({id:o,options:c,getOptionLabel:j||function(e){return e[i]},onHighlightChange:b||null,onChange:d,value:u},v),{},{classes:{root:y,input:t.input,popper:t.input,listbox:t.input},renderInput:function(e){return Object(Be.jsxs)(Be.Fragment,{children:[O?Object(Be.jsx)(a,Object(Ze.a)(Object(Ze.a)({id:r,inputRef:f},e),{},{style:{margin:g?"0":"27px 0 0 0"},onChange:x,label:n,margin:"normal",InputProps:Object(Ze.a)(Object(Ze.a)({},e.InputProps),s)})):Object(Be.jsx)(a,Object(Ze.a)(Object(Ze.a)({id:r,inputRef:f},e),{},{style:{margin:g?"0":"27px 0 0 0"},onChange:x,label:n,margin:"normal"})),h?Object(Be.jsx)(Gn.a,{id:p,error:l,children:m}):null]})}}))}var or=a(7),sr=a.n(or),lr=a(12),dr=a(829),ur=a(346),jr=a(186),br=a.n(jr),pr="http://128.199.22.73:1337",hr="http://128.199.22.73",mr="".concat(pr,"/webapi/private"),xr="".concat(pr,"/auth/local"),Or="".concat(mr,"/getAllAdmins"),fr="".concat(mr,"/getAllStaff"),gr="".concat(mr,"/departments"),vr="".concat(mr,"/units"),yr="".concat(mr,"/parties"),_r="".concat(mr,"/parties/check_duplicate_party"),wr="".concat(mr,"/sellers"),Cr="".concat(mr,"/sellers/getSellerNameForAutoComplete"),Sr="".concat(mr,"/sellers/check_duplicate_seller"),kr="".concat(mr,"/categories"),Tr="".concat(mr,"/colors"),Pr="".concat(mr,"/raw-materials"),Nr=("".concat(mr,"/raw-materials/getRawMaterialNameForAutoComplete"),"".concat(mr,"/monthly-sheets")),Dr="".concat(mr,"/monthly-sheets/add-update-entries"),Ir="".concat(mr,"/monthly-sheets/get-monthly-data"),Mr="".concat(mr,"/goods-returns"),Rr="".concat(mr,"/sales"),zr="".concat(mr,"/sales/export/downloadExcelData"),Ar="".concat(mr,"/sale-returns"),Fr="".concat(mr,"/individual-kachha-purchases"),Wr="".concat(mr,"/designs"),Er="".concat(mr,"/view-design"),Hr="".concat(mr,"/designs-for-parties"),Br="".concat(mr,"/designs/duplicate-design"),qr="".concat(mr,"/designs-and-materials"),Lr=("".concat(mr,"/designs-and-materials/get-material-count"),"".concat(mr,"/ready-materials")),Qr=("".concat(mr,"/ready-materials/change_color_dependency"),"".concat(mr,"/raw-material-and-quantity-for-ready-materials")),Yr=("".concat(mr,"/raw-material-and-quantity-for-ready-materials/update_quantity"),"".concat(mr,"/raw-material-and-quantity-for-ready-materials/add-raw-material"),"".concat(mr,"/raw-material-and-quantity-for-ready-materials/delete-raw-material"),"".concat(mr,"/orders")),Ur="".concat(mr,"/orders/department_sheet"),Vr="".concat(mr,"/orders/check_availibility"),$r="".concat(mr,"/orders/check_all_order_availibility"),Gr="".concat(mr,"/orders/download-order"),Kr="".concat(mr,"/orders/download-order-sheet"),Zr="".concat(mr,"/purchases"),Jr="".concat(mr,"/purchases/ledger"),Xr="".concat(mr,"/purchases/download-ledger"),ec="".concat(mr,"/purchase-payments"),tc=function(){var e=Object(lr.a)(sr.a.mark((function e(t){var a,n,r,c,i=arguments;return sr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=i.length>1&&void 0!==i[1]?i[1]:{},n=i.length>2?i[2]:void 0,r=i.length>3&&void 0!==i[3]?i[3]:{"content-type":"application/json",Authorization:"Bearer ".concat(n)},c=t,e.next=6,br()(c,{method:"GET",headers:r,params:a}).then((function(e){return e})).catch((function(e){throw console.log("error => ",e.response,e),e&&e.response&&(e.response.status||e.response.statusCode)&&(401===e.response.status||401===e.response.statusCode)&&(Ke.clearAppStorage(),window.location.href="".concat(hr,"/login")),e}));case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ac=function(){var e=Object(lr.a)(sr.a.mark((function e(t){var a,n,r,c,i,o=arguments;return sr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>1&&void 0!==o[1]?o[1]:{},n=o.length>2?o[2]:void 0,r=o.length>3&&void 0!==o[3]?o[3]:{},c=o.length>4&&void 0!==o[4]?o[4]:{"content-type":"application/json",Authorization:"Bearer ".concat(n)},i=t,e.next=7,br()(i,{method:"POST",headers:c,data:a,params:r}).then((function(e){return e})).catch((function(e){throw console.log("error => ",e.response,e),e&&e.response&&(e.response.status||e.response.statusCode)&&(401===e.response.status||401===e.response.statusCode)&&(Ke.clearAppStorage(),window.location.href="".concat(hr,"/login")),e}));case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),nc=function(){var e=Object(lr.a)(sr.a.mark((function e(t){var a,n,r,c,i=arguments;return sr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=i.length>1&&void 0!==i[1]?i[1]:{},n=i.length>2&&void 0!==i[2]?i[2]:{},r=i.length>3&&void 0!==i[3]?i[3]:{"content-type":"application/json"},c=t,e.next=6,br()(c,{method:"POST",headers:r,data:a,params:n}).then((function(e){return e})).catch((function(e){throw console.log("error => ",e.response,e),e&&e.response&&(e.response.status||e.response.statusCode)&&(401===e.response.status||401===e.response.statusCode)&&(Ke.clearAppStorage(),window.location.href="".concat(hr,"/login")),e}));case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),rc=function(){var e=Object(lr.a)(sr.a.mark((function e(t,a,n,r){var c,i,o,s=arguments;return sr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=s.length>4&&void 0!==s[4]?s[4]:{},i=s.length>5&&void 0!==s[5]?s[5]:{"content-type":"application/json",Authorization:"Bearer ".concat(r)},o=t+"/"+a,e.next=5,br()(o,{method:"PUT",headers:i,data:n,params:c}).then((function(e){return e})).catch((function(e){throw console.log("error => ",e.response,e),e&&e.response&&(e.response.status||e.response.statusCode)&&(401===e.response.status||401===e.response.statusCode)&&(Ke.clearAppStorage(),window.location.href="".concat(hr,"/login")),e}));case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t,a,n,r){return e.apply(this,arguments)}}(),cc=function(){var e=Object(lr.a)(sr.a.mark((function e(t,a,n){var r,c,i,o=arguments;return sr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>3&&void 0!==o[3]?o[3]:{},c=o.length>4&&void 0!==o[4]?o[4]:{"content-type":"application/json",Authorization:"Bearer ".concat(n)},i=t+"/"+a,e.next=5,br()(i,{method:"DELETE",headers:c,params:r}).then((function(e){return e})).catch((function(e){throw console.log("error => ",e.response,e),e&&e.response&&(e.response.status||e.response.statusCode)&&(401===e.response.status||401===e.response.statusCode)&&(Ke.clearAppStorage(),window.location.href="".concat(hr,"/login")),e}));case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),ic=function(){var e=Object(lr.a)(sr.a.mark((function e(t){var a,n,r,c,i,o,s=arguments;return sr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>1&&void 0!==s[1]?s[1]:{},n=s.length>2?s[2]:void 0,r=s.length>3&&void 0!==s[3]?s[3]:{},c=s.length>4&&void 0!==s[4]?s[4]:function(){},i=s.length>5&&void 0!==s[5]?s[5]:{"content-type":"application/json",Authorization:"Bearer ".concat(n),Accept:"application/pdf"},o=t,e.next=8,br()(o,{method:"POST",responseType:"arraybuffer",headers:i,data:a,params:r,onDownloadProgress:c}).then((function(e){return e})).catch((function(e){throw console.log("error => ",e.response,e),e&&e.response&&(e.response.status||e.response.statusCode)&&(401===e.response.status||401===e.response.statusCode)&&(Ke.clearAppStorage(),window.location.href="".concat(hr,"/login")),e}));case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),oc=function(e){var t=Object(n.useState)(e.selectedValue),a=Object(ia.a)(t,2),r=a[0],c=a[1],i={control:function(t,a){return Object(Ze.a)(Object(Ze.a)({},t),{},{border:"2px solid ".concat(e.isError?"red":"#ddd"),boxShadow:"none","&:hover":{border:"2px solid ".concat(e.isError?"red":"#a56863")},"&:click":{border:"2px solid ".concat(e.isError?"red":"#a56863")}})},menu:function(e,t){return Object(Ze.a)(Object(Ze.a)({},e),{},{zIndex:1e8})}};Object(n.useEffect)((function(){var t=e.selectedValue;t&&t.value&&(!t.label||On(t.label))?o(t.value):c(e.selectedValue)}),[e]);var o=function(){var e=Object(lr.a)(sr.a.mark((function e(t){return sr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tc(wr+"/"+t,{},Ke.getToken()).then((function(e){c({label:e.data.seller_name,value:e.data.id})})).catch((function(e){}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(Be.jsxs)(Be.Fragment,{children:[Object(Be.jsx)(ur.a,{cacheOptions:!0,loadOptions:function(t){var a=Object(ma.a)({page:1,pageSize:30},"".concat(e.searchString,"_contains"),t);return""===t||On(t)?[]:new Promise((function(t,n){fetch(e.apiName+"?"+new URLSearchParams(a),{method:"GET",headers:{"content-type":"application/json",Authorization:"Bearer "+Ke.getToken()}}).then((function(e){if(e.ok)return e.json();401===e.status&&(Ke.clearAppStorage(),window.location.href="".concat(hr,"/login"))})).then((function(a){t(a.data.map((function(t){return console.log("data ",t),{label:e.isRawMaterial?"".concat(t[e.searchString]," -").concat(t.size," -").concat(t.category.name," -").concat(t.department.name):t[e.searchString],value:t.id,allData:t}})))})).catch((function(e){throw e}))}))},defaultOptions:!0,onInputChange:function(e){return e.replace(/\W/g,"")},onChange:function(t,a){e.setSelectedData(t)},isClearable:!0,placeholder:e.placeholder?e.placeholder:"Select...",styles:i,value:r}),e.isError&&Object(Be.jsx)(dr.a,{error:e.isError,children:e.errorText})]})},sc=a(408),lc={borderLess:{backgroundColor:"#FFF !Important",boxShadow:"none !Important"},button:{textDecoration:"none",minHeight:"auto",minWidth:"auto",backgroundColor:dt[0],color:jt,boxShadow:"0 2px 2px 0 rgba("+Xe(dt[0])+", 0.14), 0 3px 1px -2px rgba("+Xe(dt[0])+", 0.2), 0 1px 5px 0 rgba("+Xe(dt[0])+", 0.12)",border:"none",borderRadius:"3px",position:"relative",padding:"12px 30px",margin:".3125rem 1px",fontSize:"12px",fontWeight:"400",textTransform:"uppercase",letterSpacing:"0",willChange:"box-shadow, transform",transition:"box-shadow 0.2s cubic-bezier(0.4, 0, 1, 1), background-color 0.2s cubic-bezier(0.4, 0, 0.2, 1)",lineHeight:"1.42857143",textAlign:"center",whiteSpace:"nowrap",verticalAlign:"middle",touchAction:"manipulation",cursor:"pointer","&:hover,&:focus":{color:jt,backgroundColor:dt[0],boxShadow:"0 14px 26px -12px rgba("+Xe(dt[0])+", 0.42), 0 4px 23px 0px rgba("+Xe(ut)+", 0.12), 0 8px 10px -5px rgba("+Xe(dt[0])+", 0.2)"},"& .fab,& .fas,& .far,& .fal, &.material-icons":{position:"relative",display:"inline-block",top:"0",marginTop:"-1em",marginBottom:"-1em",fontSize:"1.1rem",marginRight:"4px",verticalAlign:"middle"},"& svg":{position:"relative",display:"inline-block",top:"0",width:"18px",height:"18px",marginRight:"4px",verticalAlign:"middle"},"&$justIcon":{"& .fab,& .fas,& .far,& .fal,& .material-icons":{marginTop:"0px",position:"absolute",width:"100%",transform:"none",left:"0px",top:"0px",height:"100%",lineHeight:"41px",fontSize:"20px"}}},rose_text_color:{color:lt[0],"&:hover,&:focus":{color:lt[0],boxShadow:"0 14px 26px -12px rgba("+Xe(rt[0])+", 0.42), 0 4px 23px 0px rgba("+Xe(ut)+", 0.12), 0 8px 10px -5px rgba("+Xe(rt[0])+", 0.2)"}},primary_text_color:{color:rt[0],"&:hover,&:focus":{color:rt[0],boxShadow:"0 14px 26px -12px rgba("+Xe(rt[0])+", 0.42), 0 4px 23px 0px rgba("+Xe(ut)+", 0.12), 0 8px 10px -5px rgba("+Xe(rt[0])+", 0.2)"}},info_text_color:{color:st[0],"&:hover,&:focus":{color:st[0],boxShadow:"0 14px 26px -12px rgba("+Xe(st[0])+", 0.42), 0 4px 23px 0px rgba("+Xe(ut)+", 0.12), 0 8px 10px -5px rgba("+Xe(st[0])+", 0.2)"}},success_text_color:{color:ot[0],"&:hover,&:focus":{color:ot[0],boxShadow:"0 14px 26px -12px rgba("+Xe(ot[0])+", 0.42), 0 4px 23px 0px rgba("+Xe(ut)+", 0.12), 0 8px 10px -5px rgba("+Xe(ot[0])+", 0.2)"}},warning_text_color:{color:ct[0],"&:hover,&:focus":{color:ct[0],boxShadow:"0 14px 26px -12px rgba("+Xe(ct[0])+", 0.42), 0 4px 23px 0px rgba("+Xe(ut)+", 0.12), 0 8px 10px -5px rgba("+Xe(ct[0])+", 0.2)"}},danger_text_color:{color:it[0],"&:hover,&:focus":{color:it[0],boxShadow:"0 14px 26px -12px rgba("+Xe(it[0])+", 0.42), 0 4px 23px 0px rgba("+Xe(ut)+", 0.12), 0 8px 10px -5px rgba("+Xe(it[0])+", 0.2)"}},white:{"&,&:focus,&:hover":{backgroundColor:jt,color:dt[0]}},rose:{backgroundColor:lt[0],boxShadow:"0 2px 2px 0 rgba("+Xe(lt[0])+", 0.14), 0 3px 1px -2px rgba("+Xe(lt[0])+", 0.2), 0 1px 5px 0 rgba("+Xe(lt[0])+", 0.12)","&:hover,&:focus":{backgroundColor:lt[0],boxShadow:"0 14px 26px -12px rgba("+Xe(lt[0])+", 0.42), 0 4px 23px 0px rgba("+Xe(ut)+", 0.12), 0 8px 10px -5px rgba("+Xe(lt[0])+", 0.2)"}},primary:{backgroundColor:rt[0],boxShadow:"0 2px 2px 0 rgba("+Xe(rt[0])+", 0.14), 0 3px 1px -2px rgba("+Xe(rt[0])+", 0.2), 0 1px 5px 0 rgba("+Xe(rt[0])+", 0.12)","&:hover,&:focus":{backgroundColor:rt[0],boxShadow:"0 14px 26px -12px rgba("+Xe(rt[0])+", 0.42), 0 4px 23px 0px rgba("+Xe(ut)+", 0.12), 0 8px 10px -5px rgba("+Xe(rt[0])+", 0.2)"}},info:{backgroundColor:st[0],boxShadow:"0 2px 2px 0 rgba("+Xe(st[0])+", 0.14), 0 3px 1px -2px rgba("+Xe(st[0])+", 0.2), 0 1px 5px 0 rgba("+Xe(st[0])+", 0.12)","&:hover,&:focus":{backgroundColor:st[0],boxShadow:"0 14px 26px -12px rgba("+Xe(st[0])+", 0.42), 0 4px 23px 0px rgba("+Xe(ut)+", 0.12), 0 8px 10px -5px rgba("+Xe(st[0])+", 0.2)"}},success:{backgroundColor:ot[0],boxShadow:"0 2px 2px 0 rgba("+Xe(ot[0])+", 0.14), 0 3px 1px -2px rgba("+Xe(ot[0])+", 0.2), 0 1px 5px 0 rgba("+Xe(ot[0])+", 0.12)","&:hover,&:focus":{backgroundColor:ot[0],boxShadow:"0 14px 26px -12px rgba("+Xe(ot[0])+", 0.42), 0 4px 23px 0px rgba("+Xe(ut)+", 0.12), 0 8px 10px -5px rgba("+Xe(ot[0])+", 0.2)"}},warning:{backgroundColor:ct[0],boxShadow:"0 2px 2px 0 rgba("+Xe(ct[0])+", 0.14), 0 3px 1px -2px rgba("+Xe(ct[0])+", 0.2), 0 1px 5px 0 rgba("+Xe(ct[0])+", 0.12)","&:hover,&:focus":{backgroundColor:ct[0],boxShadow:"0 14px 26px -12px rgba("+Xe(ct[0])+", 0.42), 0 4px 23px 0px rgba("+Xe(ut)+", 0.12), 0 8px 10px -5px rgba("+Xe(ct[0])+", 0.2)"}},danger:{backgroundColor:it[0],boxShadow:"0 2px 2px 0 rgba("+Xe(it[0])+", 0.14), 0 3px 1px -2px rgba("+Xe(it[0])+", 0.2), 0 1px 5px 0 rgba("+Xe(it[0])+", 0.12)","&:hover,&:focus":{backgroundColor:it[0],boxShadow:"0 14px 26px -12px rgba("+Xe(it[0])+", 0.42), 0 4px 23px 0px rgba("+Xe(ut)+", 0.12), 0 8px 10px -5px rgba("+Xe(it[0])+", 0.2)"}},simple:{"&,&:focus,&:hover":{color:jt,background:"transparent",boxShadow:"none"},"&$rose":{"&,&:focus,&:hover,&:visited":{color:lt[0]}},"&$primary":{"&,&:focus,&:hover,&:visited":{color:rt[0]}},"&$info":{"&,&:focus,&:hover,&:visited":{color:st[0]}},"&$success":{"&,&:focus,&:hover,&:visited":{color:ot[0]}},"&$warning":{"&,&:focus,&:hover,&:visited":{color:ct[0]}},"&$danger":{"&,&:focus,&:hover,&:visited":{color:it[0]}}},transparent:{"&,&:focus,&:hover":{color:"inherit",background:"transparent",boxShadow:"none"}},disabled:{opacity:"0.65",pointerEvents:"none"},lg:{padding:"1.125rem 2.25rem",fontSize:"0.875rem",lineHeight:"1.333333",borderRadius:"0.2rem"},sm:{padding:"0.40625rem 1.25rem",fontSize:"0.6875rem",lineHeight:"1.5",borderRadius:"0.2rem"},round:{borderRadius:"30px"},block:{width:"100% !important"},link:{"&,&:hover,&:focus":{backgroundColor:"transparent",color:dt[0],boxShadow:"none"}},justIcon:{paddingLeft:"12px",paddingRight:"12px",fontSize:"20px",height:"41px",minWidth:"41px",width:"41px","& .fab,& .fas,& .far,& .fal,& svg,& .material-icons":{marginRight:"0px"},"&$lg":{height:"57px",minWidth:"57px",width:"57px",lineHeight:"56px","& .fab,& .fas,& .far,& .fal,& .material-icons":{fontSize:"32px",lineHeight:"56px"},"& svg":{width:"32px",height:"32px"}},"&$sm":{height:"30px",minWidth:"30px",width:"30px","& .fab,& .fas,& .far,& .fal,& .material-icons":{fontSize:"17px",lineHeight:"29px"},"& svg":{width:"17px",height:"17px"}}}},dc=["color","round","children","disabled","simple","size","block","link","justIcon","className","muiClasses","borderLess"],uc=Object(We.a)(lc);function jc(e){var t,a,n=uc(),r=e.color,c=e.round,i=e.children,o=e.disabled,s=e.simple,l=e.size,d=e.block,u=e.link,j=e.justIcon,b=e.className,p=e.muiClasses,h=e.borderLess,m=Object(Pt.a)(e,dc),x=fa()((t={},Object(ma.a)(t,n.button,!0),Object(ma.a)(t,n[l],l),Object(ma.a)(t,n[r],r),Object(ma.a)(t,n.round,c),Object(ma.a)(t,n.disabled,o),Object(ma.a)(t,n.simple,s),Object(ma.a)(t,n.block,d),Object(ma.a)(t,n.link,u),Object(ma.a)(t,n.justIcon,j),Object(ma.a)(t,b,b),t)),O=fa()((a={},Object(ma.a)(a,n.borderLess,!0),Object(ma.a)(a,n[r+"_text_color"],!0),Object(ma.a)(a,n.button,!0),Object(ma.a)(a,n[l],l),Object(ma.a)(a,n.round,c),Object(ma.a)(a,n.disabled,o),Object(ma.a)(a,n.simple,s),Object(ma.a)(a,n.block,d),Object(ma.a)(a,n.link,u),Object(ma.a)(a,n.justIcon,j),Object(ma.a)(a,b,b),a));return Object(Be.jsx)(sc.a,Object(Ze.a)(Object(Ze.a)({},m),{},{classes:p,className:h?O:x,children:i}))}var bc=a(784),pc=a(401),hc=a(511),mc=a(527),xc=a.n(mc),Oc=a(480),fc=a(712),gc=a(423),vc=a(718),yc=a(714),_c=a(787),wc=a(526),Cc=a.n(wc),Sc=a(720),kc=a(45),Tc=function(e){return{buttonLink:Object(ma.a)({},e.breakpoints.down("md"),{display:"flex",marginLeft:"30px",width:"auto"}),links:Object(ma.a)({width:"20px",height:"20px",zIndex:"4"},e.breakpoints.down("md"),{display:"block",width:"30px",height:"30px",color:dt[9],marginRight:"15px"}),linkText:Object(Ze.a)(Object(Ze.a)({zIndex:"4"},nt),{},{fontSize:"14px"}),popperClose:{pointerEvents:"none"},popperResponsive:Object(ma.a)({},e.breakpoints.down("md"),{zIndex:"1640",position:"static",float:"none",width:"auto",marginTop:"0",backgroundColor:"transparent",border:"0",WebkitBoxShadow:"none",boxShadow:"none",color:"black"}),popperNav:Object(ma.a)({},e.breakpoints.down("sm"),{position:"static !important",left:"unset !important",top:"unset !important",transform:"none !important",willChange:"unset !important","& > div":{boxShadow:"none !important",marginLeft:"0rem",marginRight:"0rem",transition:"none !important",marginTop:"0px !important",marginBottom:"0px !important",padding:"0px !important",backgroundColor:"transparent !important","& ul li":{color:"#FFF !important",margin:"10px 15px 0!important",padding:"10px 15px !important","&:hover":{backgroundColor:"hsla(0,0%,78%,.2)",boxShadow:"none"}}}}),dropdown:{borderRadius:"3px",border:"0",boxShadow:"0 2px 5px 0 rgba("+Xe(ut)+", 0.26)",top:"100%",zIndex:"1000",minWidth:"160px",padding:"5px 0",margin:"2px 0 0",fontSize:"14px",textAlign:"left",listStyle:"none",backgroundColor:jt,WebkitBackgroundClip:"padding-box",backgroundClip:"padding-box"},dropdownItem:Object(Ze.a)(Object(Ze.a)({},nt),{},{fontSize:"13px",padding:"10px 20px",margin:"0 5px",borderRadius:"2px",WebkitTransition:"all 150ms linear",MozTransition:"all 150ms linear",OTransition:"all 150ms linear",MsTransition:"all 150ms linear",transition:"all 150ms linear",display:"block",clear:"both",fontWeight:"400",lineHeight:"1.42857143",color:dt[8],whiteSpace:"nowrap",height:"unset",minHeight:"unset","&:hover":Object(Ze.a)({backgroundColor:rt[0],color:jt},pt)})}},Pc=function(e){var t,a,n;return Object(Ze.a)(Object(Ze.a)({},Tc(e)),{},{search:Object(ma.a)({"& > div":{marginTop:"0"}},e.breakpoints.down("sm"),{margin:"10px 15px !important",float:"none !important",paddingTop:"1px",paddingBottom:"1px",padding:"0!important",width:"60%",marginTop:"40px","& input":{color:jt}}),linkText:Object(Ze.a)(Object(Ze.a)({zIndex:"4"},nt),{},{fontSize:"14px",margin:"0px",color:jt}),buttonLink:Object(ma.a)({},e.breakpoints.down("sm"),{display:"flex",margin:"10px 15px 0",width:"-webkit-fill-available","& svg":{width:"24px",height:"30px",marginRight:"15px",marginLeft:"-15px"},"& .fab,& .fas,& .far,& .fal,& .material-icons":{fontSize:"24px",lineHeight:"30px",width:"24px",height:"30px",marginRight:"15px",marginLeft:"-15px"},"& > span":{justifyContent:"flex-start",width:"100%"}}),searchButton:Object(ma.a)({},e.breakpoints.down("sm"),{top:"-50px !important",marginRight:"22px",float:"right"}),margin:{zIndex:"4",margin:"0"},searchIcon:{width:"17px",zIndex:"4"},notifications:(t={zIndex:"4"},Object(ma.a)(t,e.breakpoints.up("md"),{position:"absolute",top:"2px",border:"1px solid #FFF",right:"4px",fontSize:"9px",background:it[0],color:jt,minWidth:"16px",height:"16px",borderRadius:"10px",textAlign:"center",lineHeight:"16px",verticalAlign:"middle",display:"block"}),Object(ma.a)(t,e.breakpoints.down("sm"),Object(Ze.a)(Object(Ze.a)({},nt),{},{fontSize:"14px",marginRight:"8px"})),t),manager:(a={},Object(ma.a)(a,e.breakpoints.down("sm"),{width:"100%"}),Object(ma.a)(a,"display","inline-block"),a),searchWrapper:(n={},Object(ma.a)(n,e.breakpoints.down("sm"),{width:"-webkit-fill-available",margin:"10px 15px 0"}),Object(ma.a)(n,"display","inline-block"),n)})},Nc=Object(We.a)(Pc);function Dc(){var e=Object(kc.a)(),t=Object(Sc.a)(e.breakpoints.up("lg"),{defaultMatches:!0}),a=Nc(),n=Object(s.useHistory)(),c=r.a.useState(null),i=Object(ia.a)(c,2),o=i[0],d=i[1],u=function(){d(null)},j=function(e){e.preventDefault(),Ke.clearAppStorage(),n.push(l)};return Object(Be.jsxs)("div",{children:[Object(Be.jsx)("div",{className:a.searchWrapper}),t?Ke.getUserInfo().name:null,Object(Be.jsx)(hc.a,{mdUp:!0,implementation:"css",children:Object(Be.jsx)("div",{className:a.manager,style:{padding:"12px 30px"},children:Object(Be.jsx)("div",{className:a.buttonLink,children:Object(Be.jsx)("p",{className:a.linkText,children:Ke.getUserInfo().name})})})}),Object(Be.jsxs)("div",{className:a.manager,children:[Object(Be.jsxs)(jc,{color:window.innerWidth>959?"transparent":"white",justIcon:window.innerWidth>959,simple:!(window.innerWidth>959),"aria-owns":o?"profile-menu-list-grow":null,"aria-haspopup":"true",onClick:function(e){o&&o.contains(e.target)?d(null):d(e.currentTarget)},className:a.buttonLink,children:[Object(Be.jsx)(Cc.a,{className:a.icons}),Object(Be.jsx)(hc.a,{mdUp:!0,implementation:"css",children:Object(Be.jsx)("p",{className:a.linkText,children:"Profile"})})]}),Object(Be.jsx)(yc.a,{open:Boolean(o),anchorEl:o,transition:!0,disablePortal:!0,className:fa()(Object(ma.a)({},a.popperClose,!o))+" "+a.popperNav,children:function(e){var t=e.TransitionProps,n=e.placement;return Object(Be.jsx)(gc.a,Object(Ze.a)(Object(Ze.a)({},t),{},{id:"profile-menu-list-grow",style:{transformOrigin:"bottom"===n?"center top":"center bottom"},children:Object(Be.jsx)(ua.a,{children:Object(Be.jsx)(vc.a,{onClickAway:u,children:Object(Be.jsxs)(fc.a,{role:"menu",children:[Object(Be.jsx)(Oc.a,{onClick:u,className:a.dropdownItem,children:"Profile"}),Object(Be.jsx)(Oc.a,{onClick:u,className:a.dropdownItem,children:"Settings"}),Object(Be.jsx)(_c.a,{light:!0}),Object(Be.jsx)(Oc.a,{onClick:j,className:a.dropdownItem,children:"Logout"})]})})})}))}})]})]})}var Ic=function(){return{appBar:{backgroundColor:"transparent",boxShadow:"none",borderBottom:"0",marginBottom:"0",position:"absolute",width:"100%",paddingTop:"10px",zIndex:"1029",paddingLeft:"9px",color:dt[7],border:"0",borderRadius:"3px",minHeight:"50px",display:"block"},container:Object(Ze.a)(Object(Ze.a)({},at),{},{minHeight:"50px"}),flex:{flex:1},title:Object(Ze.a)(Object(Ze.a)({},nt),{},{letterSpacing:"unset",lineHeight:"30px",fontSize:"18px",borderRadius:"3px",textTransform:"none",color:"inherit",margin:"0",paddingLeft:"0px","&:hover,&:focus":{background:"transparent"}}),appResponsive:{top:"8px"},primary:Object(Ze.a)({backgroundColor:rt[0],color:jt},St),info:Object(Ze.a)({backgroundColor:st[0],color:jt},St),success:Object(Ze.a)({backgroundColor:ot[0],color:jt},St),warning:Object(Ze.a)({backgroundColor:ct[0],color:jt},St),danger:Object(Ze.a)({backgroundColor:it[0],color:jt},St)}},Mc=Object(We.a)(Ic);function Rc(e){var t=Mc(),a=e.color,n=e.header,r=fa()(Object(ma.a)({}," "+t[a],a));return Object(Be.jsx)(bc.a,{className:t.appBar+r,children:Object(Be.jsxs)(pc.a,{className:t.container,children:[Object(Be.jsx)("div",{className:t.flex,children:Object(Be.jsx)(jc,{color:"transparent",href:"#",className:t.title,children:n})}),Object(Be.jsx)(hc.a,{smDown:!0,implementation:"css",children:Object(Be.jsx)(Dc,{})}),Object(Be.jsx)(hc.a,{mdUp:!0,implementation:"css",children:Object(Be.jsx)(la.a,{color:"inherit","aria-label":"open drawer",onClick:e.handleDrawerToggle,children:Object(Be.jsx)(xc.a,{})})})]})})}var zc=a(125),Ac=a(494),Fc=a(529),Wc=a.n(Fc),Ec=a(528),Hc=a.n(Ec),Bc=function(e){var t,a;return{drawerPaper:Object(Ze.a)(Object(Ze.a)({border:"none",position:"fixed",top:"0",bottom:"0",left:"0",zIndex:"1"},bt),{},(t={width:et},Object(ma.a)(t,e.breakpoints.up("md"),{width:et,position:"fixed",height:"100%"}),Object(ma.a)(t,e.breakpoints.down("sm"),Object(Ze.a)(Object(Ze.a)({width:et},bt),{},{position:"fixed",display:"block",top:"0",height:"100vh",right:"0",left:"auto",zIndex:"1032",visibility:"visible",overflowY:"visible",borderTop:"none",textAlign:"left",paddingRight:"0px",paddingLeft:"0",transform:"translate3d(".concat(et,"px, 0, 0)")},tt)),t)),drawerPaperRTL:(a={},Object(ma.a)(a,e.breakpoints.up("md"),{left:"auto !important",right:"0 !important"}),Object(ma.a)(a,e.breakpoints.down("sm"),{left:"0  !important",right:"auto !important"}),a),logo:{position:"relative",padding:"15px 15px",zIndex:"4",height:"120px","&:after":{content:'""',position:"absolute",bottom:"0",height:"1px",right:"15px",width:"calc(100% - 30px)",backgroundColor:"rgba("+Xe(dt[6])+", 0.3)"}},logoLink:Object(Ze.a)(Object(Ze.a)({},nt),{},{textTransform:"uppercase",padding:"5px 0",display:"block",fontSize:"18px",textAlign:"left",fontWeight:"400",lineHeight:"30px",textDecoration:"none",backgroundColor:"transparent","&,&:hover":{color:"#FFF !Important"}}),logoLinkRTL:{textAlign:"right"},logoImage:{width:"30px",display:"inline-block",maxHeight:"30px",marginLeft:"10px",marginRight:"20px"},img:{width:"50%",position:"absolute",verticalAlign:"middle",border:"0"},background:{position:"absolute",zIndex:"1",height:"100%",width:"100%",display:"block",top:"0",left:"0",backgroundSize:"cover",backgroundPosition:"center center","&:after":{position:"absolute",zIndex:"3",width:"100%",height:"100%",content:'""',display:"block",background:"#333232",opacity:".58"}},list:{marginTop:"20px",paddingLeft:"0",paddingTop:"0",paddingBottom:"0",marginBottom:"0",listStyle:"none",position:"unset"},item:{position:"relative",display:"block",textDecoration:"none","&:hover,&:focus,&:visited,&":{color:jt}},itemLink:Object(Ze.a)({width:"auto",transition:"all 300ms linear",margin:"10px 15px 0",borderRadius:"3px",position:"relative",display:"block",padding:"10px 15px",backgroundColor:"transparent"},nt),itemIcon:{width:"24px",height:"30px",fontSize:"24px",lineHeight:"30px",float:"left",marginRight:"15px",textAlign:"center",verticalAlign:"middle",color:"rgba("+Xe(jt)+", 0.8)"},itemIconRTL:{marginRight:"3px",marginLeft:"15px",float:"right"},itemText:Object(Ze.a)(Object(Ze.a)({},nt),{},{margin:"0",lineHeight:"30px",fontSize:"14px",color:jt}),itemTextRTL:{textAlign:"right"},whiteFont:{color:jt},purple:Object(Ze.a)(Object(Ze.a)({backgroundColor:rt[0]},pt),{},{"&:hover,&:focus":Object(Ze.a)({backgroundColor:rt[0]},pt)}),blue:{backgroundColor:st[0],boxShadow:"0 12px 20px -10px rgba("+Xe(st[0])+",.28), 0 4px 20px 0 rgba("+Xe(ut)+",.12), 0 7px 8px -5px rgba("+Xe(st[0])+",.2)","&:hover,&:focus":{backgroundColor:st[0],boxShadow:"0 12px 20px -10px rgba("+Xe(st[0])+",.28), 0 4px 20px 0 rgba("+Xe(ut)+",.12), 0 7px 8px -5px rgba("+Xe(st[0])+",.2)"}},transparent:{backgroundColor:"rgba(200, 200, 200, 0.2)","&:hover,&:focus":{backgroundColor:"rgba(200, 200, 200, 0.2)"}},green:{backgroundColor:ot[0],boxShadow:"0 12px 20px -10px rgba("+Xe(ot[0])+",.28), 0 4px 20px 0 rgba("+Xe(ut)+",.12), 0 7px 8px -5px rgba("+Xe(ot[0])+",.2)","&:hover,&:focus":{backgroundColor:ot[0],boxShadow:"0 12px 20px -10px rgba("+Xe(ot[0])+",.28), 0 4px 20px 0 rgba("+Xe(ut)+",.12), 0 7px 8px -5px rgba("+Xe(ot[0])+",.2)"}},orange:{backgroundColor:ct[0],boxShadow:"0 12px 20px -10px rgba("+Xe(ct[0])+",.28), 0 4px 20px 0 rgba("+Xe(ut)+",.12), 0 7px 8px -5px rgba("+Xe(ct[0])+",.2)","&:hover,&:focus":{backgroundColor:ct[0],boxShadow:"0 12px 20px -10px rgba("+Xe(ct[0])+",.28), 0 4px 20px 0 rgba("+Xe(ut)+",.12), 0 7px 8px -5px rgba("+Xe(ct[0])+",.2)"}},red:{backgroundColor:it[0],boxShadow:"0 12px 20px -10px rgba("+Xe(it[0])+",.28), 0 4px 20px 0 rgba("+Xe(ut)+",.12), 0 7px 8px -5px rgba("+Xe(it[0])+",.2)","&:hover,&:focus":{backgroundColor:it[0],boxShadow:"0 12px 20px -10px rgba("+Xe(it[0])+",.28), 0 4px 20px 0 rgba("+Xe(ut)+",.12), 0 7px 8px -5px rgba("+Xe(it[0])+",.2)"}},sidebarWrapper:{position:"relative",height:"calc(100vh - 75px)",overflow:"auto",width:"260px",zIndex:"4",overflowScrolling:"touch"},activePro:Object(ma.a)({},e.breakpoints.up("md"),{position:"absolute",width:"100%",bottom:"13px"})}},qc=Object(We.a)(Bc);function Lc(e){var t=e.color,a=e.logo,n=e.image,c=(e.logoText,e.routes),i=qc(),l=Object(s.useLocation)(),d=r.a.useState({open:e.openSubMenu}),u=Object(ia.a)(d,2),j=u[0],b=u[1];function p(e){b((function(t){return Object(Ze.a)(Object(Ze.a)({},t),{},Object(ma.a)({},e,!t[e]))}))}function h(e){if(l.pathname.match(/[\/]\d+$/g)){var t=l.pathname.replace(/[\/]\d+$/g,"/:id");return e.indexOf(t)>-1}return e.indexOf(l.pathname)>-1}r.a.useEffect((function(){var t={};for(var a in c){var n=!1;h(c[a].pathList)&&e.openSubMenu&&(n=!0),c[a].children&&c[a].children.length&&(t=Object(Ze.a)(Object(Ze.a)({},t),{},Object(ma.a)({},c[a].name,n)))}b(t)}),[c]);var m=function e(a){return Object(Be.jsx)(Bn.a,{className:i.list,children:a.map((function(a,n){var r,c=a.children&&a.children.length>0;r=fa()(Object(ma.a)({}," "+i[t],h(a.pathList)));var s=fa()(Object(ma.a)({}," "+i.transparent,h(a.pathList))),l=fa()(Object(ma.a)({}," "+i.whiteFont,h(a.pathList))),d=c?Object(Be.jsxs)(sa.a,{in:j[a.name],timeout:"auto",unmountOnExit:!0,children:[Object(Be.jsx)(_c.a,{style:{color:"#FFFFFF"}}),Object(Be.jsx)("div",{style:{marginLeft:"1rem"},children:e(a.children)})]}):null;return c?Object(Be.jsxs)(Be.Fragment,{children:[Object(Be.jsxs)(Hn.a,{className:i.itemLink+s,style:{display:"flex"},button:!0,onClick:function(){p(a.name)},children:[Object(Be.jsx)(Ac.a,{primary:a.name,className:fa()(i.itemText,l),disableTypography:!0}),c&&!j[a.name]&&Object(Be.jsx)(Hc.a,{style:{color:"#FFFFFF"},onClick:function(){p(a.name)}}),c&&j[a.name]&&Object(Be.jsx)(Wc.a,{style:{color:"#FFFFFF"},onClick:function(){p(a.name)}})]}),d]}):Object(Be.jsx)(o.b,{to:a.layout+a.path,className:" "+i.item,activeClassName:"active",children:Object(Be.jsx)(Hn.a,{button:!0,className:i.itemLink+r,children:Object(Be.jsx)(Ac.a,{primary:a.name,className:fa()(i.itemText,l),disableTypography:!0})})},n)}))})},x=Object(Be.jsx)("div",{className:i.logo,children:Object(Be.jsx)("a",{href:hr,className:fa()(i.logoLink),target:"_blank",children:Object(Be.jsx)("div",{className:i.logoImage,children:Object(Be.jsx)("img",{src:a,alt:"logo",className:i.img})})})});return Object(Be.jsxs)("div",{children:[Object(Be.jsx)(hc.a,{mdUp:!0,implementation:"css",children:Object(Be.jsxs)(zc.a,{variant:"temporary",anchor:e.rtlActive?"left":"right",open:e.open,classes:{paper:fa()(i.drawerPaper,Object(ma.a)({},i.drawerPaperRTL,e.rtlActive))},onClose:e.handleDrawerToggle,ModalProps:{keepMounted:!0},children:[x,Object(Be.jsxs)("div",{className:i.sidebarWrapper,children:[Object(Be.jsx)(Dc,{}),m(c)]}),void 0!==n?Object(Be.jsx)("div",{className:i.background,style:{backgroundImage:"url("+n+")"}}):null]})}),Object(Be.jsx)(hc.a,{smDown:!0,implementation:"css",children:Object(Be.jsxs)(zc.a,{anchor:e.rtlActive?"right":"left",variant:"permanent",open:!0,classes:{paper:fa()(i.drawerPaper,Object(ma.a)({},i.drawerPaperRTL,e.rtlActive))},children:[x,Object(Be.jsx)("div",{className:i.sidebarWrapper,children:m(c)}),void 0!==n?Object(Be.jsx)("div",{className:i.background,style:{backgroundImage:"url("+n+")"}}):null]})})]})}var Qc={card:{border:"0",marginBottom:"30px",marginTop:"30px",borderRadius:"6px",color:"rgba("+Xe(ut)+", 0.87)",background:jt,width:"100%",boxShadow:"0 1px 4px 0 rgba("+Xe(ut)+", 0.14)",position:"relative",display:"flex",flexDirection:"column",minWidth:"0",wordWrap:"break-word",fontSize:".875rem"},cardPlain:{background:"transparent",boxShadow:"none"},cardProfile:{marginTop:"30px",textAlign:"center"},cardChart:{"& p":{marginTop:"0px",paddingTop:"0px"}}},Yc=["className","children","plain","profile","chart"],Uc=Object(We.a)(Qc);function Vc(e){var t,a=Uc(),n=e.className,r=e.children,c=e.plain,i=e.profile,o=e.chart,s=Object(Pt.a)(e,Yc),l=fa()((t={},Object(ma.a)(t,a.card,!0),Object(ma.a)(t,a.cardPlain,c),Object(ma.a)(t,a.cardProfile,i),Object(ma.a)(t,a.cardChart,o),Object(ma.a)(t,n,void 0!==n),t));return Object(Be.jsx)("div",Object(Ze.a)(Object(Ze.a)({className:l},s),{},{children:r}))}var $c={cardAvatar:{"&$cardAvatarProfile img":{width:"100%",height:"auto"}},cardAvatarProfile:{maxWidth:"130px",maxHeight:"130px",marginTop:"1rem",marginLeft:"auto",marginRight:"auto",overflow:"hidden",padding:"0",boxShadow:"0 16px 38px -12px rgba("+Xe(ut)+", 0.56), 0 4px 25px 0px rgba("+Xe(ut)+", 0.12), 0 8px 10px -5px rgba("+Xe(ut)+", 0.2)","&$cardAvatarPlain":{marginTop:"0"}},cardAvatarPlain:{}};Object(We.a)($c);var Gc={cardBody:{padding:"0.9375rem 20px",flex:"1 1 auto",WebkitBoxFlex:"1",position:"relative"},cardBodyPlain:{paddingLeft:"5px",paddingRight:"5px"},cardBodyProfile:{marginTop:"15px"},cardBodyCalendar:{padding:"0px !important"}},Kc=["className","children","plain","profile","background","formHorizontal","pricing","signup","color","calendar"],Zc=Object(We.a)(Gc);function Jc(e){var t,a=Zc(),n=e.className,r=e.children,c=e.plain,i=e.profile,o=e.background,s=e.formHorizontal,l=e.pricing,d=e.signup,u=e.color,j=e.calendar,b=Object(Pt.a)(e,Kc),p=fa()((t={},Object(ma.a)(t,a.cardBody,!0),Object(ma.a)(t,a.cardBodyPlain,c),Object(ma.a)(t,a.cardBodyProfile,i),Object(ma.a)(t,n,void 0!==n),Object(ma.a)(t,a.cardBodyBackground,o),Object(ma.a)(t,a.cardBodyFormHorizontal,s),Object(ma.a)(t,a.cardPricing,l),Object(ma.a)(t,a.cardSignup,d),Object(ma.a)(t,a.cardBodyColor,u),Object(ma.a)(t,a.cardBodyCalendar,j),t));return Object(Be.jsx)("div",Object(Ze.a)(Object(Ze.a)({className:p},b),{},{children:r}))}var Xc={cardFooter:{padding:"0",paddingTop:"10px",margin:"0 15px 10px",borderRadius:"0",justifyContent:"space-between",alignItems:"center",display:"flex",backgroundColor:"transparent",border:"0"},cardFooterProfile:{marginTop:"-15px"},cardFooterPlain:{paddingLeft:"5px",paddingRight:"5px",backgroundColor:"transparent"},cardFooterStats:{borderTop:"1px solid "+dt[10],marginTop:"20px","& svg":{position:"relative",top:"4px",marginRight:"3px",marginLeft:"3px",width:"16px",height:"16px"},"& .fab,& .fas,& .far,& .fal,& .material-icons":{fontSize:"16px",position:"relative",top:"4px",marginRight:"3px",marginLeft:"3px"}},cardFooterChart:{borderTop:"1px solid "+dt[10]}},ei=["className","children","plain","profile","stats","chart"],ti=Object(We.a)(Xc);function ai(e){var t,a=ti(),n=e.className,r=e.children,c=e.plain,i=e.profile,o=e.stats,s=e.chart,l=Object(Pt.a)(e,ei),d=fa()((t={},Object(ma.a)(t,a.cardFooter,!0),Object(ma.a)(t,a.cardFooterPlain,c),Object(ma.a)(t,a.cardFooterProfile,i),Object(ma.a)(t,a.cardFooterStats,o),Object(ma.a)(t,a.cardFooterChart,s),Object(ma.a)(t,n,void 0!==n),t));return Object(Be.jsx)("div",Object(Ze.a)(Object(Ze.a)({className:d},l),{},{children:r}))}var ni={cardHeader:{padding:"0.75rem 1.25rem",marginBottom:"0",borderBottom:"none",background:"transparent",zIndex:"3 !important","&$cardHeaderPlain,&$cardHeaderIcon,&$cardHeaderStats,&$warningCardHeader,&$successCardHeader,&$dangerCardHeader,&$infoCardHeader,&$primaryCardHeader,&$roseCardHeader":{margin:"0 15px",padding:"0",position:"relative",color:jt},"&:first-child":{borderRadius:"calc(.25rem - 1px) calc(.25rem - 1px) 0 0"},"&$warningCardHeader,&$successCardHeader,&$dangerCardHeader,&$infoCardHeader,&$primaryCardHeader,&$roseCardHeader":{"&:not($cardHeaderIcon)":{borderRadius:"3px",marginTop:"-20px",padding:"15px"}},"&$cardHeaderStats svg":{fontSize:"36px",lineHeight:"56px",textAlign:"center",width:"36px",height:"36px",margin:"10px 10px 4px"},"&$cardHeaderStats i,&$cardHeaderStats .material-icons":{fontSize:"36px",lineHeight:"56px",width:"56px",height:"56px",textAlign:"center",overflow:"unset",marginBottom:"1px"},"&$cardHeaderStats$cardHeaderIcon":{textAlign:"right"}},cardHeaderPlain:{marginLeft:"0px !important",marginRight:"0px !important"},cardHeaderStats:{"& $cardHeaderIcon":{textAlign:"right"},"& h1,& h2,& h3,& h4,& h5,& h6":{margin:"0 !important"}},cardHeaderIcon:{"&$warningCardHeader,&$successCardHeader,&$dangerCardHeader,&$infoCardHeader,&$primaryCardHeader,&$roseCardHeader":{background:"transparent",boxShadow:"none"},"& i,& .material-icons":{width:"33px",height:"33px",textAlign:"center",lineHeight:"33px"},"& svg":{width:"24px",height:"24px",textAlign:"center",lineHeight:"33px",margin:"5px 4px 0px"}},warningCardHeader:{color:jt,"&:not($cardHeaderIcon)":Object(Ze.a)({},gt)},successCardHeader:{color:jt,"&:not($cardHeaderIcon)":Object(Ze.a)({},vt)},dangerCardHeader:{color:jt,"&:not($cardHeaderIcon)":Object(Ze.a)({},yt)},infoCardHeader:{color:jt,"&:not($cardHeaderIcon)":Object(Ze.a)({},_t)},primaryCardHeader:{color:jt,"&:not($cardHeaderIcon)":Object(Ze.a)({},wt)},roseCardHeader:{color:jt,"&:not($cardHeaderIcon)":Object(Ze.a)({},Ct)}},ri=["className","children","color","plain","stats","icon"],ci=Object(We.a)(ni);function ii(e){var t,a=ci(),n=e.className,r=e.children,c=e.color,i=e.plain,o=e.stats,s=e.icon,l=Object(Pt.a)(e,ri),d=fa()((t={},Object(ma.a)(t,a.cardHeader,!0),Object(ma.a)(t,a[c+"CardHeader"],c),Object(ma.a)(t,a.cardHeaderPlain,i),Object(ma.a)(t,a.cardHeaderStats,o),Object(ma.a)(t,a.cardHeaderIcon,s),Object(ma.a)(t,n,void 0!==n),t));return Object(Be.jsx)("div",Object(Ze.a)(Object(Ze.a)({className:d},l),{},{children:r}))}var oi={cardIcon:{"&$warningCardHeader,&$successCardHeader,&$dangerCardHeader,&$infoCardHeader,&$primaryCardHeader,&$roseCardHeader":{borderRadius:"3px",backgroundColor:dt[0],padding:"15px",marginTop:"-20px",marginRight:"15px",float:"left"}},warningCardHeader:gt,successCardHeader:vt,dangerCardHeader:yt,infoCardHeader:_t,primaryCardHeader:wt,roseCardHeader:Ct};Object(We.a)(oi);a(721),a(530);var si={root:Object(Ze.a)(Object(Ze.a)({},nt),{},{flexWrap:"unset",position:"relative",padding:"20px 15px",lineHeight:"20px",marginBottom:"20px",fontSize:"14px",backgroundColor:jt,color:dt[7],borderRadius:"3px",minWidth:"unset",maxWidth:"unset",boxShadow:"0 12px 20px -10px rgba("+Xe(jt)+", 0.28), 0 4px 20px 0px rgba("+Xe(ut)+", 0.12), 0 7px 8px -5px rgba("+Xe(jt)+", 0.2)"}),top20:{top:"20px"},top40:{top:"40px"},info:Object(Ze.a)({backgroundColor:st[3],color:jt},ht),success:Object(Ze.a)({backgroundColor:ot[3],color:jt},mt),warning:Object(Ze.a)({backgroundColor:ct[3],color:jt},xt),danger:Object(Ze.a)({backgroundColor:it[3],color:jt},Ot),primary:Object(Ze.a)({backgroundColor:rt[3],color:jt},pt),rose:Object(Ze.a)({backgroundColor:lt[3],color:jt},ft),message:{padding:"0",display:"block",maxWidth:"89%"},close:{width:"11px",height:"11px"},iconButton:{width:"24px",height:"24px",padding:"0px"},icon:{display:"block",left:"15px",position:"absolute",top:"50%",marginTop:"-15px",width:"30px",height:"30px"},infoIcon:{color:st[3]},successIcon:{color:ot[3]},warningIcon:{color:ct[3]},dangerIcon:{color:it[3]},primaryIcon:{color:rt[3]},roseIcon:{color:lt[3]},iconMessage:{paddingLeft:"50px",display:"block"},actionRTL:{marginLeft:"-8px",marginRight:"auto"}};Object(We.a)(si);var li=a(790),di=a(813);function ui(e){return Object(Be.jsx)(di.a,Object(Ze.a)({elevation:6,variant:"filled"},e))}var ji=Object(We.a)((function(e){return{root:{width:"100%","& > * + *":{marginTop:e.spacing(2)}}}}));function bi(e){var t=ji();return Object(Be.jsx)("div",{className:t.root,children:Object(Be.jsx)(li.a,{open:e.open,autoHideDuration:6e3,onClose:e.handleClose,children:Object(Be.jsx)(ui,{onClose:e.handleClose,severity:e.severity,children:e.message})})})}var pi=a(788),hi={white:{"&,&:focus,&:hover":{backgroundColor:jt,color:dt[0]}},rose:{backgroundColor:lt[0],color:jt,"&:hover,&:focus":{backgroundColor:lt[0],boxShadow:"0 14px 26px -12px rgba("+Xe(lt[0])+", 0.42), 0 4px 23px 0px rgba("+Xe(ut)+", 0.12), 0 8px 10px -5px rgba("+Xe(lt[0])+", 0.2)"}},primary:{backgroundColor:rt[0],color:jt,"&:hover,&:focus":{backgroundColor:rt[0],boxShadow:"0 14px 26px -12px rgba("+Xe(rt[0])+", 0.42), 0 4px 23px 0px rgba("+Xe(ut)+", 0.12), 0 8px 10px -5px rgba("+Xe(rt[0])+", 0.2)"}},info:{backgroundColor:st[0],color:jt,"&:hover,&:focus":{backgroundColor:st[0],boxShadow:"0 14px 26px -12px rgba("+Xe(st[0])+", 0.42), 0 4px 23px 0px rgba("+Xe(ut)+", 0.12), 0 8px 10px -5px rgba("+Xe(st[0])+", 0.2)"}},success:{backgroundColor:ot[0],color:jt,"&:hover,&:focus":{backgroundColor:ot[0],boxShadow:"0 14px 26px -12px rgba("+Xe(ot[0])+", 0.42), 0 4px 23px 0px rgba("+Xe(ut)+", 0.12), 0 8px 10px -5px rgba("+Xe(ot[0])+", 0.2)"}},warning:{backgroundColor:ct[0],color:jt,"&:hover,&:focus":{backgroundColor:ct[0],boxShadow:"0 14px 26px -12px rgba("+Xe(ct[0])+", 0.42), 0 4px 23px 0px rgba("+Xe(ut)+", 0.12), 0 8px 10px -5px rgba("+Xe(ct[0])+", 0.2)"}},danger:{backgroundColor:it[0],color:jt,"&:hover,&:focus":{backgroundColor:it[0],boxShadow:"0 14px 26px -12px rgba("+Xe(it[0])+", 0.42), 0 4px 23px 0px rgba("+Xe(ut)+", 0.12), 0 8px 10px -5px rgba("+Xe(it[0])+", 0.2)"}},simple:{"&,&:focus,&:hover":{color:jt,background:"transparent",boxShadow:"none"},"&$rose":{"&,&:focus,&:hover,&:visited":{color:lt[0]}},"&$primary":{"&,&:focus,&:hover,&:visited":{color:rt[0]}},"&$info":{"&,&:focus,&:hover,&:visited":{color:st[0]}},"&$success":{"&,&:focus,&:hover,&:visited":{color:ot[0]}},"&$warning":{"&,&:focus,&:hover,&:visited":{color:ct[0]}},"&$danger":{"&,&:focus,&:hover,&:visited":{color:it[0]}}},transparent:{"&,&:focus,&:hover":{color:"inherit",background:"transparent",boxShadow:"none"}},disabled:{opacity:"0.65",pointerEvents:"none"},lg:{padding:"1.125rem 2.25rem",fontSize:"0.875rem",lineHeight:"1.333333",borderRadius:"0.2rem"},sm:{padding:"0.40625rem 1.25rem",fontSize:"0.6875rem",lineHeight:"1.5",borderRadius:"0.2rem"},round:{borderRadius:"30px"},block:{width:"100% !important"},link:{"&,&:hover,&:focus":{backgroundColor:"transparent",color:dt[0],boxShadow:"none"}},justIcon:{paddingLeft:"12px",paddingRight:"12px",fontSize:"20px",height:"41px",minWidth:"41px",width:"41px","& .fab,& .fas,& .far,& .fal,& svg,& .material-icons":{marginRight:"0px"},"&$lg":{height:"57px",minWidth:"57px",width:"57px",lineHeight:"56px","& .fab,& .fas,& .far,& .fal,& .material-icons":{fontSize:"32px",lineHeight:"56px"},"& svg":{width:"32px",height:"32px"}},"&$sm":{height:"30px",minWidth:"30px",width:"30px","& .fab,& .fas,& .far,& .fal,& .material-icons":{fontSize:"17px",lineHeight:"29px"},"& svg":{width:"17px",height:"17px"}}}},mi=a(482),xi=["color","children","disabled","className","align"],Oi=Object(We.a)((function(e){return{root:{"& > *":{margin:e.spacing(1)}},alignend:{textAlignLast:"end"}}})),fi=Object(We.a)(hi);function gi(e){var t,a,n=Oi(),r=fi(),c=e.color,i=e.children,o=e.disabled,s=e.className,l=e.align,d=Object(Pt.a)(e,xi),u=fa()((t={},Object(ma.a)(t,r[c],c),Object(ma.a)(t,r.disabled,o),Object(ma.a)(t,s,s),t)),j=fa()((a={},Object(ma.a)(a,n.root,!0),Object(ma.a)(a,n["align"+l],l),a));return Object(Be.jsx)("div",{className:j,children:e.toolTip?Object(Be.jsx)(mi.a,{title:e.toolTip,children:Object(Be.jsx)(pi.a,Object(Ze.a)(Object(Ze.a)({color:c,className:u},d),{},{children:i}))}):Object(Be.jsx)(pi.a,Object(Ze.a)(Object(Ze.a)({color:c,className:u},d),{},{children:i}))})}var vi=a(810),yi=a(782),_i={cardTitle:{float:"left",padding:"10px 10px 10px 0px",lineHeight:"24px"},cardTitleRTL:{float:"right",padding:"10px 0px 10px 10px !important"},displayNone:{display:"none !important"},tabsRoot:{minHeight:"unset !important",overflowX:"visible","& $tabRootButton":{fontSize:"0.875rem"}},tabRootButton:{minHeight:"unset !important",minWidth:"unset !important",width:"unset !important",height:"unset !important",maxWidth:"unset !important",maxHeight:"unset !important",padding:"10px 15px",borderRadius:"3px",lineHeight:"24px",border:"0 !important",color:"#FFF !important",marginLeft:"4px","&:last-child":{marginLeft:"0px"}},tabSelected:{backgroundColor:"rgba("+Xe(jt)+", 0.2)",transition:"0.2s background-color 0.1s"},tabWrapper:{display:"inline-block",minHeight:"unset !important",minWidth:"unset !important",width:"unset !important",height:"unset !important",maxWidth:"unset !important",maxHeight:"unset !important",fontWeight:"500",fontSize:"12px",marginTop:"1px","& > svg,& > .material-icons":{verticalAlign:"middle",margin:"-1px 5px 0 0 !important"}}},wi=Object(We.a)(_i);function Ci(e){var t,a=r.a.useState(0),n=Object(ia.a)(a,2),c=n[0],i=n[1],o=wi(),s=e.headerColor,l=e.plainTabs,d=e.tabs,u=e.title,j=e.rtlActive,b=fa()((t={},Object(ma.a)(t,o.cardTitle,!0),Object(ma.a)(t,o.cardTitleRTL,j),t));return Object(Be.jsxs)(Vc,{plain:l,children:[Object(Be.jsxs)(ii,{color:s,plain:l,children:[void 0!==u?Object(Be.jsx)("div",{className:b,children:u}):null,Object(Be.jsx)(vi.a,{value:c,onChange:function(e,t){i(t)},classes:{root:o.tabsRoot,indicator:o.displayNone,scrollButtons:o.displayNone},variant:"scrollable",scrollButtons:"auto",children:d.map((function(e,t){var a={};return e.tabIcon&&(a={icon:Object(Be.jsx)(e.tabIcon,{})}),Object(Be.jsx)(yi.a,Object(Ze.a)({classes:{root:o.tabRootButton,selected:o.tabSelected,wrapper:o.tabWrapper},label:e.tabName},a),t)}))})]}),Object(Be.jsx)(Jc,{children:d.map((function(e,t){return t===c?Object(Be.jsx)("div",{children:e.tabContent},t):null}))})]})}var Si=a(411),ki=["formControlProps","labelText","id","labelProps","inputProps","error","success","rtlActive","nameValue","helperTextId","isHelperText","helperText"],Ti=Object(We.a)($n);function Pi(e){var t,a,n=Ti(),r=e.formControlProps,c=e.labelText,i=e.id,o=e.labelProps,s=e.inputProps,l=e.error,d=e.success,u=e.rtlActive,j=e.nameValue,b=e.helperTextId,p=e.isHelperText,h=e.helperText,m=Object(Pt.a)(e,ki),x=fa()((t={},Object(ma.a)(t," "+n.labelRootError,l),Object(ma.a)(t," "+n.labelRootSuccess,d&&!l),Object(ma.a)(t," "+n.labelRTL,u),t)),O=fa()((a={},Object(ma.a)(a,n.underlineError,l),Object(ma.a)(a,n.underlineSuccess,d&&!l),Object(ma.a)(a,n.underline,!0),a)),f=fa()(Object(ma.a)({},n.marginTop,void 0===c)),g={maxLength:s&&s.maxLength?s.maxLength:void 0,minLength:s&&s.minLength?s.minLength:void 0,step:s&&s.step?s.step:void 0};return Object(Be.jsxs)(Yn.a,Object(Ze.a)(Object(Ze.a)({},r),{},{className:r.className+" "+n.formControl,children:[void 0!==c?Object(Be.jsx)(Un.a,Object(Ze.a)(Object(Ze.a)({className:n.labelRoot+x,htmlFor:i},o),{},{children:c})):null,Object(Be.jsx)(Si.a,Object(Ze.a)(Object(Ze.a)(Object(Ze.a)({classes:{root:f,disabled:n.disabled,select:n.input,selectMenu:n.input},input:Object(Be.jsx)(Vn.a,{classes:{input:n.input,underline:O}})},m),{},{id:i},s),{},{inputProps:g,children:j.map((function(e){return Object(Be.jsx)(Oc.a,{value:e.value,children:e.name})}))})),p?Object(Be.jsx)(Gn.a,{id:b,error:l,children:h}):null]}))}var Ni,Di,Ii=a(223),Mi=a(831),Ri=a(276),zi=a(224),Ai=a(776),Fi=["formControlProps","error","helperTextId","isHelperText","helperText"],Wi=Object(We.a)($n),Ei=Object(zi.a)({overrides:{MuiInputBase:{input:Object(Ze.a)(Object(Ze.a)({},nt),{},{color:dt[3]+" !important",fontWeight:"400",fontSize:"14px",lineHeight:"1.42857",letterSpacing:"unset"})},MuiPickersClock:{clock:{backgroundColor:"#a56863"}},MuiPickersToolbar:{toolbar:{backgroundColor:"#a56863"}},MuiPickersDay:{daySelected:{backgroundColor:"#a56863"}},MuiTypography:{colorPrimary:{color:"#a56863"}},MuiButton:{textPrimary:{color:"#a56863"}},MuiPickersMonth:{monthSelected:{color:"#a56863"},root:{"&:focus":{color:"#a56863"}}}}}),Hi=function(e){var t,a,n=Wi(),r=(e.formControlProps,e.error,e.helperTextId,e.isHelperText,e.helperText,Object(Pt.a)(e,Fi),fa()((t={},Object(ma.a)(t,n.marginTop,!e.noMargin),Object(ma.a)(t,n.noMargin,!!e.noMargin),t))),c=fa()((a={},Object(ma.a)(a,n.underlineError,e.error),Object(ma.a)(a,n.underlineSuccess,e.success&&!e.error),Object(ma.a)(a,n.underline,!0),a)),i=Object(tr.a)(Mi.b)(Ni||(Ni=Object(er.a)(["\n    label.Mui-focused {\n      color: green;\n    }\n    .MuiInput-underline:after {\n      border-color: ",";\n    }\n    .MuiInput-underline:before {\n      border-color: ",' !important;\n    }\n    .MuiFormLabel-root {\n      color: #aaaaaa !important;\n      font-size: 12px !important;\n      font-family: "Roboto", "Helvetica", "Arial", sans-serif;\n      font-weight: 400;\n      line-height: 1.42857;\n      letter-spacing: unset;\n    }\n  '])),rt[0],dt[4]);return Object(Be.jsx)(Ai.a,{theme:Ei,children:Object(Be.jsx)(Ri.b,{utils:Ii.default,children:Object(Be.jsx)(i,Object(Ze.a)({margin:"normal",id:"date-picker-dialog",label:e.label,format:"d MMM yyyy",value:e.date,name:e.name,onChange:e.handleDateChange,KeyboardButtonProps:{"aria-label":"change date"},maxDate:new Date((new Date).getFullYear(),(new Date).getMonth()+1,0),classes:{root:r,disabled:n.disabled,underline:c,input:n.input}},e))})})},Bi=Object(We.a)($n),qi=Object(zi.a)({overrides:{MuiPickersClock:{clock:{backgroundColor:"#a56863"}},MuiPickersToolbar:{toolbar:{backgroundColor:"#a56863"}},MuiPickersDay:{daySelected:{backgroundColor:"#a56863"}},MuiTypography:{colorPrimary:{color:"#a56863"}},MuiButton:{textPrimary:{color:"#a56863"}},MuiPickersMonth:{monthSelected:{color:"#a56863"},root:{"&:focus":{color:"#a56863"}}}}});function Li(e){var t,a=(new Date).getFullYear(),n=(new Date).getMonth()+1,r=Bi(),c=fa()(Object(ma.a)({},r.marginTop,!0)),i=fa()((t={},Object(ma.a)(t,r.underlineError,e.error),Object(ma.a)(t,r.underlineSuccess,e.success&&!e.error),Object(ma.a)(t,r.underline,!0),t)),o=Object(tr.a)(Mi.a)(Di||(Di=Object(er.a)(["\n    label.Mui-focused {\n      color: green;\n    }\n    .MuiInput-underline:after {\n      border-color: ",";\n    }\n    .MuiInput-underline:before {\n      border-color: ",' !important;\n    }\n    .MuiFormLabel-root {\n      color: #aaaaaa !important;\n      font-size: 14px;\n      font-family: "Roboto", "Helvetica", "Arial", sans-serif;\n      font-weight: 400;\n      line-height: 1.42857;\n      letter-spacing: unset;\n    }\n  '])),rt[0],dt[4]);return Object(Be.jsx)(Ai.a,{theme:qi,children:Object(Be.jsx)(Ri.b,{utils:Ii.default,children:Object(Be.jsx)(o,Object(Ze.a)({margin:"normal",id:"date-picker-dialog",label:"Select Year and Month",format:"MMM yyyy",views:["year","month"],maxDate:new Date(a,n,0),value:e.date,name:e.name,onChange:e.handleDateChange,KeyboardButtonProps:{"aria-label":"change date"},classes:{root:c,disabled:r.disabled,underline:i,input:r.input}},e))})})}var Qi=a(491),Yi=a(510),Ui={disabled:{"&:before":{backgroundColor:"transparent !important"}},primaryColor:{color:rt[0]+" !Important"},errorColor:{color:it[0]+" !Important"},disabledColor:{color:dt[3]+" !important"},underline:{"&:hover:not($disabled):before,&:before":{borderColor:dt[4]+" !important",borderWidth:"1px !important"},"&:after":{borderColor:rt[0]}},underlineError:{"&:after":{borderColor:it[0]}},underlineSuccess:{"&:after":{borderColor:ot[0]}},labelRoot:Object(Ze.a)(Object(Ze.a)({},nt),{},{color:dt[3]+" !important",fontWeight:"400",fontSize:"14px",lineHeight:"1.42857",letterSpacing:"unset"}),labelRootError:{color:it[0]+" !important"},labelRootSuccess:{color:ot[0]},feedback:{top:"18px",right:"0",zIndex:"2",display:"block",width:"24px",height:"24px",textAlign:"center",pointerEvents:"none"},marginTop:{marginTop:"16px"},formControl:{paddingBottom:"10px",margin:"27px 0 0 0",position:"relative",verticalAlign:"unset"},input:{color:dt[7]+" !important",fontSize:"0.800rem"}},Vi=Object(We.a)(Ui);function $i(e){var t,a=Vi(),n=fa()((t={},Object(ma.a)(t,a.primaryColor,!e.error),Object(ma.a)(t,a.errorColor,e.error),Object(ma.a)(t,a.disabledColor,e.disabled),t));return Object(Be.jsxs)(Be.Fragment,{children:[Object(Be.jsx)(Qi.a,{control:Object(Be.jsx)(Yi.a,Object(Ze.a)({classes:{disabled:a.disabled,input:a.input,colorPrimary:n},checked:e.checked,onChange:e.onChange,name:e.name,color:"primary"},e)),style:{margin:"40px 0 0 0"},label:e.labelText}),e.isHelperText?Object(Be.jsx)(Gn.a,{id:e.helperTextId,error:e.error,children:e.helperText}):null]})}var Gi=a(808),Ki=Object(We.a)(Ui);function Zi(e){var t,a=Ki(),n=fa()((t={},Object(ma.a)(t,a.primaryColor,!e.error),Object(ma.a)(t,a.errorColor,e.error),Object(ma.a)(t,a.disabledColor,e.disabled),t));return Object(Be.jsxs)(Be.Fragment,{children:[Object(Be.jsx)(Qi.a,{control:Object(Be.jsx)(Gi.a,Object(Ze.a)({classes:{disabled:a.disabled,input:a.input,colorPrimary:n},checked:e.checked,onChange:e.onChange,name:e.name,color:"primary"},e)),style:{margin:"40px 0 0 0"},label:e.labelText}),e.isHelperText?Object(Be.jsx)(Gn.a,{id:e.helperTextId,error:e.error,children:e.helperText}):null]})}var Ji=a(777),Xi=a(779),eo=a(778),to=a(785),ao=a(786),no=a(162),ro=a.n(no);function co(e){return Object(Be.jsx)("div",{children:Object(Be.jsxs)(Ji.a,{open:e.open,onClose:e.handleClose,"aria-labelledby":"dialog-title","aria-describedby":"dialog-description",children:[Object(Be.jsx)(ao.a,{id:"dialog-title",children:e.dialogTitle}),Object(Be.jsx)(eo.a,{children:Object(Be.jsxs)(to.a,{id:"dialog-description",children:[e.isWarning?Object(Be.jsxs)(Be.Fragment,{children:[Object(Be.jsxs)("div",{className:ro.a.AlertImageDiv,children:[Object(Be.jsx)("span",{className:ro.a.alertImageCircle}),Object(Be.jsx)("span",{className:ro.a.alertImageIcon})]}),Object(Be.jsx)("h2",{className:ro.a.highLighter,children:e.dialogHeader?e.dialogHeader:""}),e.isDatePresent?Object(Be.jsx)("h6",{className:ro.a.highLighterH6,children:e.date?e.date:""}):null]}):Object(Be.jsxs)(Be.Fragment,{children:[Object(Be.jsx)("h2",{className:ro.a.highLighter,children:e.dialogHeader?e.dialogHeader:""}),e.isDatePresent?Object(Be.jsx)("h6",{className:ro.a.highLighterH6,children:e.date?e.date:""}):null]}),e.text.map((function(e){return Object(Be.jsx)("div",{className:ro.a.secondText,children:e})})),e.children]})}),Object(Be.jsxs)(Xi.a,{style:{justifyContent:"center"},children:[Object(Be.jsx)(jc,{onClick:e.handleCancel,color:"danger",children:e.cancelButton}),e.removeAccept?null:Object(Be.jsx)(jc,{onClick:e.handleAccept,color:"success",autoFocus:!0,disabled:e.disableOK,children:e.acceptButton})]})]})})}var io=a(562),oo=a(477),so={detailPanelGrid:{padding:"1rem !important"},table:{height:"35rem","& tfoot tr td div:nth-child(1)":Object(Ze.a)(Object(Ze.a)({justifyContent:"center",flex:"initial"},nt),{},{fontWeight:600,fontSize:"0.75rem",color:"#8A8A97"}),"& tfoot tr td ":Object(Ze.a)(Object(Ze.a)({border:"none !important"},nt),{},{fontWeight:500,fontSize:"1rem","& > div":{display:"flex",flexWrap:"wrap"}}),"& tfoot tr td div:nth-child(2) span":Object(Ze.a)(Object(Ze.a)({},nt),{},{fontWeight:500,fontSize:"1rem"}),"& .MuiTypography-caption":Object(Ze.a)(Object(Ze.a)({},nt),{},{fontWeight:500,fontSize:"0.75rem",color:"#000"}),"& th":Object(Ze.a)(Object(Ze.a)({},nt),{},{color:"#4B5563 !important",fontSize:"12px !important",fontWeight:"500 !important",lineHeight:"12px !important",letterSpacing:"0.15px !important",borderBottom:"1px solid #e0e0e0 !important",padding:"0.7rem !important",textAlign:"left",flexDirection:"row",backgroundColor:"#F4F5F7",height:"20px"}),"& td":Object(Ze.a)(Object(Ze.a)({},nt),{},{padding:"0.7rem !important",textAlign:"left",fontSize:"12px !important",fontWeight:"400 !important",lineHeight:"12px !important",letterSpacing:"0.15px !important",border:"none",color:"#1F2937",flexDirection:"row"})},switchBox:{paddingTop:"0.8rem !important"},switchBoxInFilter:{paddingTop:"2.3rem !important",paddingRight:"0rem !important"},extendedIcon:{marginRight:"1rem"},imageDiv:{width:"max-content",marginRight:"auto",marginTop:"3rem"},inputFile:{display:"none"},DefaultNoImage:{width:"750px",height:"200px",objectFit:"contain",backgroundColor:"#f3f3f3",border:"2px solid #aba5a5 !Important"},UploadImage:{width:"100%",height:"200px",objectFit:"contain",backgroundColor:"#f3f3f3",border:"2px solid #aba5a5 !Important"},cardCategoryWhite:{"&,& a,& a:hover,& a:focus":{color:"rgba(255,255,255,.62)",margin:"0",fontSize:"14px",marginTop:"0",marginBottom:"0"},"& a,& a:hover,& a:focus":{color:"#FFFFFF"}},componentBorder:{margin:"0.5rem",border:"0.5px solid "+dt[4],borderRadius:"0.5rem"},backdrop:{zIndex:1e3,color:"#fff"},cardTitleWhite:{color:"#FFFFFF",marginTop:"0px",minHeight:"auto",fontWeight:"300",fontFamily:"'Roboto', 'Helvetica', 'Arial', sans-serif",marginBottom:"3px",textDecoration:"none","& small":{color:"#777",fontSize:"65%",fontWeight:"400",lineHeight:"1"}},cardHeaderStyles:{width:"max-content"},addDeleteFabButon:{marginTop:"auto",display:"flex",justifyContent:"center",marginBottom:"auto"},typo:{paddingLeft:"25%",marginBottom:"40px",position:"relative"},typo1:{paddingLeft:"1rem",position:"relative"},h5:{fontWeight:600,fontSize:"1.25em",fontFamily:"Montserrat !important",color:"#8A8A97 !important"},note:{fontFamily:'"Roboto", "Helvetica", "Arial", sans-serif',bottom:"10px",color:"#c0c1c2",display:"block",fontWeight:"400",fontSize:"13px",lineHeight:"13px",left:"0",marginLeft:"20px",position:"absolute",width:"260px"},title:Object(Ze.a)(Object(Ze.a)({},nt),{},{letterSpacing:"unset",lineHeight:"30px",fontSize:"18px",borderRadius:"3px",textTransform:"none",color:"inherit",margin:"0","&:hover,&:focus":{background:"transparent"}}),switchBase:{color:rt[0]+"!important"},switchIcon:{boxShadow:"0 1px 3px 1px rgba("+Xe(ut)+", 0.4)",color:"#FFF !important",border:"1px solid rgba("+Xe(ut)+", .54)"},switchIconChecked:{borderColor:rt[0],transform:"translateX(0px)!important"},switchBar:{width:"30px",height:"15px",backgroundColor:"rgb("+Xe(dt[18])+")",borderRadius:"15px",opacity:"0.7!important"},switchChecked:{"& + $switchBar":{backgroundColor:"rgba("+Xe(rt[0])+", 1) !important"},"& $switchIcon":{borderColor:rt[0]}},label:{cursor:"pointer",paddingLeft:"0",color:"rgba("+Xe(ut)+", 0.26)",fontSize:"14px",lineHeight:"1.428571429",fontWeight:"400",display:"inline-flex"},addIconOnImage:{transform:"translate(-110%, -700%)",cursor:"pointer",padding:"7px",paddingRight:"2px"},editIconOnImage:{transform:"translate(-215%, -700%)",cursor:"pointer",padding:"7px",paddingRight:"2px"},deleteIconOnImage:{transform:"translate(-215%, -700%)",cursor:"pointer",padding:"7px",paddingRight:"2px"},colorPrimary:{color:rt[0]}},lo=Object(We.a)(so);function uo(e){var t=lo(),a=Object(n.useState)(1),c=Object(ia.a)(a,2),i=c[0],o=c[1],s=Object(n.useState)([]),l=Object(ia.a)(s,2),d=l[0],u=l[1],j=r.a.createRef(),b=Object(n.useState)([]),p=Object(ia.a)(b,2),h=p[0],m=p[1],x=Object(n.useState)(!1),O=Object(ia.a)(x,2),f=O[0],g=O[1],v=Object(n.useState)({_sort:"id:asc"}),y=Object(ia.a)(v,2),_=y[0],w=y[1],C=[{title:"Name",field:"name",render:function(e){return On(e.name)?"---":e.name}},{title:"Category",field:"category",sorting:!1,render:function(e){return On(e.category)?"---":e.category}},{title:"Color",field:"color",sorting:!1,render:function(e){return On(e.color)?"---":e.color}},{title:"Size",field:"size",render:function(e){return On(e.size)?"---":e.size}},{title:"Department",field:"department",sorting:!1,render:function(e){return On(e.department)?"---":e.department}},{title:"Costing",field:"costing"},{title:"Balance",field:"balance"}];Object(n.useEffect)((function(){S()}),[]);var S=function(){var e=Object(lr.a)(sr.a.mark((function e(){return sr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(!0),e.next=3,tc(gr,{pageSize:-1},Ke.getToken()).then((function(e){m(e.data.data),g(!1)})).catch((function(e){}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=function(){var t=Object(lr.a)(sr.a.mark((function t(a,n){var r;return sr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r={page:a,pageSize:n},Object.keys(_).map((function(e){r.hasOwnProperty(e)||(r[e]=_[e])})),e.rawMaterialIds&&e.rawMaterialIds.length&&(r=Object(Ze.a)(Object(Ze.a)({},r),{},{id_nin:e.rawMaterialIds})),e.filterId&&e.filterBy&&(r=Object(Ze.a)(Object(Ze.a)({},r),{},{filterId:e.filterId,filterBy:e.filterBy})),t.abrupt("return",new Promise((function(e,t){tc(Pr,r,Ke.getToken()).then((function(t){var a,n=T(null===(a=t.data)||void 0===a?void 0:a.data);e({data:n,page:t.data.page-1,totalCount:t.data.totalCount})}))})));case 5:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),T=function(e){var t=[];return e.map((function(e){var a,n,r,c,i=(null===e||void 0===e||null===(a=e.department)||void 0===a?void 0:a.name)?e.department.name:"--",o=e.costing?e.costing+"/"+e.unit.name:0,s=(null===e||void 0===e||null===(n=e.color)||void 0===n?void 0:n.name)?e.color.name:"--",l=(null===e||void 0===e||null===(r=e.category)||void 0===r?void 0:r.name)?e.category.name:"--",d=(null===e||void 0===e||null===(c=e.unit)||void 0===c?void 0:c.name)?e.unit.name:"--";t.push({id:e.id,name:e.name,category:l,color:s,size:e.size,department:i,costing:o,balance:e.balance?e.balance:"0",is_die:e.is_die,value:e,unit:d})})),t},P=function(e){On(e.target.value)?(delete _[e.target.name],w((function(e){return Object(Ze.a)({},e)}))):w((function(t){return Object(Ze.a)(Object(Ze.a)({},t),{},Object(ma.a)({},e.target.name,e.target.value))}))};return Object(Be.jsx)("div",{children:Object(Be.jsxs)(Ji.a,{open:e.open,onClose:function(){o(1),e.handleClose()},"aria-labelledby":"select-raw-material-title","aria-describedby":"select-raw-material-dialog-description",maxWidth:"lg",children:[Object(Be.jsx)(ao.a,{id:"dialog-title",children:"Select Raw Material"}),Object(Be.jsx)(eo.a,{children:Object(Be.jsx)(to.a,{id:"dialog-description",children:Object(Be.jsxs)(Be.Fragment,{children:[e.isAcceptQuantity?Object(Be.jsx)(Ca,{children:Object(Be.jsx)(ya,{xs:12,sm:12,md:3,children:Object(Be.jsx)(Jn,{onChange:function(e){var t=e.target.value;Sn(t)<0||0===t?u(["Quantity cannot be zero or negative"]):u([]),o(e.target.value)},type:"number",labelText:"Quantity",name:"quantity",value:i,id:"quantity",noMargin:!0,formControlProps:{fullWidth:!0},isHelperText:d.length,helperText:d.length?d.map((function(e){return e+" "})):null,error:d.length})})}):null,Object(Be.jsx)(Ca,{children:Object(Be.jsxs)(ya,{xs:12,sm:12,md:12,children:[Object(Be.jsxs)(Ca,{children:[Object(Be.jsx)(ya,{xs:12,sm:12,md:3,children:Object(Be.jsx)(Jn,{onChange:function(e){return P(e)},labelText:"Name",value:_.name_contains||"",name:"name_contains",id:"name",formControlProps:{fullWidth:!0}})}),Object(Be.jsx)(ya,{xs:12,sm:12,md:2,children:Object(Be.jsx)(Jn,{onChange:function(e){return P(e)},labelText:"Category",value:_["category.name_contains"]||"",name:"category.name_contains",id:"category",formControlProps:{fullWidth:!0}})}),Object(Be.jsx)(ya,{xs:12,sm:12,md:2,children:Object(Be.jsx)(Jn,{onChange:function(e){return P(e)},labelText:"Color",value:_["color.name_contains"]||"",name:"color.name_contains",id:"color",formControlProps:{fullWidth:!0}})}),Object(Be.jsx)(ya,{xs:12,sm:12,md:2,children:Object(Be.jsx)(Jn,{onChange:function(e){return P(e)},labelText:"Size",value:_.size_contains||"",name:"size_contains",id:"size",formControlProps:{fullWidth:!0}})}),Object(Be.jsx)(ya,{xs:12,sm:12,md:2,children:Object(Be.jsx)(ir,{id:"department-name",labelText:"Department",autocompleteId:"department",optionKey:"name",options:h,formControlProps:{fullWidth:!0},onChange:function(e,t){null!==t?w((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{department:t.id})})):(delete _.department,w((function(e){return Object(Ze.a)({},e)})))},value:h[h.findIndex((function(e,t){return e.id===_.department}))]||null})})]}),Object(Be.jsxs)(Ca,{children:[Object(Be.jsx)(ya,{xs:12,sm:12,md:2,children:Object(Be.jsx)($i,{onChange:function(e){e.target.checked?w((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{is_die:!0})})):(delete _.is_die,w((function(e){return Object(Ze.a)({},e)})))},labelText:"Die",name:"is_die",checked:_.is_die||!1,id:"die"})}),Object(Be.jsxs)(ya,{xs:12,sm:12,md:10,style:{marginTop:"27px"},children:[Object(Be.jsx)(jc,{color:"primary",onClick:function(){j.current.onQueryChange()},children:"Search"}),Object(Be.jsx)(jc,{color:"primary",onClick:function(){delete _.name_contains,delete _["color.name_contains"],delete _.size_contains,delete _.department,delete _.costing_contains,delete _.balance_gte,delete _.balance_lte,delete _.is_die,delete _["category.name_contains"],w((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{_sort:"id:asc"})})),j.current.onQueryChange()},children:"Cancel"})]})]}),Object(Be.jsx)("br",{}),Object(Be.jsx)($t,{tableRef:j,title:"Raw Materials",columns:C,data:function(){var e=Object(lr.a)(sr.a.mark((function e(t){return sr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k(t.page+1,t.pageSize);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),actions:[function(t){return{icon:function(){return Object(Be.jsx)(jc,{color:"primary",children:"Select"})},tooltip:"Select this raw material",onClick:function(t,a){var n="0";n=a.balance?a.balance:"0";var r={id:"#"+a.id,name:a.name,department:a.department,category:On(a.category)?"---":a.category,color:On(a.color)?"---":a.color,size:On(a.size)?"---":a.size,bal:n};e.isHandleKey?e.handleAddRawMaterial("raw_material",a.value,e.gridKey,r,i):e.handleAddRawMaterial(a.value,r,i)}}}],options:{pageSize:10,search:!1,sorting:!0,thirdSortClick:!1},onOrderChange:function(e,t){!function(e,t){var a,n;e>=0&&(a=C[e].field),n=a+":"+t,w((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{_sort:n})})),j.current.onQueryChange()}(e,t)}})]})}),Object(Be.jsx)(io.a,{className:t.backdrop,open:f,children:Object(Be.jsx)(oo.a,{color:"inherit"})})]})})}),Object(Be.jsx)(Xi.a,{style:{justifyContent:"center"},children:Object(Be.jsx)(jc,{onClick:function(){o(1),e.handleCancel()},color:"danger",children:"Cancel"})})]})})}function jo(e){var t=r.a.createRef(),a=Object(n.useState)({_sort:"id:desc",raw_material:e?e.selectedRawMaterialId:null}),c=Object(ia.a)(a,2),i=c[0],o=c[1];Object(n.useEffect)((function(){o((function(t){return Object(Ze.a)(Object(Ze.a)({},t),{},{raw_material:e?e.selectedRawMaterialId:null})}))}),[e]);var s=[{title:"Year",field:"year"},{title:"Month",field:"month",render:function(e){return t=e.month,["January","February","March","April","May","June","July","August","September","October","November","December"][parseInt(t)-1];var t}}],l=function(){var e=Object(lr.a)(sr.a.mark((function e(t,a){var n;return sr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={page:t,pageSize:a},Object.keys(i).map((function(e){n.hasOwnProperty(e)||(n[e]=i[e])})),e.abrupt("return",new Promise((function(e,t){fetch(Nr+"?"+new URLSearchParams(n),{method:"GET",headers:{"content-type":"application/json",Authorization:"Bearer "+Ke.getToken()}}).then((function(e){if(e.ok)return e.json();if(401!==e.status)throw new Error("Something went wrong");Ke.clearAppStorage(),window.location.href="".concat(hr,"/login")})).then((function(t){e({data:t.data,page:t.page-1,totalCount:t.totalCount})})).catch((function(e){throw e}))})));case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();return Object(Be.jsx)("div",{children:Object(Be.jsxs)(Ji.a,{open:e.open,onClose:e.handleClose,"aria-labelledby":"select-raw-material-title","aria-describedby":"select-raw-material-dialog-description",maxWidth:"lg",children:[Object(Be.jsxs)(ao.a,{id:"dialog-title",children:["Check Past Usage for ",e.rawMaterialName]}),Object(Be.jsx)(eo.a,{children:Object(Be.jsx)(to.a,{id:"dialog-description",children:Object(Be.jsx)(Be.Fragment,{children:Object(Be.jsx)(Ca,{children:Object(Be.jsxs)(ya,{xs:12,sm:12,md:12,children:[Object(Be.jsxs)(Ca,{children:[Object(Be.jsx)(ya,{xs:12,sm:12,md:3,children:Object(Be.jsx)(Jn,{onChange:function(e){return function(e){On(e.target.value)?(delete i[e.target.name],o((function(e){return Object(Ze.a)({},e)}))):o((function(t){return Object(Ze.a)(Object(Ze.a)({},t),{},Object(ma.a)({},e.target.name,e.target.value))}))}(e)},labelText:"Year",value:i.year_contains||"",name:"year_contains",id:"year",formControlProps:{fullWidth:!0}})}),Object(Be.jsxs)(ya,{xs:12,sm:12,md:10,style:{marginTop:"27px"},children:[Object(Be.jsx)(jc,{color:"primary",onClick:function(){t.current.onQueryChange()},children:"Search"}),Object(Be.jsx)(jc,{color:"primary",onClick:function(){delete i.year_contains,o((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{_sort:"id:desc"})})),t.current.onQueryChange()},children:"Cancel"})]})]}),Object(Be.jsx)("br",{}),Object(Be.jsx)($t,{tableRef:t,title:"Raw Materials",columns:s,data:function(){var e=Object(lr.a)(sr.a.mark((function e(t){return sr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l(t.page+1,t.pageSize);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),actions:[function(t){return{icon:function(){return Object(Be.jsx)(jc,{color:"primary",children:"Select"})},tooltip:"Select this month and year",onClick:function(t,a){e.getPreviosMonthData(a.year,a.month)}}}],options:{pageSize:5,search:!1,sorting:!0,thirdSortClick:!1},onOrderChange:function(e,a){!function(e,a){var n,r;e>=0&&(n=s[e].field),r=n+":"+a,o((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{_sort:r})})),t.current.onQueryChange()}(e,a)}})]})})})})}),Object(Be.jsx)(Xi.a,{style:{justifyContent:"center"},children:Object(Be.jsx)(jc,{onClick:e.handleCancel,color:"danger",children:"Cancel"})})]})})}function bo(e){var t=r.a.createRef(),a=Object(n.useState)({_sort:"seller_name:asc"}),c=Object(ia.a)(a,2),i=c[0],o=c[1],s=[{title:"Seller Name",field:"seller_name"},{title:"GSTIN/UIN",field:"gst_no"},{title:"Phone",field:"phone"}],l=function(){var e=Object(lr.a)(sr.a.mark((function e(t,a){var n;return sr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={page:t,pageSize:a},Object.keys(i).map((function(e){n.hasOwnProperty(e)||(n[e]=i[e])})),e.abrupt("return",new Promise((function(e,t){fetch(wr+"?"+new URLSearchParams(n),{method:"GET",headers:{"content-type":"application/json",Authorization:"Bearer "+Ke.getToken()}}).then((function(e){if(e.ok)return e.json();if(401!==e.status)throw new Error("Something went wrong");Ke.clearAppStorage(),window.location.href="".concat(hr,"/login")})).then((function(t){e({data:t.data,page:t.page-1,totalCount:t.totalCount})})).catch((function(e){throw e}))})));case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();return Object(Be.jsx)("div",{children:Object(Be.jsxs)(Ji.a,{open:e.open,onClose:e.handleClose,"aria-labelledby":"select-raw-material-title","aria-describedby":"select-raw-material-dialog-description",maxWidth:"lg",children:[Object(Be.jsx)(ao.a,{id:"dialog-title",children:"Select Seller"}),Object(Be.jsx)(eo.a,{children:Object(Be.jsx)(to.a,{id:"dialog-description",children:Object(Be.jsx)(Ca,{children:Object(Be.jsxs)(ya,{xs:12,sm:12,md:12,children:[Object(Be.jsxs)(Ca,{children:[Object(Be.jsx)(ya,{xs:12,sm:12,md:6,children:Object(Be.jsx)(Jn,{onChange:function(e){return function(e){On(e.target.value)?(delete i[e.target.name],o((function(e){return Object(Ze.a)({},e)}))):o((function(t){return Object(Ze.a)(Object(Ze.a)({},t),{},Object(ma.a)({},e.target.name,e.target.value))}))}(e)},labelText:"Seller Name",value:i.seller_name_contains||"",name:"seller_name_contains",id:"seller_name_contains",formControlProps:{fullWidth:!0}})}),Object(Be.jsxs)(ya,{xs:12,sm:12,md:6,style:{marginTop:"27px"},children:[Object(Be.jsx)(jc,{color:"primary",onClick:function(){t.current.onQueryChange()},children:"Search"}),Object(Be.jsx)(jc,{color:"primary",onClick:function(){delete i.seller_name_contains,o((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{_sort:"seller_name:asc"})})),t.current.onQueryChange()},children:"Cancel"})]})]}),Object(Be.jsx)($t,{tableRef:t,title:"Purchases",columns:s,data:function(){var e=Object(lr.a)(sr.a.mark((function e(t){return sr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l(t.page+1,t.pageSize);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),actions:[function(t){return{icon:function(){return Object(Be.jsx)(jc,{color:"primary",children:"Select"})},tooltip:"Select this Seller",onClick:function(t,a){e.handleAddSeller(a)}}}],options:{pageSize:10,search:!1,sorting:!0,thirdSortClick:!1},onOrderChange:function(e,a){!function(e,a){var n,r;e>=0&&(n=s[e].field),r=n+":"+a,o((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{_sort:r})})),t.current.onQueryChange()}(e,a)}})]})})})})]})})}function po(e){var t=r.a.createRef(),a=Object(n.useState)({_sort:"party_name:asc"}),c=Object(ia.a)(a,2),i=c[0],o=c[1],s=[{title:"Party Name",field:"party_name"},{title:"GSTIN/UIN",field:"gst_no"},{title:"Phone",field:"phone"}],l=function(){var e=Object(lr.a)(sr.a.mark((function e(t,a){var n;return sr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={page:t,pageSize:a},Object.keys(i).map((function(e){n.hasOwnProperty(e)||(n[e]=i[e])})),e.abrupt("return",new Promise((function(e,t){fetch(yr+"?"+new URLSearchParams(n),{method:"GET",headers:{"content-type":"application/json",Authorization:"Bearer "+Ke.getToken()}}).then((function(e){if(e.ok)return e.json();if(401!==e.status)throw new Error("Something went wrong");Ke.clearAppStorage(),window.location.href="".concat(hr,"/login")})).then((function(t){e({data:t.data,page:t.page-1,totalCount:t.totalCount})})).catch((function(e){throw e}))})));case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();return Object(Be.jsx)("div",{children:Object(Be.jsxs)(Ji.a,{open:e.open,onClose:e.handleClose,"aria-labelledby":"select-raw-material-title","aria-describedby":"select-raw-material-dialog-description",maxWidth:"lg",children:[Object(Be.jsx)(ao.a,{id:"dialog-title",children:"Select Party"}),Object(Be.jsx)(eo.a,{children:Object(Be.jsx)(to.a,{id:"dialog-description",children:Object(Be.jsx)(Ca,{children:Object(Be.jsxs)(ya,{xs:12,sm:12,md:12,children:[Object(Be.jsxs)(Ca,{children:[Object(Be.jsx)(ya,{xs:12,sm:12,md:6,children:Object(Be.jsx)(Jn,{onChange:function(e){return function(e){On(e.target.value)?(delete i[e.target.name],o((function(e){return Object(Ze.a)({},e)}))):o((function(t){return Object(Ze.a)(Object(Ze.a)({},t),{},Object(ma.a)({},e.target.name,e.target.value))}))}(e)},labelText:"Party Name",value:i.party_name_contains||"",name:"party_name_contains",id:"party_name_contains",formControlProps:{fullWidth:!0}})}),Object(Be.jsxs)(ya,{xs:12,sm:12,md:6,style:{marginTop:"27px"},children:[Object(Be.jsx)(jc,{color:"primary",onClick:function(){t.current.onQueryChange()},children:"Search"}),Object(Be.jsx)(jc,{color:"primary",onClick:function(){delete i.party_name_contains,o((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{_sort:"party_name:asc"})})),t.current.onQueryChange()},children:"Cancel"})]})]}),Object(Be.jsx)($t,{tableRef:t,title:"Purchases",columns:s,data:function(){var e=Object(lr.a)(sr.a.mark((function e(t){return sr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l(t.page+1,t.pageSize);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),actions:[function(t){return{icon:function(){return Object(Be.jsx)(jc,{color:"primary",children:"Select"})},tooltip:"Select this Seller",onClick:function(t,a){e.handleAddParties(a)}}}],options:{pageSize:10,search:!1,sorting:!0,thirdSortClick:!1},onOrderChange:function(e,a){!function(e,a){var n,r;e>=0&&(n=s[e].field),r=n+":"+a,o((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{_sort:r})})),t.current.onQueryChange()}(e,a)}})]})})})})]})})}function ho(e){var t=r.a.createRef(),a=Object(n.useState)({_sort:"name:asc"}),c=Object(ia.a)(a,2),i=c[0],o=c[1],s=[{title:"Category Name",field:"name"}],l=function(){var e=Object(lr.a)(sr.a.mark((function e(t,a){var n;return sr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={page:t,pageSize:a},Object.keys(i).map((function(e){n.hasOwnProperty(e)||(n[e]=i[e])})),e.abrupt("return",new Promise((function(e,t){fetch(kr+"?"+new URLSearchParams(n),{method:"GET",headers:{"content-type":"application/json",Authorization:"Bearer "+Ke.getToken()}}).then((function(e){if(e.ok)return e.json();if(401!==e.status)throw new Error("Something went wrong");Ke.clearAppStorage(),window.location.href="".concat(hr,"/login")})).then((function(t){e({data:t.data,page:t.page-1,totalCount:t.totalCount})})).catch((function(e){throw e}))})));case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();return Object(Be.jsx)("div",{children:Object(Be.jsxs)(Ji.a,{open:e.open,onClose:e.handleClose,"aria-labelledby":"select-raw-material-title","aria-describedby":"select-raw-material-dialog-description",maxWidth:"lg",children:[Object(Be.jsx)(ao.a,{id:"dialog-title",children:"Select Category"}),Object(Be.jsx)(eo.a,{children:Object(Be.jsx)(to.a,{id:"dialog-description",children:Object(Be.jsxs)(Ca,{children:[Object(Be.jsx)(ya,{xs:12,md:12,children:Object(Be.jsxs)(Ca,{children:[Object(Be.jsx)(ya,{xs:12,md:6,children:Object(Be.jsx)(Jn,{onChange:function(e){return function(e){On(e.target.value)?(delete i[e.target.name],o((function(e){return Object(Ze.a)({},e)}))):o((function(t){return Object(Ze.a)(Object(Ze.a)({},t),{},Object(ma.a)({},e.target.name,e.target.value))}))}(e)},labelText:"Category Name",value:i.name_contains||"",name:"name_contains",id:"name_contains",formControlProps:{fullWidth:!0}})}),Object(Be.jsx)(ya,{xs:12,md:2,style:{marginTop:"27px"},children:Object(Be.jsx)(jc,{color:"primary",onClick:function(){t.current.onQueryChange()},children:"Search"})}),Object(Be.jsx)(ya,{xs:12,md:2,style:{marginTop:"27px"},children:Object(Be.jsx)(jc,{color:"primary",onClick:function(){delete i.name_contains,o((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{_sort:"name:asc"})})),t.current.onQueryChange()},children:"Cancel"})})]})}),Object(Be.jsx)(ya,{xs:12,md:12,children:Object(Be.jsx)($t,{tableRef:t,title:"Categories",columns:s,data:function(){var e=Object(lr.a)(sr.a.mark((function e(t){return sr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l(t.page+1,t.pageSize);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),actions:[function(t){return{icon:function(){return Object(Be.jsx)(jc,{color:"primary",children:"Select"})},tooltip:"Select this Category",onClick:function(t,a){e.handleAddCategory(a)}}}],options:{pageSize:10,search:!1,sorting:!0,thirdSortClick:!1},onOrderChange:function(e,a){!function(e,a){var n,r;e>=0&&(n=s[e].field),r=n+":"+a,o((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{_sort:r})})),t.current.onQueryChange()}(e,a)}})})]})})})]})})}function mo(e){var t=r.a.createRef(),a=Object(n.useState)({_sort:"name:asc"}),c=Object(ia.a)(a,2),i=c[0],o=c[1],s=[{title:"Color Name",field:"name"}],l=function(){var e=Object(lr.a)(sr.a.mark((function e(t,a){var n;return sr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={page:t,pageSize:a},Object.keys(i).map((function(e){n.hasOwnProperty(e)||(n[e]=i[e])})),e.abrupt("return",new Promise((function(e,t){fetch(Tr+"?"+new URLSearchParams(n),{method:"GET",headers:{"content-type":"application/json",Authorization:"Bearer "+Ke.getToken()}}).then((function(e){if(e.ok)return e.json();if(401!==e.status)throw new Error("Something went wrong");Ke.clearAppStorage(),window.location.href="".concat(hr,"/login")})).then((function(t){e({data:t.data,page:t.page-1,totalCount:t.totalCount})})).catch((function(e){throw e}))})));case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();return Object(Be.jsx)("div",{children:Object(Be.jsxs)(Ji.a,{open:e.open,onClose:e.handleClose,"aria-labelledby":"select-raw-material-title","aria-describedby":"select-raw-material-dialog-description",maxWidth:"lg",children:[Object(Be.jsx)(ao.a,{id:"dialog-title",children:"Select Color"}),Object(Be.jsx)(eo.a,{children:Object(Be.jsx)(to.a,{id:"dialog-description",children:Object(Be.jsx)(Ca,{children:Object(Be.jsxs)(ya,{xs:12,sm:12,md:12,children:[Object(Be.jsxs)(Ca,{children:[Object(Be.jsx)(ya,{xs:12,sm:12,md:6,children:Object(Be.jsx)(Jn,{onChange:function(e){return function(e){On(e.target.value)?(delete i[e.target.name],o((function(e){return Object(Ze.a)({},e)}))):o((function(t){return Object(Ze.a)(Object(Ze.a)({},t),{},Object(ma.a)({},e.target.name,e.target.value))}))}(e)},labelText:"Color Name",value:i.name_contains||"",name:"name_contains",id:"name_contains",formControlProps:{fullWidth:!0}})}),Object(Be.jsx)(ya,{xs:12,sm:12,md:3,style:{marginTop:"27px"},children:Object(Be.jsx)(jc,{color:"primary",onClick:function(){t.current.onQueryChange()},children:"Search"})}),Object(Be.jsx)(ya,{xs:12,sm:12,md:3,style:{marginTop:"27px"},children:Object(Be.jsx)(jc,{color:"primary",onClick:function(){delete i.name_contains,o((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{_sort:"name:asc"})})),t.current.onQueryChange()},children:"Cancel"})})]}),Object(Be.jsx)($t,{tableRef:t,title:"Colors",columns:s,data:function(){var e=Object(lr.a)(sr.a.mark((function e(t){return sr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l(t.page+1,t.pageSize);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),actions:[function(t){return{icon:function(){return Object(Be.jsx)(jc,{color:"primary",children:"Select"})},tooltip:"Select this Color",onClick:function(t,a){e.handleAddColor(a)}}}],options:{pageSize:10,search:!1,sorting:!0,thirdSortClick:!1},onOrderChange:function(e,a){!function(e,a){var n,r;e>=0&&(n=s[e].field),r=n+":"+a,o((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{_sort:r})})),t.current.onQueryChange()}(e,a)}})]})})})})]})})}var xo=a.p+"static/media/no_image_icon.b8ce4be6.png",Oo=Object(We.a)(so);function fo(e){var t=r.a.createRef(),a=Object(n.useState)(!1),c=Object(ia.a)(a,2),i=c[0],o=c[1],s=Oo(),l=Object(n.useState)([]),d=Object(ia.a)(l,2),u=d[0],j=d[1],b=Object(n.useState)({_sort:"id:desc"}),p=Object(ia.a)(b,2),h=p[0],m=p[1],x=[{title:"Material No",field:"material_no"},{title:"Image",render:function(e){return Object(Be.jsx)("div",{className:s.imageDivInTable,children:e.images&&e.images.length&&e.images[0].url?Object(Be.jsx)("img",{alt:"ready_material_photo",src:pr+e.images[0].url,loader:Object(Be.jsx)(oo.a,{}),style:{height:"5rem",width:"10rem"},className:s.UploadImage}):Object(Be.jsx)("img",{src:xo,alt:"ready_material_photo",style:{height:"5rem",width:"10rem"},loader:Object(Be.jsx)(oo.a,{}),className:s.DefaultNoImage})})}},{title:"Available Quantity",field:"total_quantity"},{title:"Price",field:"final_cost",render:function(e){return yn(e.final_cost,!0)}}];Object(n.useEffect)((function(){var t;o(!0);var a=[];(null===e||void 0===e||null===(t=e.selectedReadyMaterial)||void 0===t?void 0:t.length)&&(a=e.selectedReadyMaterial.map((function(e){return e.ready_material.id}))),j(a),o(!1)}),[]);var O=function(){var e=Object(lr.a)(sr.a.mark((function e(t,a){var n;return sr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={page:t,pageSize:a},Object.keys(h).map((function(e){n.hasOwnProperty(e)||(n[e]=h[e])})),e.abrupt("return",new Promise((function(e,t){fetch(Lr+"?"+new URLSearchParams(n),{method:"GET",headers:{"content-type":"application/json",Authorization:"Bearer "+Ke.getToken()}}).then((function(e){if(e.ok)return e.json();if(401!==e.status)throw new Error("Something went wrong");Ke.clearAppStorage(),window.location.href="".concat(hr,"/login")})).then((function(t){e({data:t.data,page:t.page-1,totalCount:t.totalCount})})).catch((function(e){throw e}))})));case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();return Object(Be.jsx)("div",{children:Object(Be.jsxs)(Ji.a,{open:e.open,onClose:e.handleClose,"aria-labelledby":"select-raw-material-title","aria-describedby":"select-raw-material-dialog-description",maxWidth:"lg",children:[Object(Be.jsx)(ao.a,{id:"dialog-title",children:"Select Ready Material"}),Object(Be.jsx)(eo.a,{children:Object(Be.jsx)(to.a,{id:"dialog-description",children:Object(Be.jsxs)(Be.Fragment,{children:[Object(Be.jsxs)(Ca,{children:[Object(Be.jsx)(ya,{xs:12,sm:3,md:4,children:Object(Be.jsx)(Jn,{onChange:function(e){On(e.target.value)?(delete h.material_no_contains,m((function(e){return Object(Ze.a)({},e)}))):m((function(t){return Object(Ze.a)(Object(Ze.a)({},t),{},{material_no_contains:e.target.value})}))},type:"text",labelText:"Material Number",name:"material_no_contains",noMargin:!0,value:h.material_no_contains||"",id:"material_no_contains",formControlProps:{fullWidth:!0}})}),Object(Be.jsxs)(ya,{xs:12,sm:12,md:8,children:[Object(Be.jsx)(jc,{color:"primary",onClick:function(){t.current.onQueryChange()},children:"Search"}),Object(Be.jsx)(jc,{color:"primary",onClick:function(){delete h.material_no_contains,m((function(e){return Object(Ze.a)({},e)})),t.current.onQueryChange()},children:"Cancel"})]})]}),Object(Be.jsx)("br",{}),Object(Be.jsx)($t,{tableRef:t,title:"Ready Materials",columns:x,data:function(){var e=Object(lr.a)(sr.a.mark((function e(t){return sr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O(t.page+1,t.pageSize);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),actions:[function(t){return{icon:function(){return u.includes(t.id)||e.noAddAvailableQuantites&&!parseInt(t.total_quantity)?null:Object(Be.jsx)(jc,{color:"primary",children:"Select"})},tooltip:u.includes(t.id)?"Already added":"Select this ready material",onClick:function(t,a){u.includes(a.id)||e.noAddAvailableQuantites&&!parseInt(a.total_quantity)||(e.isHandleKey?e.handleAddReadyMaterial("ready_material",a,e.gridKey):e.handleAddReadyMaterial(a))}}}],options:{pageSize:10,search:!1,sorting:!0,thirdSortClick:!1,rowStyle:function(t){return{backgroundColor:u.includes(t.id)||e.noAddAvailableQuantites&&!parseInt(t.total_quantity)?"#F3F3F3":"#FFFFFF"}}},onOrderChange:function(e,a){!function(e,a){var n,r;e>=0&&(n=x[e].field),r=n+":"+a,m((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{_sort:r})})),t.current.onQueryChange()}(e,a)}})]})})}),Object(Be.jsx)(io.a,{className:s.backdrop,open:i,children:Object(Be.jsx)(oo.a,{color:"inherit"})})]})})}function go(e){var t=[{title:"Name",field:"name"},{title:"Current Balance",field:"currentBalance"},{title:"Quantity required per piece of design",field:"quantityRequiredPerPieceOfDesign"},{title:"Total Raw Material required for order completion",field:"totalMaterialsRequiredForRemainingQuantity"}],a=function(e){return Object(Be.jsx)(En,{title:e.title,columns:e.columns,data:e.data})};return Object(Be.jsx)("div",{children:Object(Be.jsxs)(Ji.a,{open:e.open,onClose:e.handleClose,"aria-labelledby":"select-raw-material-title","aria-describedby":"select-raw-material-dialog-description",maxWidth:"lg",children:[Object(Be.jsx)(ao.a,{id:"dialog-title",children:"Stock Availibility"}),Object(Be.jsx)(eo.a,{children:Object(Be.jsx)(to.a,{id:"dialog-description",children:Object(Be.jsx)(Ca,{children:Object(Be.jsx)(ya,{xs:12,sm:12,md:12,children:Object(Be.jsx)(Ci,{title:"Available Stocks :",headerColor:"primary",tabs:function(){var n=null===e||void 0===e?void 0:e.availibleStocks,r=[];if(!n)return r;if(r.push({tabName:n.isColorPresent?"Common Raw Materials required in all the colors":"All Raw Materials",tabContent:Object(Be.jsx)(a,{title:n.isColorPresent?"Common Raw Materials required in all the colors":"All Raw Materials",columns:t,data:n.rawMaterials})}),n.isColorPresent&&Object.keys(n.orderRatios).length){var c=n.orderRatios;Object.keys(c).forEach((function(e){r.push({tabName:c[e].name,tabContent:Object(Be.jsx)(a,{title:c[e].name,columns:t,data:c[e].rawMaterials})})}))}return r}()})})})})})]})})}var vo=Object(We.a)(so);function yo(e){var t=vo(),a=Object(s.useHistory)(),c=Object(n.useState)(!1),i=Object(ia.a)(c,2),o=i[0],l=i[1],d=Object(n.useState)(""),u=Object(ia.a)(d,2),j=u[0],b=u[1],p=r.a.useState([]),h=Object(ia.a)(p,2),m=h[0],x=h[1],O=r.a.useState({show:!1,severity:"",message:""}),f=Object(ia.a)(O,2),g=f[0],v=f[1],y=function(){var t=Object(lr.a)(sr.a.mark((function t(){return sr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return l(!0),t.next=3,ac(Br,{design:e.designId,designNumber:j},Ke.getToken()).then((function(e){l(!1),a.push("".concat(ge,"/").concat(e.data.id))})).catch((function(e){var t;l(!1),400===(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status)?x(["Material with same name already present"]):v((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{show:!0,severity:"error",message:"Error"})}))}));case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(Be.jsxs)("div",{children:[Object(Be.jsx)(bi,{open:g.show,severity:g.severity,message:g.message,handleClose:function(){v((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{show:!1,severity:"",message:""})}))}}),Object(Be.jsxs)(Ji.a,{open:e.open,onClose:e.handleClose,"aria-labelledby":"select-raw-material-title","aria-describedby":"select-raw-material-dialog-description",maxWidth:"lg",children:[Object(Be.jsx)(ao.a,{id:"dialog-title",children:"Duplicate Design : ".concat(e.designNumber)}),Object(Be.jsx)(eo.a,{children:Object(Be.jsx)(to.a,{id:"dialog-description",children:Object(Be.jsxs)(Be.Fragment,{children:[Object(Be.jsx)(Ca,{children:Object(Be.jsx)(ya,{xs:12,sm:12,md:12,children:Object(Be.jsx)(Jn,{onChange:function(e){x([]),b(e.target.value)},labelText:"New Design Number",value:j,name:"design_number",id:"design_number",formControlProps:{fullWidth:!0},helperTextId:"helperText_design_number",isHelperText:m.length,helperText:m.length?m.map((function(e){return e+" "})):null,error:m.length})})}),Object(Be.jsx)(io.a,{className:t.backdrop,open:o,children:Object(Be.jsx)(oo.a,{color:"inherit"})})]})})}),Object(Be.jsxs)(Xi.a,{style:{justifyContent:"center"},children:[Object(Be.jsx)(jc,{onClick:e.handleCancel,color:"danger",children:"Cancel"}),Object(Be.jsx)(jc,{onClick:function(){On(j)?x(["Design number cannot be empty"]):y()},color:"success",children:"Duplicate"})]})]}),Object(Be.jsx)(io.a,{className:t.backdrop,open:o,children:Object(Be.jsx)(oo.a,{color:"inherit"})})]})}var _o=a(816),wo=a(820);function Co(e){return e.data&&e.data.length?Object(Be.jsx)(Be.Fragment,{children:e.data.map((function(e,t){var a;return Object(Be.jsx)(_o.a,{container:!0,children:Object(Be.jsx)(_o.a,{item:!0,xs:12,children:Object(Be.jsxs)(wo.a,{variant:"body2",gutterBottom:!0,children:[Object(Be.jsxs)("b",{children:[null===(a=e.color)||void 0===a?void 0:a.name,": "]})," ",e.stock?e.stock:0]})})})}))}):Object(Be.jsx)(Be.Fragment,{})}function So(e){return e.data&&e.data.length?Object(Be.jsx)(Be.Fragment,{children:Object(Be.jsxs)(_o.a,{xs:12,sm:12,md:12,sx:{display:"flex",justifyContent:"center"},children:[Object(Be.jsx)("b",{children:"Available Ratio's : "}),Object(Be.jsx)("span",{style:{display:"flex"},children:e.data.map((function(t,a){return Object(Be.jsx)(Be.Fragment,{children:Object(Be.jsx)(wo.a,{variant:"body2",gutterBottom:!0,children:"".concat(null===t||void 0===t?void 0:t.name," ").concat(a+1===e.data.length?"":",")})})}))})]})}):Object(Be.jsx)(Be.Fragment,{})}var ko=Object(We.a)(so);function To(e){var t=r.a.createRef(),a=Object(n.useState)(!1),c=Object(ia.a)(a,2),i=c[0],o=(c[1],ko()),s=Object(n.useState)({_sort:"id:desc"}),l=Object(ia.a)(s,2),d=l[0],u=l[1],j=Object(n.useState)({}),b=Object(ia.a)(j,2),p=b[0],h=b[1];Object(n.useEffect)((function(){h(e.selectedDesign)}),[e]);var m=[{title:"Material No",field:"material_no",sorting:!1,align:"center"},{title:"Image",sorting:!1,align:"center",render:function(e){return Object(Be.jsx)("div",{className:o.imageDivInTable,children:e.images&&e.images.length&&e.images[0].url?Object(Be.jsx)("img",{alt:"ready_material_photo",src:pr+e.images[0].url,loader:Object(Be.jsx)(oo.a,{}),style:{height:"5rem",width:"10rem"},className:o.UploadImage}):Object(Be.jsx)("img",{src:xo,alt:"ready_material_photo",style:{height:"5rem",width:"10rem"},loader:Object(Be.jsx)(oo.a,{}),className:o.DefaultNoImage})})}},{title:"Available Stock",cellStyle:{width:300,minWidth:300},render:function(t){var a="";if(e.selectMultiColors)a=f(t);else if(t.color_price&&t.color_price.length){var n=t.color_price;a=Object(Be.jsx)(Co,{data:n})}else a=t.stock;return a}}],x=function(){var t=Object(lr.a)(sr.a.mark((function t(a,n){var r;return sr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r={page:a,pageSize:n},Object.keys(d).map((function(e){r.hasOwnProperty(e)||(r[e]=d[e])})),t.abrupt("return",new Promise((function(t,a){fetch(e.partyId?Hr:Wr+"?"+new URLSearchParams(r),{method:"GET",headers:{"content-type":"application/json",Authorization:"Bearer "+Ke.getToken()}}).then((function(e){if(e.ok)return e.json();if(401!==e.status)throw new Error("Something went wrong");Ke.clearAppStorage(),window.location.href="".concat(hr,"/login")})).then((function(e){t({data:e.data,page:e.page-1,totalCount:e.totalCount})})).catch((function(e){throw e}))})));case 3:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),O=function(e,a){var n,r;e>=0&&(n=m[e].field),r=n+":"+a,u((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{_sort:r})})),t.current.onQueryChange()},f=function(t){var a=null;t.color_price&&t.color_price.length?a=t.color_price.map((function(a){var n,r,c=null===(n=p[a.design])||void 0===n?void 0:n.colorsPresent;return Object(Be.jsxs)(_o.a,{container:!0,children:[Object(Be.jsx)(_o.a,{item:!0,children:a.stock?Object(Be.jsx)(jc,{color:"primary",onClick:function(){e.selectDesign(a,t)},disabled:c&&c.length&&c.includes(a.color.id)||!a.stock,children:"Select"}):Object(Be.jsx)(jc,{color:"danger",disabled:!0,children:"Stock not present"})}),Object(Be.jsx)(_o.a,{item:!0,sx:{ml:2,mt:2},children:Object(Be.jsxs)(wo.a,{variant:"body2",gutterBottom:!0,children:[Object(Be.jsxs)("b",{children:[null===(r=a.color)||void 0===r?void 0:r.name,": "]})," ",a.stock]})})]})})):a="";return a};return Object(Be.jsx)("div",{children:Object(Be.jsxs)(Ji.a,{open:e.open,onClose:e.handleClose,"aria-labelledby":"select-raw-material-title","aria-describedby":"select-raw-material-dialog-description",maxWidth:"lg",children:[Object(Be.jsx)(ao.a,{id:"dialog-title",children:e.title?e.title:"Select Designs"}),Object(Be.jsx)(eo.a,{children:Object(Be.jsx)(to.a,{id:"dialog-description",children:Object(Be.jsx)(Ca,{children:Object(Be.jsxs)(ya,{xs:12,sm:12,md:12,children:[Object(Be.jsxs)(Ca,{children:[Object(Be.jsx)(ya,{xs:12,sm:3,md:6,children:Object(Be.jsx)(Jn,{onChange:function(e){On(e.target.value)?(delete d.material_no_contains,u((function(e){return Object(Ze.a)({},e)}))):u((function(t){return Object(Ze.a)(Object(Ze.a)({},t),{},{material_no_contains:e.target.value})}))},type:"text",labelText:"Material Number",name:"material_no_contains",noMargin:!0,value:d.material_no_contains||"",id:"material_no_contains",formControlProps:{fullWidth:!0}})}),Object(Be.jsxs)(ya,{xs:12,sm:12,md:6,children:[Object(Be.jsx)(jc,{color:"primary",onClick:function(){t.current.onQueryChange()},children:"Search"}),Object(Be.jsx)(jc,{color:"primary",onClick:function(){delete d.material_no_contains,u((function(e){return Object(Ze.a)({},e)})),t.current.onQueryChange()},children:"Cancel"})]})]}),Object(Be.jsx)("br",{}),e.selectMultiColors?Object(Be.jsx)($t,{tableRef:t,title:"Ready Materials",columns:m,data:function(){var e=Object(lr.a)(sr.a.mark((function e(t){return sr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x(t.page+1,t.pageSize);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),localization:{body:{editRow:{deleteText:"Are you sure you want to delete this design?",saveTooltip:"Save"}}},detailPanel:function(e){return f(e)},options:{pageSize:10,search:!1,sorting:!0,thirdSortClick:!1},onOrderChange:function(e,t){O(e,t)}}):Object(Be.jsx)($t,{tableRef:t,title:"Ready Materials",columns:m,data:function(){var e=Object(lr.a)(sr.a.mark((function e(t){return sr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x(t.page+1,t.pageSize);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),localization:{body:{editRow:{deleteText:"Are you sure you want to delete this design?",saveTooltip:"Save"}}},actions:[function(t){return{icon:function(){return Object(Be.jsx)(jc,{color:"primary",children:"Select"})},onClick:function(t,a){e.isHandleKey?e.handleAddDesign("design",e.gridKey,a):e.handleAddDesign(a)}}}],options:{pageSize:10,search:!1,sorting:!0,thirdSortClick:!1},onOrderChange:function(e,t){O(e,t)}})]})})})}),Object(Be.jsx)(io.a,{className:o.backdrop,open:i,children:Object(Be.jsx)(oo.a,{color:"inherit"})})]})})}function Po(e){var t,a,n,r,c,i;return Object(Be.jsx)(Ca,{children:Object(Be.jsxs)(ya,{xs:12,sm:12,md:12,children:[Object(Be.jsx)(Ca,{style:{dispay:"flex"},children:Object(Be.jsx)(ya,{xs:12,sm:12,md:8,children:Object(Be.jsx)("b",{children:"Seller Details"})})}),Object(Be.jsx)(Ca,{style:{dispay:"flex"},children:Object(Be.jsxs)(ya,{xs:12,sm:12,md:8,children:[Object(Be.jsx)("b",{children:"Name : "})," ",null===(t=e.seller)||void 0===t?void 0:t.seller_name]})}),Object(Be.jsx)(Ca,{children:Object(Be.jsxs)(ya,{xs:12,sm:12,md:8,children:[Object(Be.jsx)("b",{children:"GST No : "}),null===(a=e.seller)||void 0===a?void 0:a.gst_no]})}),Object(Be.jsx)(Ca,{children:Object(Be.jsxs)(ya,{xs:12,sm:12,md:8,children:[Object(Be.jsx)("b",{children:"Address : "}),null===(n=e.seller)||void 0===n?void 0:n.seller_address]})}),Object(Be.jsx)(Ca,{children:Object(Be.jsxs)(ya,{xs:12,sm:12,md:8,children:[Object(Be.jsx)("b",{children:"Email : "}),null===(r=e.seller)||void 0===r?void 0:r.seller_email]})}),Object(Be.jsx)(Ca,{children:Object(Be.jsxs)(ya,{xs:12,sm:12,md:8,children:[Object(Be.jsx)("b",{children:"Phone : "}),null===(c=e.seller)||void 0===c?void 0:c.phone]})}),Object(Be.jsx)(Ca,{children:Object(Be.jsxs)(ya,{xs:12,sm:12,md:8,children:[Object(Be.jsx)("b",{children:"Add. Details : "}),null===(i=e.seller)||void 0===i?void 0:i.extra_details]})})]})})}var No=a(513),Do=function(e){var t=e.name,a=e.selected,n=e.handleChange,r=e.options,c=e.optionKey;return Object(Be.jsx)(ir,Object(Ze.a)(Object(Ze.a)({},e),{},{multiple:!0,defaultValue:a,value:a,labelText:t,onChange:n,options:r,optionKey:c,getOptionSelected:function(e,t){return t.id===e.id},renderTags:function(e,t){return e.map((function(e,a){return Object(Be.jsx)(No.a,Object(Ze.a)({label:e[c]},t({index:a})))}))},formControlProps:{fullWidth:!0}}))};Object(We.a)({cardCategoryWhite:{"&,& a,& a:hover,& a:focus":{color:"rgba(255,255,255,.62)",margin:"0",fontSize:"14px",marginTop:"0",marginBottom:"0"},"& a,& a:hover,& a:focus":{color:"#FFFFFF"}},cardTitleWhite:{color:"#FFFFFF",marginTop:"0px",minHeight:"auto",fontWeight:"300",fontFamily:"'Roboto', 'Helvetica', 'Arial', sans-serif",marginBottom:"3px",textDecoration:"none","& small":{color:"#777",fontSize:"65%",fontWeight:"400",lineHeight:"1"}}});var Io=a(52),Mo=a.n(Io),Ro=a(61),zo=a.n(Ro),Ao=a(46),Fo=a.n(Ao),Wo=a(37),Eo=a.n(Wo),Ho=a(244),Bo=a.n(Ho),qo=a(143),Lo=a.n(qo),Qo=Object(We.a)(so);function Yo(){var e=Qo(),t=r.a.createRef(),a=Object(n.useState)([]),c=Object(ia.a)(a,2),i=c[0],o=c[1],l=Object(s.useHistory)(),d=Object(n.useState)(!1),h=Object(ia.a)(d,2),m=h[0],x=h[1],O=Object(n.useState)({_sort:"id:asc"}),f=Object(ia.a)(O,2),g=f[0],v=f[1],y=r.a.useState({show:!1,severity:"",message:""}),_=Object(ia.a)(y,2),w=_[0],C=_[1],S=[{title:"Id",field:"id",render:function(e){return"#"+e.id}},{title:"Name",field:"name",render:function(e){return On(e.name)?"---":e.name}},{title:"Category",field:"category",sorting:!1,render:function(e){return On(e.category)?"---":e.category}},{title:"Color",field:"color",sorting:!1,render:function(e){return On(e.color)?"---":e.color}},{title:"Size",field:"size",render:function(e){return On(e.size)?"---":e.size}},{title:"Department",field:"department",sorting:!1,render:function(e){return On(e.department)?"---":e.department}},{title:"Costing",field:"costing",render:function(e){var t=null===e||void 0===e?void 0:e.unit;return yn(null===e||void 0===e?void 0:e.costing,!0,!0," /"+t)}},{title:"Balance",field:"balance",render:function(e){var t=null===e||void 0===e?void 0:e.unit;return e.balance+" ("+t+")"}}];Object(n.useEffect)((function(){k()}),[]);var k=function(){var e=Object(lr.a)(sr.a.mark((function e(){return sr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),e.next=3,tc(gr,{pageSize:-1},Ke.getToken()).then((function(e){o(e.data.data),x(!1)})).catch((function(e){}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=Object(lr.a)(sr.a.mark((function e(t,a){var n;return sr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={page:t,pageSize:a},Object.keys(g).map((function(e){n.hasOwnProperty(e)||(n[e]=g[e])})),e.abrupt("return",new Promise((function(e,t){fetch(Pr+"?"+new URLSearchParams(n),{method:"GET",headers:{"content-type":"application/json",Authorization:"Bearer "+Ke.getToken()}}).then((function(e){if(e.ok)return e.json();if(401!==e.status)throw new Error("Something went wrong");Ke.clearAppStorage(),window.location.href="".concat(hr,"/login")})).then((function(t){var a=P(t.data);e({data:a,page:t.page-1,totalCount:t.totalCount})})).catch((function(e){throw e}))})));case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),P=function(e){var t=[];return e.map((function(e){var a=e.unit?e.unit.name:"",n=e.department.name,r=e.color?e.color.name:"",c=e.category?e.category.name:"";t.push({id:e.id,name:e.name,category:c,color:r,size:e.size,department:n,costing:e.costing,balance:e.balance?e.balance:"0",is_die:e.is_die,unit:a})})),t},N=function(){var e=Object(lr.a)(sr.a.mark((function e(t,a){return sr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),e.next=3,tc(Pr+"/"+t.id,{},Ke.getToken()).then((function(e){x(!1),a?l.push(b,{data:e.data,view:!0}):l.push(j,{data:e.data,edit:!0})})).catch((function(e){x(!1),C((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{show:!0,severity:"error",message:"Error viewing raw material"})}))}));case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),D=function(e){On(e.target.value)?(delete g[e.target.name],v((function(e){return Object(Ze.a)({},e)}))):v((function(t){return Object(Ze.a)(Object(Ze.a)({},t),{},Object(ma.a)({},e.target.name,e.target.value))}))};return Object(Be.jsxs)(Be.Fragment,{children:[Object(Be.jsx)(bi,{open:w.show,severity:w.severity,message:w.message,handleClose:function(){C((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{show:!1,severity:"",message:""})}))}}),Object(Be.jsx)(Ca,{children:Object(Be.jsx)(ya,{xs:12,sm:12,md:12,children:Object(Be.jsxs)(Vc,{children:[Object(Be.jsxs)(ii,{color:"primary",className:e.cardHeaderStyles,children:[Object(Be.jsx)(Fo.a,{fontSize:"large"}),Object(Be.jsx)("p",{className:e.cardCategoryWhite})]}),Object(Be.jsxs)(Jc,{children:[Object(Be.jsx)(Ca,{children:Object(Be.jsx)(ya,{xs:12,sm:12,md:12,children:Object(Be.jsx)(gi,{color:"primary",align:"end",size:"small",onClick:function(){l.push(u)},children:Object(Be.jsx)(Eo.a,{})})})}),Object(Be.jsxs)(Ca,{children:[Object(Be.jsx)(ya,{xs:12,sm:12,md:3,children:Object(Be.jsx)(Jn,{onChange:function(e){return D(e)},labelText:"Name",value:g.name_contains||"",name:"name_contains",id:"name",formControlProps:{fullWidth:!0}})}),Object(Be.jsx)(ya,{xs:12,sm:12,md:2,children:Object(Be.jsx)(Jn,{onChange:function(e){return D(e)},labelText:"Category",value:g["category.name_contains"]||"",name:"category.name_contains",id:"category",formControlProps:{fullWidth:!0}})}),Object(Be.jsx)(ya,{xs:12,sm:12,md:2,children:Object(Be.jsx)(Jn,{onChange:function(e){return D(e)},labelText:"Color",value:g["color.name_contains"]||"",name:"color.name_contains",id:"color",formControlProps:{fullWidth:!0}})}),Object(Be.jsx)(ya,{xs:12,sm:12,md:2,children:Object(Be.jsx)(Jn,{onChange:function(e){return D(e)},labelText:"Size",value:g.size_contains||"",name:"size_contains",id:"size",formControlProps:{fullWidth:!0}})}),Object(Be.jsx)(ya,{xs:12,sm:12,md:2,children:Object(Be.jsx)(ir,{id:"department-name",labelText:"Department",autocompleteId:"department",optionKey:"name",options:i,formControlProps:{fullWidth:!0},onChange:function(e,t){null!==t?v((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{department:t.id})})):(delete g.department,v((function(e){return Object(Ze.a)({},e)})))},value:i[i.findIndex((function(e,t){return e.id===g.department}))]||null})})]}),Object(Be.jsxs)(Ca,{children:[Object(Be.jsx)(ya,{xs:12,sm:12,md:2,children:Object(Be.jsx)(Jn,{onChange:function(e){return D(e)},labelText:"Costing",value:g.costing_contains||"",name:"costing_contains",type:"number",id:"costing",formControlProps:{fullWidth:!0}})}),Object(Be.jsx)(ya,{xs:12,sm:12,md:2,children:Object(Be.jsx)(Jn,{onChange:function(e){return D(e)},labelText:"Balance From",value:g.balance_gte||"",name:"balance_gte",type:"number",id:"balance",formControlProps:{fullWidth:!0}})}),Object(Be.jsx)(ya,{xs:12,sm:12,md:2,children:Object(Be.jsx)(Jn,{onChange:function(e){return D(e)},labelText:"Balance To",value:g.balance_lte||"",name:"balance_lte",type:"number",id:"balance",formControlProps:{fullWidth:!0}})}),Object(Be.jsx)(ya,{xs:12,sm:12,md:2,children:Object(Be.jsx)($i,{onChange:function(e){e.target.checked?v((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{is_die:!0})})):(delete g.is_die,v((function(e){return Object(Ze.a)({},e)})))},labelText:"Die",name:"is_die",checked:g.is_die||!1,id:"die"})}),Object(Be.jsxs)(ya,{xs:12,sm:12,md:4,style:{marginTop:"27px"},children:[Object(Be.jsx)(jc,{color:"primary",onClick:function(){t.current.onQueryChange()},children:"Search"}),Object(Be.jsx)(jc,{color:"primary",onClick:function(){delete g.name_contains,delete g["color.name_contains"],delete g.size_contains,delete g.department,delete g.costing_contains,delete g.balance_gte,delete g.balance_lte,delete g.is_die,delete g["category.name_contains"],v((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{_sort:"id:asc"})})),t.current.onQueryChange()},children:"Cancel"})]})]}),Object(Be.jsx)("br",{}),Object(Be.jsx)($t,{tableRef:t,title:"Raw Materials",columns:S,data:function(){var e=Object(lr.a)(sr.a.mark((function e(t){return sr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T(t.page+1,t.pageSize);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),actions:[function(e){return{icon:function(){return Object(Be.jsx)(Mo.a,{fontSize:"small"})},tooltip:"Edit",onClick:function(e,t){N(t,!1)}}},function(e){return{icon:function(){return Object(Be.jsx)(zo.a,{fontSize:"small",color:"primary"})},tooltip:"View",onClick:function(e,t){N(t,!0)}}},function(e){return{icon:function(){return Object(Be.jsx)(Bo.a,{fontSize:"small"})},tooltip:"0"===e.balance?"Balance is 0, cannot add daily usage":"Add Daily Usage",disabled:"0"===e.balance,onClick:function(e,t){!function(e){l.push(p+"?d="+new Date+"&r_id="+e.id)}(t)}}}],localization:{body:{editRow:{deleteText:"Are you sure you want to delete this Raw Material?",saveTooltip:"Delete"}}},icons:{Delete:function(){return Object(Be.jsx)(Lo.a,{style:{color:"red"}})}},editable:{onRowDelete:function(e){return new Promise((function(t){setTimeout(Object(lr.a)(sr.a.mark((function a(){return sr.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,cc(Pr,e.id,Ke.getToken()).then(function(){var t=Object(lr.a)(sr.a.mark((function t(a){return sr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:C((function(t){return Object(Ze.a)(Object(Ze.a)({},t),{},{show:!0,severity:"success",message:"Successfully deleted "+e.name})}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){C((function(t){return Object(Ze.a)(Object(Ze.a)({},t),{},{show:!0,severity:"error",message:"Error deleting "+e.name})}))}));case 2:t();case 3:case"end":return a.stop()}}),a)}))),1e3)}))}},options:{pageSize:10,actionsColumnIndex:-1,search:!1,sorting:!0,thirdSortClick:!1},onOrderChange:function(e,a){!function(e,a){var n,r;e>=0&&(n=S[e].field),r=n+":"+a,v((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{_sort:r})})),t.current.onQueryChange()}(e,a)}})]})]})})}),Object(Be.jsx)(io.a,{className:e.backdrop,open:m,children:Object(Be.jsx)(oo.a,{color:"inherit"})})]})}var Uo=Object(We.a)(so);function Vo(){var e=Uo(),t=r.a.createRef(),a=Object(n.useState)({_sort:"name:asc"}),c=Object(ia.a)(a,2),i=c[0],o=c[1],s=r.a.useState({show:!1,severity:"",message:""}),l=Object(ia.a)(s,2),d=l[0],u=l[1],j=[{title:"Name",field:"name"}],b=function(){var e=Object(lr.a)(sr.a.mark((function e(t,a){var n;return sr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={page:t,pageSize:a},Object.keys(i).map((function(e){n.hasOwnProperty(e)||(n[e]=i[e])})),e.abrupt("return",new Promise((function(e,t){fetch(vr+"?"+new URLSearchParams(n),{method:"GET",headers:{"content-type":"application/json",Authorization:"Bearer "+Ke.getToken()}}).then((function(e){if(e.ok)return e.json();if(401!==e.status)throw new Error("Something went wrong");Ke.clearAppStorage(),window.location.href="".concat(hr,"/login")})).then((function(t){e({data:t.data,page:t.page-1,totalCount:t.totalCount})})).catch((function(e){u((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{show:!0,severity:"error",message:"Error"})}))}))})));case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();return Object(Be.jsxs)(Be.Fragment,{children:[Object(Be.jsx)(bi,{open:d.show,severity:d.severity,message:d.message,handleClose:function(){u((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{show:!1,severity:"",message:""})}))}}),Object(Be.jsx)(Ca,{children:Object(Be.jsx)(ya,{xs:12,sm:12,md:12,children:Object(Be.jsxs)(Vc,{children:[Object(Be.jsxs)(ii,{color:"primary",className:e.cardHeaderStyles,children:[Object(Be.jsx)(Fo.a,{fontSize:"large"}),Object(Be.jsx)("p",{className:e.cardCategoryWhite})]}),Object(Be.jsx)(Jc,{children:Object(Be.jsx)(Ca,{children:Object(Be.jsx)(ya,{xs:12,sm:12,md:12,children:Object(Be.jsx)($t,{tableRef:t,title:"UNits",columns:j,data:function(){var e=Object(lr.a)(sr.a.mark((function e(t){return sr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b(t.page+1,t.pageSize);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),localization:{body:{editRow:{deleteText:"Are you sure you want to delete this Admin User?",saveTooltip:"Delete"}}},actions:[],options:{pageSize:10,actionsColumnIndex:-1,search:!1,sorting:!0,thirdSortClick:!1},onOrderChange:function(e,a){!function(e,a){var n,r;e>=0&&(n=j[e].field),r=n+":"+a,o((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{_sort:r})})),t.current.onQueryChange()}(e,a)}})})})})]})})})]})}a(705);var $o=a(82),Go=a.n($o),Ko=a(43),Zo=a.n(Ko),Jo=a(144),Xo=a.n(Jo),es=a(492),ts=a(98),as=a.n(ts),ns=a(531),rs=(a(694),a(814)),cs=a(811),is=a(802),os=a(532),ss=a(799),ls=a(800),ds=a(809),us=a(801),js=a(803),bs=Object(We.a)(so),ps=Object(We.a)(lc);function hs(e){var t=bs(),a=Object(n.useState)(null),c=Object(ia.a)(a,2),i=c[0],o=c[1],l=Object(s.useHistory)(),u=Object(n.useState)([]),j=Object(ia.a)(u,2),b=j[0],p=j[1],h=Object(n.useState)({data:{data:[]},loading:!1,errorMessage:"",noResults:!1}),m=Object(ia.a)(h,2),x=m[0],O=m[1],f=Object(n.useState)(null),g=Object(ia.a)(f,2),v=g[0],y=g[1],_=Object(n.useState)([]),w=Object(ia.a)(_,2),C=w[0],S=w[1],k=Object(n.useState)(!1),T=Object(ia.a)(k,2),P=T[0],N=T[1],D=Object(n.useState)({id:null,name:"",color:null,category:null,colorName:"",categoryName:"",size:"",balance:0,costing:0,department:null,unit:null,unit_name:"",is_die:!1,name_value:[]}),I=Object(ia.a)(D,2),M=I[0],R=I[1],z=r.a.useState({show:!1,severity:"",message:""}),A=Object(ia.a)(z,2),F=A[0],W=A[1],E=ps(),H=r.a.useState({}),B=Object(ia.a)(H,2),q=B[0],L=B[1],Q=Object(n.useState)(!1),Y=Object(ia.a)(Q,2),U=Y[0],V=Y[1],$=Object(n.useState)(!1),G=Object(ia.a)($,2),K=G[0],Z=G[1],J=Object(n.useState)(!!e.location.state&&e.location.state.view),X=Object(ia.a)(J,1)[0],ee=Object(n.useState)(!!e.location.state&&e.location.state.edit),te=Object(ia.a)(ee,1)[0];Object(n.useEffect)((function(){if(null!==v){var e=v.pipe(Object(os.a)((function(e){return e.trim()})),Object(ss.a)(),Object(ls.a)((function(e){return e.length>=2})),Object(ds.a)(200),Object(us.a)((function(e){var t={page:1,pageSize:20,name_contains:e};return Object(cs.a)(Object(is.a)({loading:!0,errorMessage:"",noResults:!1}),fetch(Pr+"?"+new URLSearchParams(t),{method:"GET",headers:{"content-type":"application/json",Authorization:"Bearer "+Ke.getToken()}}).then((function(e){return e.ok?e.json().then((function(e){return{data:e,loading:!1,noResults:0===e.length}})):e.json().then((function(e){return{data:[],loading:!1,errorMessage:e.title}}))})).catch((function(e){throw e})))})),Object(js.a)((function(e){return{loading:!1,errorMessage:"An application error occured"}}))).subscribe((function(e){O((function(t){return Object.assign({},t,e)}))}));return function(){e.unsubscribe(),v.unsubscribe()}}var t=new rs.a("");y(t)}),[v]),Object(n.useEffect)((function(){e.location.state&&(e.location.state.view||e.location.state.edit)&&e.location.state.data&&ae(e.location.state.data),re(),ne()}),[]);var ae=function(e){R((function(t){return Object(Ze.a)(Object(Ze.a)({},t),{},{id:e.id,name:e.name,color:e.color?e.color.id:null,category:e.category?e.category.id:null,colorName:e.color?e.color.name:"",categoryName:e.category?e.category.name:"",size:e.size,balance:e.balance,costing:e.costing,department:e.department?e.department.id:null,unit:e.unit?e.unit.id:null,unit_name:e.unit?e.unit.name:"",is_die:e.is_die,name_value:e.name_value})}))},ne=function(){var e=Object(lr.a)(sr.a.mark((function e(){return sr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return N(!0),e.next=3,tc(vr,{pageSize:-1},Ke.getToken()).then((function(e){S(e.data.data),N(!1)})).catch((function(e){}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),re=function(){var e=Object(lr.a)(sr.a.mark((function e(){return sr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return N(!0),e.next=3,tc(gr,{pageSize:-1},Ke.getToken()).then((function(e){p(e.data.data),N(!1)})).catch((function(e){}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ce=function(){var e=Object(lr.a)(sr.a.mark((function e(t,a,n){return sr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:R(null===n?"unit"===t?function(e){var a;return Object(Ze.a)(Object(Ze.a)({},e),{},(a={},Object(ma.a)(a,t,null),Object(ma.a)(a,"unit_name",""),a))}:function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},Object(ma.a)({},t,null))}:"unit"===t?function(e){var a;return Object(Ze.a)(Object(Ze.a)({},e),{},(a={},Object(ma.a)(a,t,n.id),Object(ma.a)(a,"unit_name",n.name),a))}:function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},Object(ma.a)({},t,n.id))}),delete q[t],L((function(e){return Object(Ze.a)({},e)}));case 3:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){On(M.name)&&O({data:{data:[]},loading:!1,errorMessage:"",noResults:!1})}),[M.name]);var ie=function(e){if(delete q[e.target.name],L((function(e){return Object(Ze.a)({},e)})),R((function(t){return Object(Ze.a)(Object(Ze.a)({},t),{},Object(ma.a)({},e.target.name,e.target.value))})),On(e.target.value))O({data:{data:[]},loading:!1,errorMessage:"",noResults:!1});else if(v)return v.next(e.target.value)},oe=function(){var e=M.name_value,t=[];return e.map((function(e){e.name&&e.value&&!On(e.name)&&!On(e.value)&&(e.id?t.push({id:e.id,name:e.name,value:e.value}):t.push({name:e.name,value:e.value}))})),R((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{name_value:t})})),t},se=function(){var e=Object(lr.a)(sr.a.mark((function e(){var t;return sr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=oe(),N(!0),!te){e.next=7;break}return e.next=5,rc(Pr,M.id,{name:M.name,department:M.department,size:M.size,color:M.color,category:M.category,unit:M.unit,costing:M.costing,balance:M.balance,unit_name:M.unit_name,is_die:M.is_die,name_value:t},Ke.getToken()).then((function(e){l.push(d),N(!1)})).catch((function(e){N(!1),W((function(t){return Object(Ze.a)(Object(Ze.a)({},t),{},{show:!0,severity:"error",message:e.response.data.message?e.response.data.message:"Error updating values"})}))}));case 5:e.next=9;break;case 7:return e.next=9,ac(Pr,{name:M.name,department:M.department,size:M.size,color:M.color,category:M.category,unit:M.unit,costing:M.costing,balance:M.balance,unit_name:M.unit_name,is_die:M.is_die,name_value:t},Ke.getToken()).then((function(e){l.push(d),N(!1)})).catch((function(e){N(!1),W((function(t){return Object(Ze.a)(Object(Ze.a)({},t),{},{show:!0,severity:"error",message:e.response.message?e.response.message:"Error updating values"})}))}));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),le=function(e,t){var a=M.name_value[t];a=Object(Ze.a)(Object(Ze.a)({},a),{},Object(ma.a)({},e.target.name,e.target.value)),R((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{name_value:[].concat(Object(Ta.a)(e.name_value.slice(0,t)),[a],Object(Ta.a)(e.name_value.slice(t+1)))})}))},de=function(){o(null)},ue=function(){o(null),se()},je=function(){V(!1)},be=function(){Z(!1)};return Object(Be.jsxs)(Be.Fragment,{children:[Object(Be.jsx)(ho,{handleCancel:je,handleClose:je,handleAddCategory:function(e){delete q.category,L((function(e){return Object(Ze.a)({},e)})),je(),R((function(t){return Object(Ze.a)(Object(Ze.a)({},t),{},{category:e.id,categoryName:e.name})}))},open:U}),Object(Be.jsx)(mo,{handleCancel:be,handleClose:be,handleAddColor:function(e){be(),R((function(t){return Object(Ze.a)(Object(Ze.a)({},t),{},{color:e.id,colorName:e.name})}))},open:K}),i,Object(Be.jsx)(bi,{open:F.show,severity:F.severity,message:F.message,handleClose:function(){W((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{show:!1,severity:"",message:""})}))}}),Object(Be.jsxs)(Ca,{children:[Object(Be.jsx)(ya,{xs:12,sm:12,md:12,children:Object(Be.jsx)(gi,{align:"start",size:"small",onClick:function(){l.push(d)},children:Object(Be.jsx)(Zo.a,{})})}),Object(Be.jsxs)(ya,{xs:12,sm:12,md:8,children:[Object(Be.jsxs)(Vc,{children:[Object(Be.jsxs)(ii,{color:"primary",className:t.cardHeaderStyles,children:[Object(Be.jsx)("h4",{className:t.cardTitleWhite,children:e.header}),Object(Be.jsx)("p",{className:t.cardCategoryWhite})]}),Object(Be.jsxs)(Jc,{children:[Object(Be.jsx)(Ca,{children:Object(Be.jsx)(ya,{xs:12,sm:12,md:12,children:Object(Be.jsx)(Jn,{onChange:function(e){return ie(e)},labelText:"Name",disabled:X,name:"name",value:M.name,id:"name",autoComplete:"off",formControlProps:{fullWidth:!0},helperTextId:"helperText_name",isHelperText:zn("name",q),helperText:zn("name",q)?q.name.map((function(e){return e+" "})):null,error:zn("name",q)})})}),x.data&&x.data.data&&x.data.data.length?Object(Be.jsx)(Ca,{children:Object(Be.jsx)(ya,{xs:12,sm:12,md:12,children:Object(Be.jsx)(An,{data:x.data.data,handleSelectRawMaterial:function(e){O({data:{data:[]},loading:!1,errorMessage:"",noResults:!1}),R((function(t){var a,n,r,c,i,o;return Object(Ze.a)(Object(Ze.a)({},t),{},{color:(null===e||void 0===e||null===(a=e.color)||void 0===a?void 0:a.id)?e.color.id:null,category:(null===e||void 0===e||null===(n=e.category)||void 0===n?void 0:n.id)?e.category.id:null,colorName:(null===e||void 0===e||null===(r=e.color)||void 0===r?void 0:r.name)?e.color.name:"",categoryName:(null===e||void 0===e||null===(c=e.category)||void 0===c?void 0:c.name)?e.category.name:null,size:(null===e||void 0===e?void 0:e.size)?e.size:"--",balance:0,costing:(null===e||void 0===e?void 0:e.costing)?e.costing:0,department:(null===e||void 0===e||null===(i=e.department)||void 0===i?void 0:i.id)?e.department.id:null,unit:(null===e||void 0===e||null===(o=e.unit)||void 0===o?void 0:o.id)?e.unit.id:null,unit_name:"",is_die:!!(null===e||void 0===e?void 0:e.is_die),name_value:(null===e||void 0===e?void 0:e.name_value)?e.name_value:[]})}))}})})}):Object(Be.jsx)(Ca,{children:Object(Be.jsx)(ya,{xs:12,sm:12,md:12,children:"No data"})}),Object(Be.jsxs)(Ca,{children:[Object(Be.jsxs)(ya,{xs:12,sm:12,md:5,style:{margin:"27px 10px 0px 13px"},children:[Object(Be.jsxs)(Ca,{style:{border:"1px solid #C0C0C0",borderRadius:"10px"},children:[Object(Be.jsx)(ya,{xs:12,sm:12,md:8,style:{margin:"15px 0px 0px"},children:Object(Be.jsx)(Ca,{style:{dispay:"flex"},children:Object(Be.jsxs)(ya,{xs:12,sm:12,md:12,children:[Object(Be.jsx)("b",{children:"Category : "})," ",M.categoryName]})})}),Object(Be.jsx)(ya,{xs:12,sm:12,md:1,children:Object(Be.jsx)(mi.a,{title:M.category?"Change Category ":"Select Category",children:Object(Be.jsx)(la.a,{onClick:function(){V(!0)},children:Object(Be.jsx)(Mo.a,{})})})}),Object(Be.jsx)(ya,{xs:12,sm:12,md:1,children:Object(Be.jsx)(la.a,{onClick:function(){delete q.category,L((function(e){return Object(Ze.a)({},e)})),R((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{category:null,categoryName:""})}))},children:Object(Be.jsx)(Go.a,{})})})]}),Object(Be.jsx)(Ca,{children:Object(Be.jsx)(ya,{children:zn("category",q)?Object(Be.jsx)(ya,{xs:12,sm:12,md:12,children:Object(Be.jsx)(Gn.a,{id:"category_helpertext_id",error:zn("category",q),children:zn("category",q)?q.category.map((function(e){return e+" "})):null})}):null})})]}),Object(Be.jsx)(ya,{xs:12,sm:12,md:1}),Object(Be.jsxs)(ya,{xs:12,sm:12,md:5,style:{margin:"27px 0px 0px"},children:[Object(Be.jsxs)(Ca,{style:{border:"1px solid #C0C0C0",borderRadius:"10px"},children:[Object(Be.jsx)(ya,{xs:12,sm:12,md:8,style:{margin:"15px 0px 0px"},children:Object(Be.jsx)(Ca,{style:{dispay:"flex"},children:Object(Be.jsxs)(ya,{xs:12,sm:12,md:12,children:[Object(Be.jsx)("b",{children:"Color : "})," ",M.colorName]})})}),Object(Be.jsx)(ya,{xs:12,sm:12,md:1,children:Object(Be.jsx)(mi.a,{title:M.category?"Change Color ":"Select Color",children:Object(Be.jsx)(la.a,{onClick:function(){Z(!0)},children:Object(Be.jsx)(Mo.a,{})})})}),Object(Be.jsx)(ya,{xs:12,sm:12,md:1,children:Object(Be.jsx)(la.a,{onClick:function(){R((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{color:null,colorName:""})}))},children:Object(Be.jsx)(Go.a,{})})})]}),Object(Be.jsx)(Ca,{children:Object(Be.jsx)(ya,{children:zn("color",q)?Object(Be.jsx)(ya,{xs:12,sm:12,md:12,children:Object(Be.jsx)(Gn.a,{id:"color_helpertext_id",error:zn("color",q),children:zn("color",q)?q.color.map((function(e){return e+" "})):null})}):null})})]})]}),Object(Be.jsxs)(Ca,{children:[Object(Be.jsx)(ya,{xs:12,sm:12,md:4,children:Object(Be.jsx)(ir,{id:"department-name",labelText:"Department",disabled:X,autocompleteId:"department",optionKey:"name",options:b,formControlProps:{fullWidth:!0},onChange:function(e,t){ce("department",e,t)},value:b[b.findIndex((function(e,t){return e.id===M.department}))]||null,helperTextId:"helperText_department",isHelperText:zn("department",q),helperText:zn("department",q)?q.department.map((function(e){return e+" "})):null,error:zn("department",q)})}),Object(Be.jsx)(ya,{xs:12,sm:12,md:3,children:Object(Be.jsx)(Jn,{onChange:function(e){return ie(e)},labelText:"Size",name:"size",disabled:X,value:M.size,id:"size",formControlProps:{fullWidth:!0}})}),Object(Be.jsx)(ya,{xs:12,sm:12,md:3,children:Object(Be.jsx)(ir,{id:"unit-name",labelText:"Unit",autocompleteId:"unit-id",optionKey:"name",disabled:X,options:C,onChange:function(e,t){ce("unit",e,t)},value:C[C.findIndex((function(e,t){return e.id===M.unit}))]||null,formControlProps:{fullWidth:!0},helperTextId:"helperText_unit",isHelperText:zn("unit",q),helperText:zn("unit",q)?q.unit.map((function(e){return e+" "})):null,error:zn("unit",q)})}),Object(Be.jsx)(ya,{xs:12,sm:12,md:2,children:Object(Be.jsx)($i,{onChange:function(e){R((function(t){return Object(Ze.a)(Object(Ze.a)({},t),{},{is_die:e.target.checked})}))},disabled:X,labelText:"Die",name:"is_die",checked:M.is_die||!1,id:"is_die"})})]}),Object(Be.jsxs)(Ca,{children:[Object(Be.jsx)(ya,{xs:12,sm:12,md:6,children:Object(Be.jsx)(Jn,{onChange:function(e){return ie(e)},name:"costing",labelText:"Costing",id:"costing",disabled:X,formControlProps:{fullWidth:!0},type:"number",value:M.costing,inputProps:{endAdornment:Object(Be.jsx)(es.a,{position:"end",children:""!==M.unit_name?"/"+M.unit_name:""})},helperTextId:"helperText_costing",isHelperText:zn("costing",q),helperText:zn("costing",q)?q.costing.map((function(e){return e+" "})):null,error:zn("costing",q)})}),Object(Be.jsx)(ya,{xs:12,sm:12,md:6,children:Object(Be.jsx)(Jn,{onChange:function(e){return ie(e)},name:"balance",type:"number",labelText:"Balance",id:"balance",disabled:X,value:M.balance,formControlProps:{fullWidth:!0},helperTextId:"helperText_balance",isHelperText:zn("balance",q),helperText:zn("balance",q)?q.balance.map((function(e){return e+" "})):null,error:zn("balance",q)})})]}),X?null:Object(Be.jsx)(Ca,{children:Object(Be.jsx)(ya,{xs:12,sm:12,md:12,children:Object(Be.jsxs)(gi,{color:"primary",size:"medium",variant:"extended",onClick:function(){R((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{name_value:[{id:null,name:"",value:""}].concat(Object(Ta.a)(e.name_value))})}))},children:[Object(Be.jsx)(Eo.a,{className:t.extendedIcon}),Object(Be.jsx)("h5",{children:"Add new value"})]})})}),M.name_value.map((function(e,a){return Object(Be.jsxs)(Ca,{children:[Object(Be.jsx)(ya,{xs:12,sm:12,md:4,children:Object(Be.jsx)(Jn,{labelText:"Name",id:"name",name:"name",disabled:X,value:M.name_value[a].name||"",onChange:function(e){return le(e,a)},formControlProps:{fullWidth:!0}})}),Object(Be.jsx)(ya,{xs:12,sm:12,md:4,children:Object(Be.jsx)(Jn,{labelText:"Value",id:"value",name:"value",disabled:X,onChange:function(e){return le(e,a)},value:M.name_value[a].value||"",formControlProps:{fullWidth:!0}})}),X?null:Object(Be.jsx)(ya,{xs:6,sm:6,md:1,className:t.addDeleteFabButon,children:Object(Be.jsx)(gi,{color:"primary",align:"end",size:"small",onClick:function(){R((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{name_value:[].concat(Object(Ta.a)(e.name_value.slice(0,a)),Object(Ta.a)(e.name_value.slice(a+1)))})}))},children:Object(Be.jsx)(Xo.a,{})})})]},a)}))]}),X?null:Object(Be.jsx)(ai,{children:Object(Be.jsx)(jc,{color:"primary",onClick:function(e){return function(e){e.preventDefault(),N(!0);var t,a=!1;if(t=Rn(M,ns),Mn(t)?(N(!1),L({}),a=!0):(N(!1),L(t)),a)if(te)se();else{var n,r,c=fa()((n={},Object(ma.a)(n,E.button,!0),Object(ma.a)(n,E.success,!0),n)),i=fa()((r={},Object(ma.a)(r,E.button,!0),Object(ma.a)(r,E.danger,!0),r));o(Object(Be.jsx)(as.a,{warning:!0,showCancel:!0,confirmBtnText:"Yes",confirmBtnCssClass:c,confirmBtnBsStyle:"outline-{variant}",title:"Heads up?",onConfirm:ue,onCancel:de,cancelBtnCssClass:i,focusCancelBtn:!0,children:"Please make sure you have added the right Initial balance. Balance once added can be edited only if you haven't added any entry in the monthly sheet or in the purchases table for this particular raw material. Do you want to proceed?"}))}}(e)},children:"Save"})})]}),Object(Be.jsx)(io.a,{className:t.backdrop,open:P,children:Object(Be.jsx)(oo.a,{color:"inherit"})})]})]})]})}var ms=Object(We.a)(so);function xs(e){var t=ms(),a=Object(s.useHistory)();return Object(Be.jsxs)(Ca,{children:[Object(Be.jsx)(ya,{xs:12,sm:12,md:12,children:Object(Be.jsx)(gi,{align:"start",size:"small",onClick:function(){a.push($)},children:Object(Be.jsx)(Zo.a,{})})}),Object(Be.jsx)(ya,{xs:12,sm:12,md:8,children:Object(Be.jsxs)(Vc,{children:[Object(Be.jsxs)(ii,{color:"primary",className:t.cardHeaderStyles,children:[Object(Be.jsx)("h4",{className:t.cardTitleWhite,children:e.header}),Object(Be.jsx)("p",{className:t.cardCategoryWhite})]}),Object(Be.jsxs)(Jc,{children:[Object(Be.jsx)(Ca,{children:Object(Be.jsx)(ya,{xs:12,sm:12,md:6,children:Object(Be.jsx)(Jn,{labelText:"Name",id:"name",formControlProps:{fullWidth:!0}})})}),Object(Be.jsxs)(Ca,{children:[Object(Be.jsx)(ya,{xs:12,sm:12,md:8,children:Object(Be.jsx)(Jn,{labelText:"Email address",id:"email-address",formControlProps:{fullWidth:!0}})}),Object(Be.jsx)(ya,{xs:12,sm:12,md:4,children:Object(Be.jsx)(Jn,{labelText:"Phone Number",id:"phone-number",formControlProps:{fullWidth:!0}})})]}),Object(Be.jsx)(Ca,{children:Object(Be.jsx)(ya,{xs:12,sm:12,md:12,children:Object(Be.jsx)(Jn,{labelText:"Address",id:"address",formControlProps:{fullWidth:!0},inputProps:{multiline:!0,rows:5}})})}),Object(Be.jsxs)(Ca,{children:[Object(Be.jsx)(ya,{xs:12,sm:12,md:4,children:Object(Be.jsx)(Jn,{labelText:"City",id:"city",formControlProps:{fullWidth:!0}})}),Object(Be.jsx)(ya,{xs:12,sm:12,md:4,children:Object(Be.jsx)(Jn,{labelText:"Country",id:"country",formControlProps:{fullWidth:!0}})}),Object(Be.jsx)(ya,{xs:12,sm:12,md:4,children:Object(Be.jsx)(Jn,{labelText:"Postal Code",id:"postal-code",formControlProps:{fullWidth:!0}})})]})]}),Object(Be.jsx)(ai,{children:Object(Be.jsx)(jc,{color:"primary",children:"Add Admin"})})]})})]})}var Os=a(419),fs=(a(698),a(536)),gs=a.n(fs),vs=Object(We.a)(so),ys=Object(Os.b)(Na.a),_s=function(e){var t,a,c,i=vs(),o=Object(n.useState)({open:!1,date:new Date,inputValue:0,oldValue:0,isEdit:!1,text:"",diff:0,disableOk:!0,isDeduct:!0}),s=Object(ia.a)(o,2),l=s[0],d=s[1],u=Object(n.useState)({data:[],currentMonth:new Date,finalBalance:0,total:0,month:(new Date).getMonth()+1,year:(new Date).getFullYear(),isEditable:!1}),j=Object(ia.a)(u,2),b=j[0],h=j[1],m=Object(n.useState)(!1),x=Object(ia.a)(m,2),O=x[0],f=x[1],g=Object(n.useState)(null),v=Object(ia.a)(g,2),y=v[0],_=v[1],w=Object(n.useState)(!1),C=Object(ia.a)(w,2),S=C[0],k=C[1],T=Object(n.useState)(!1),P=Object(ia.a)(T,2),N=P[0],D=P[1],I=r.a.useState({show:!1,severity:"",message:""}),M=Object(ia.a)(I,2),R=M[0],z=M[1];Object(n.useEffect)((function(){var e=new URLSearchParams(window.location.search),t=e.get("d"),a=e.get("r_id"),n=new Date,r=n.getFullYear(),c=n.getMonth()+1,i=a;t&&!On(t)&&Pn(new Date(t))&&(r=(n=new Date(t)).getFullYear(),c=n.getMonth()+1);var o={currentMonth:n,month:c,year:r};h((function(e){return Object(Ze.a)(Object(Ze.a)({},e),o)})),i?(f(!0),A(i),F(i,c,r)):window.history.pushState("","Daily usage","".concat(hr).concat(p,"?d=").concat(n))}),[]);var A=function(){var e=Object(lr.a)(sr.a.mark((function e(t){return sr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),e.next=3,tc(Pr+"/"+t,{},Ke.getToken()).then((function(e){_(e.data),f(!1)})).catch((function(e){f(!1)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=Object(lr.a)(sr.a.mark((function e(){var t,a,n,r=arguments;return sr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:y.id,a=r.length>1?r[1]:void 0,n=r.length>2?r[2]:void 0,f(!0),window.history.pushState("","Daily usage","".concat(hr).concat(p,"?d=").concat(new Date(n,a-1,1),"&r_id=").concat(t)),e.next=7,tc(Ir,{raw_material:t,month:a,year:n},Ke.getToken()).then((function(e){h((function(t){return Object(Ze.a)(Object(Ze.a)({},t),{},{data:e.data.data,currentMonth:new Date(e.data.currentMonth),finalBalance:e.data.finalBalance,total:e.data.total,month:e.data.month,year:e.data.year,isEditable:e.data.isEditable})})),f(!1)})).catch((function(e){f(!1),z((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{show:!0,severity:"error",message:"Error"})}))}));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),W=function(){var e=Object(lr.a)(sr.a.mark((function e(){var t,a,n,r,c=arguments;return sr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=c.length>0&&void 0!==c[0]?c[0]:y.id,f(!0),a=new Date,n=a.getMonth(),r=a.getFullYear(),F(t,n+1,r);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=function(){k(!1)},H=function(){d((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{open:!1,date:null,inputValue:0,oldValue:0,isEdit:!1,disableOk:!0,isDeduct:!0,text:"",diff:0})}))},B=function(){var e=Object(lr.a)(sr.a.mark((function e(){return sr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),H(),e.next=4,ac(Dr,{isEdit:l.isEdit,diff:l.diff,newValue:l.inputValue,isDeduct:l.isDeduct,date:l.date,raw_material:y.id},Ke.getToken()).then((function(e){h((function(t){return Object(Ze.a)(Object(Ze.a)({},t),{},{data:e.data.data,total:e.data.total,finalBalance:e.data.finalBalance})})),f(!1)})).catch((function(e){z((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{show:!0,severity:"error",message:"Error"})})),f(!1)}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),q=function(){D(!1)},L=function(){var e=Object(lr.a)(sr.a.mark((function e(t,a){return sr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f(!0),q(),F(y.id,a,t);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();return Object(Be.jsxs)(Be.Fragment,{children:[Object(Be.jsx)(bi,{open:R.show,severity:R.severity,message:R.message,handleClose:function(){z((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{show:!1,severity:"",message:""})}))}}),Object(Be.jsx)(uo,{handleCancel:E,handleClose:E,handleAccept:E,handleAddRawMaterial:function(e,t){_(t),E(),W(e.id)},isHandleKey:!1,gridKey:null,isBalanceCheck:!0,open:S}),Object(Be.jsx)(jo,{handleCancel:q,handleClose:q,handleAccept:q,getPreviosMonthData:L,open:N,selectedRawMaterialId:null===y||void 0===y?void 0:y.id,rawMaterialName:y?y.name:""}),Object(Be.jsx)(co,{open:l.open,dialogHeader:b.isEditable?l.isEdit?"Edit Usage":"Add Usage":"View Usage",removeAccept:!b.isEditable,handleCancel:H,handleClose:H,handleAccept:B,cancelButton:"Cancel",acceptButton:"OK",isDatePresent:!0,date:"For ".concat(wn(l.date)),disableOK:l.disableOk,text:[],children:Object(Be.jsxs)(Ca,{children:[b.isEditable&&l.isEdit?Object(Be.jsxs)(ya,{xs:12,sm:12,md:12,children:[Object(Be.jsx)("b",{children:"Old quantity :-"})," ",l.oldValue]}):null,Object(Be.jsx)(ya,{xs:12,sm:12,md:12,children:b.isEditable?Object(Be.jsx)(Jn,{onChange:function(e){!function(e){if(On(e))d((function(t){return Object(Ze.a)(Object(Ze.a)({},t),{},{disableOk:!0,inputValue:e})}));else{var t=parseFloat(e);if(t>=0)if(l.isEdit){var a=t-l.oldValue;a<0?d((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{disableOk:!1,inputValue:t,diff:Math.abs(a),text:"This will add ".concat(Math.abs(a)," quantity back to the stocks"),isDeduct:!1})})):a>0?a<=parseFloat(b.finalBalance)?d((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{disableOk:!1,inputValue:t,diff:a,text:"This will deduct ".concat(a," quantity from the stocks"),isDeduct:!0})})):d((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{disableOk:!0,diff:a,inputValue:t,text:"Quantity to deduct cannot be more than the current balance",isDeduct:!0})})):d((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{disableOk:!0,inputValue:t,diff:a,text:"No difference between new quantity and old quantity",isDeduct:!1})}))}else t<=parseFloat(b.finalBalance)?d((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{disableOk:!1,inputValue:t,text:"",isDeduct:!0})})):d((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{disableOk:!0,inputValue:t,text:"Quantity to deduct cannot be more than the current balance",isDeduct:!0})}));else d((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{disableOk:!0,inputValue:"",text:"Quantity cannot be negative"})}))}}(e.target.value)},labelText:l.isEdit?"New Quantity":"Add Quantity",value:l.inputValue,type:"number",name:"usage",id:"usage",formControlProps:{fullWidth:!0}}):Object(Be.jsxs)("span",{children:[Object(Be.jsx)("b",{children:"Quantity used "})," :- ",l.inputValue]})}),b.isEditable?Object(Be.jsx)(ya,{xs:12,sm:12,md:12,children:Object(Be.jsx)(Je.a,{variant:"caption",display:"block",gutterBottom:!0,children:l.isEdit?"Please note editing might either add/subtract\n         the difference quantity to/from the stocks":"Please note value added will be subtracted \n         from the stocks"})}):null,On(l.text)?null:Object(Be.jsx)(Be.Fragment,{children:Object(Be.jsx)(ya,{xs:12,sm:12,md:12,children:Object(Be.jsx)(Je.a,{variant:"subtitle2",gutterBottom:!0,color:"error",children:l.text})})})]})}),Object(Be.jsx)(Ca,{children:Object(Be.jsx)(ya,{xs:12,sm:12,md:10,children:Object(Be.jsxs)(Vc,{children:[Object(Be.jsxs)(ii,{color:"primary",className:i.cardHeaderStyles,children:[Object(Be.jsx)(Bo.a,{fontSize:"large"}),Object(Be.jsx)("p",{className:i.cardCategoryWhite})]}),Object(Be.jsxs)(Jc,{children:[Object(Be.jsxs)(Ca,{children:[Object(Be.jsx)(ya,{xs:12,sm:12,md:8,children:Object(Be.jsx)(jc,{color:"primary",onClick:function(){k(!0)},children:y?"Change Raw Material":"Select Raw Material"})}),y?Object(Be.jsxs)(Be.Fragment,{children:[Object(Be.jsxs)(ya,{xs:12,sm:12,md:8,children:[Object(Be.jsx)("b",{children:"Id : "})," ",y.id]}),Object(Be.jsxs)(ya,{xs:12,sm:12,md:8,children:[Object(Be.jsx)("b",{children:"Name : "})," ",y.name]}),Object(Be.jsxs)(ya,{xs:12,sm:12,md:8,children:[Object(Be.jsx)("b",{children:"Department : "}),null===y||void 0===y||null===(t=y.department)||void 0===t?void 0:t.name]}),Object(Be.jsxs)(ya,{xs:12,sm:12,md:8,children:[Object(Be.jsx)("b",{children:"Category : "}),null===y||void 0===y||null===(a=y.category)||void 0===a?void 0:a.name]}),Object(Be.jsxs)(ya,{xs:12,sm:12,md:8,children:[Object(Be.jsx)("b",{children:"Color :"})," ",null===y||void 0===y||null===(c=y.color)||void 0===c?void 0:c.name]}),Object(Be.jsxs)(ya,{xs:12,sm:12,md:8,children:[Object(Be.jsx)("b",{children:"Size : "}),y.size]}),Object(Be.jsxs)(ya,{xs:12,sm:12,md:8,children:[Object(Be.jsx)("b",{children:"Current Balance : "}),b.finalBalance]}),Object(Be.jsxs)(ya,{xs:12,sm:12,md:8,children:[Object(Be.jsx)("b",{children:"Total Used in this month : "}),b.total]})]}):null,Object(Be.jsx)(ya,{xs:12,sm:12,md:12,style:{margin:"27px 0px 0px"},children:y?Object(Be.jsxs)(Be.Fragment,{children:[Object(Be.jsx)(jc,{color:"primary",onClick:function(){D(!0)},children:"Check Previous Data"}),Object(Be.jsx)(jc,{color:"primary",onClick:function(){W()},children:"Go to current month"})]}):null})]}),y?Object(Be.jsx)(Be.Fragment,{children:Object(Be.jsx)(Ca,{children:Object(Be.jsx)(ya,{xs:12,sm:12,md:12,style:{margin:"27px 0px 0px"},children:Object(Be.jsx)("div",{style:{height:"500pt"},children:Object(Be.jsx)(Os.a,{selectable:b.isEditable,events:b.data,startAccessor:"start",endAccessor:"end",date:new Date(b.currentMonth),defaultDate:new Date(b.currentMonth),localizer:ys,views:{month:!0},components:{toolbar:function(e){return Object(Be.jsxs)(Be.Fragment,{children:[Object(Be.jsx)(Ca,{children:Object(Be.jsx)(ya,{xs:12,sm:12,md:12,className:gs.a.rbc_toolbar_label,children:Object(Be.jsx)("label",{children:function(){var t=Na()(e.date);return Object(Be.jsxs)(Ca,{children:[Object(Be.jsxs)(ya,{xs:12,sm:12,md:6,style:{textAlign:"left"},children:[t.format("MMMM")," ",t.format("YYYY")," "]}),Object(Be.jsx)(ya,{xs:12,sm:12,md:6,style:{textAlign:"right"},children:Object(Be.jsx)(Li,{views:["year","month"],onChange:function(e){console.log("event ",e);var t=new Date(e),a=t.getFullYear(),n=t.getMonth();F(y.id,n+1,a)},label:"Month/Year",name:"date",value:new Date(b.currentMonth)||null,id:"date",openTo:"month",style:{marginTop:"-1rem"}})})]})}()})})}),Object(Be.jsx)(Ca,{children:Object(Be.jsx)(ya,{xs:12,sm:12,md:6})})]})},dateCellWrapper:function(e){var t=e.children,a=e.value,c=Na()(a).isSame(Na()().toDate(),"day");return new Date(a).getMonth()+1!==b.month?r.a.cloneElement(n.Children.only(t),{style:Object(Ze.a)(Object(Ze.a)({},t.style),{},{backgroundColor:"#DDD"})}):r.a.cloneElement(n.Children.only(t),{style:Object(Ze.a)(Object(Ze.a)({},t.style),{},{backgroundColor:c?"#eaf6ff":a<Na()().toDate()?"#ffffff":"#DDD"})})}},eventPropGetter:function(e){return{style:{backgroundColor:"#32CD32"}}},onSelectEvent:function(e){return function(e){if(new Date(e.start).getMonth()+1===b.month){var t=Sn(e.title);d((function(a){return Object(Ze.a)(Object(Ze.a)({},a),{},{open:!0,date:e.start,isEdit:!0,text:"",disableOk:!0,inputValue:t,isDeduct:!0,oldValue:t})}))}}(e)},onSelectSlot:function(e){return function(e){new Date(e.start).getMonth()+1===b.month&&e.start<Na()().toDate()&&d((function(t){return Object(Ze.a)(Object(Ze.a)({},t),{},{open:!0,date:e.start,isEdit:!1,text:"",disableOk:!0,inputValue:0,isDeduct:!0,oldValue:0})}))}(e)}})})})})}):null]})]})})}),Object(Be.jsx)(io.a,{className:i.backdrop,open:O,children:Object(Be.jsx)(oo.a,{color:"inherit"})})]})},ws=a(96),Cs=a.n(ws),Ss=Object(We.a)(so);function ks(){var e=Object(s.useHistory)(),t=Ss(),a=Object(n.useState)(!1),c=Object(ia.a)(a,2),i=c[0],o=c[1],l=r.a.createRef(),d=Object(n.useState)({_sort:"name:asc"}),u=Object(ia.a)(d,2),j=u[0],b=u[1],p=r.a.useState({show:!1,severity:"",message:""}),h=Object(ia.a)(p,2),m=h[0],x=h[1],O=[{title:"Name",field:"name"}],f=function(){var e=Object(lr.a)(sr.a.mark((function e(t,a){var n;return sr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={page:t,pageSize:a},Object.keys(j).map((function(e){n.hasOwnProperty(e)||(n[e]=j[e])})),e.abrupt("return",new Promise((function(e,t){fetch(Tr+"?"+new URLSearchParams(n),{method:"GET",headers:{"content-type":"application/json",Authorization:"Bearer "+Ke.getToken()}}).then((function(e){if(e.ok)return e.json();if(401!==e.status)throw new Error("Something went wrong");Ke.clearAppStorage(),window.location.href="".concat(hr,"/login")})).then((function(t){e({data:t.data,page:t.page-1,totalCount:t.totalCount})})).catch((function(e){x((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{show:!0,severity:"error",message:"Error"})}))}))})));case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),g=function(){var t=Object(lr.a)(sr.a.mark((function t(a,n){return sr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o(!0),t.next=3,tc(Tr+"/"+a.id,{},Ke.getToken()).then((function(t){o(!1),e.push(Me,{data:t.data,edit:!0})})).catch((function(e){o(!1),x((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{show:!0,severity:"error",message:"Error"})}))}));case 3:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}();return Object(Be.jsxs)(Be.Fragment,{children:[Object(Be.jsx)(bi,{open:m.show,severity:m.severity,message:m.message,handleClose:function(){x((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{show:!1,severity:"",message:""})}))}}),Object(Be.jsx)(Ca,{children:Object(Be.jsx)(ya,{xs:12,sm:12,md:12,children:Object(Be.jsxs)(Vc,{children:[Object(Be.jsxs)(ii,{color:"primary",className:t.cardHeaderStyles,children:[Object(Be.jsx)(Fo.a,{fontSize:"large"}),Object(Be.jsx)("p",{className:t.cardCategoryWhite})]}),Object(Be.jsxs)(Jc,{children:[Object(Be.jsx)(Ca,{children:Object(Be.jsx)(ya,{xs:12,sm:12,md:12,children:Object(Be.jsx)(gi,{color:"primary",align:"end",size:"small",onClick:function(){e.push(Ie)},children:Object(Be.jsx)(Eo.a,{})})})}),Object(Be.jsxs)(Ca,{children:[Object(Be.jsx)(ya,{xs:12,sm:3,md:3,children:Object(Be.jsx)(Jn,{onChange:function(e){On(e.target.value)?(delete j.name_contains,b((function(e){return Object(Ze.a)({},e)}))):b((function(t){return Object(Ze.a)(Object(Ze.a)({},t),{},{name_contains:e.target.value})}))},type:"text",labelText:"Color Name",name:"name_contains",noMargin:!0,value:j.name_contains||"",id:"name_contains",formControlProps:{fullWidth:!0}})}),Object(Be.jsxs)(ya,{xs:12,sm:12,md:4,children:[Object(Be.jsx)(jc,{color:"primary",onClick:function(){l.current.onQueryChange()},children:"Search"}),Object(Be.jsx)(jc,{color:"primary",onClick:function(){delete j.name_contains,b((function(e){return Object(Ze.a)({},e)})),l.current.onQueryChange()},children:"Cancel"})]})]}),Object(Be.jsx)("br",{}),Object(Be.jsx)(Ca,{children:Object(Be.jsx)(ya,{xs:12,sm:12,md:12,children:Object(Be.jsx)($t,{tableRef:l,title:"Departments",columns:O,data:function(){var e=Object(lr.a)(sr.a.mark((function e(t){return sr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(t.page+1,t.pageSize);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),localization:{body:{editRow:{deleteText:"Are you sure you want to delete this Color?",saveTooltip:"Delete"}}},actions:[function(e){return{icon:function(){return Object(Be.jsx)(Cs.a,{fontSize:"small"})},tooltip:"Edit",onClick:function(e,t){g(t,!1)}}}],editable:{onRowDelete:function(e){return new Promise((function(t){setTimeout(Object(lr.a)(sr.a.mark((function a(){return sr.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,cc(Tr,e.id,Ke.getToken()).then(function(){var t=Object(lr.a)(sr.a.mark((function t(a){return sr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:x((function(t){return Object(Ze.a)(Object(Ze.a)({},t),{},{show:!0,severity:"success",message:"Successfully deleted "+e.name})}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){x((function(t){return Object(Ze.a)(Object(Ze.a)({},t),{},{show:!0,severity:"error",message:"Error deleting "+e.name})}))}));case 2:t();case 3:case"end":return a.stop()}}),a)}))),1e3)}))}},options:{pageSize:10,actionsColumnIndex:-1,search:!1,sorting:!0,thirdSortClick:!1},onOrderChange:function(e,t){!function(e,t){var a,n;e>=0&&(a=O[e].field),n=a+":"+t,b((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{_sort:n})})),l.current.onQueryChange()}(e,t)}})})})]})]})})}),Object(Be.jsx)(io.a,{className:t.backdrop,open:i,children:Object(Be.jsx)(oo.a,{color:"inherit"})})]})}var Ts=a(537),Ps=Object(We.a)(so);function Ns(e){var t=Ps(),a=Object(s.useHistory)(),c=Object(n.useState)(!1),i=Object(ia.a)(c,2),o=i[0],l=i[1],d=r.a.useState({}),u=Object(ia.a)(d,2),j=u[0],b=u[1],p=Object(n.useState)(!!e.location.state&&e.location.state.edit),h=Object(ia.a)(p,1)[0],m=r.a.useState({show:!1,severity:"",message:""}),x=Object(ia.a)(m,2),O=x[0],f=x[1],g=Object(n.useState)({id:null,name:""}),v=Object(ia.a)(g,2),y=v[0],_=v[1];Object(n.useEffect)((function(){e.location.state&&e.location.state.edit&&e.location.state.data&&w(e.location.state.data)}),[]);var w=function(e){_((function(t){return Object(Ze.a)(Object(Ze.a)({},t),{},{id:e.id,name:e.name})}))},C=function(){var e=Object(lr.a)(sr.a.mark((function e(t){var a,n;return sr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),l(!0),a=!1,{},n=Rn(y,Ts),Mn(n)?n&&Mn(n)?a=!0:(l(!1),b(n||{})):(l(!1),b(n)),a&&S();case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(lr.a)(sr.a.mark((function e(){var t;return sr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t={name:y.name.trim().toUpperCase()},!h){e.next=6;break}return e.next=4,rc(Tr,y.id,t,Ke.getToken()).then((function(e){a.push(De),l(!1)})).catch((function(e){f((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{show:!0,severity:"error",message:"Error saving data"})})),l(!1)}));case 4:e.next=8;break;case 6:return e.next=8,ac(Tr,t,Ke.getToken()).then((function(e){a.push(De),l(!1)})).catch((function(e){console.log("Error ",e),f((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{show:!0,severity:"error",message:"Error saving data"})})),l(!1)}));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(Be.jsxs)(Ca,{children:[Object(Be.jsx)(ya,{xs:12,sm:12,md:12,children:Object(Be.jsx)(gi,{align:"start",size:"small",onClick:function(){a.push(De)},children:Object(Be.jsx)(Zo.a,{})})}),Object(Be.jsx)(bi,{open:O.show,severity:O.severity,message:O.message,handleClose:function(){f((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{show:!1,severity:"",message:""})}))}}),Object(Be.jsx)(ya,{xs:12,sm:12,md:8,children:Object(Be.jsxs)(Vc,{children:[Object(Be.jsxs)(ii,{color:"primary",className:t.cardHeaderStyles,children:[Object(Be.jsx)("h4",{className:t.cardTitleWhite,children:h?"Edit Color":"Add New Color"}),Object(Be.jsx)("p",{className:t.cardCategoryWhite})]}),Object(Be.jsx)(Jc,{children:Object(Be.jsx)(Ca,{children:Object(Be.jsx)(ya,{xs:12,sm:12,md:6,children:Object(Be.jsx)(Jn,{labelText:"Color Name",id:"name",name:"name",value:y.name,onChange:function(e){return function(e){_((function(t){return Object(Ze.a)(Object(Ze.a)({},t),{},Object(ma.a)({},e.target.name,e.target.value))})),j.hasOwnProperty(e.target.name)&&(delete j[e.target.name],b((function(e){return Object(Ze.a)({},e)})))}(e)},formControlProps:{fullWidth:!0},helperTextId:"helperText_name",isHelperText:zn("name",j),helperText:zn("name",j)?j.name.map((function(e){return e+" "})):null,error:zn("name",j)})})})}),Object(Be.jsx)(ai,{children:Object(Be.jsx)(jc,{color:"primary",onClick:function(e){return C(e)},children:"Save"})})]})}),Object(Be.jsx)(io.a,{className:t.backdrop,open:o,children:Object(Be.jsx)(oo.a,{color:"inherit"})})]})}var Ds=Object(We.a)(so);function Is(){var e=Object(s.useHistory)(),t=Ds(),a=Object(n.useState)(!1),c=Object(ia.a)(a,2),i=c[0],o=c[1],l=r.a.createRef(),d=Object(n.useState)({_sort:"name:asc"}),u=Object(ia.a)(d,2),j=u[0],b=u[1],p=r.a.useState({show:!1,severity:"",message:""}),h=Object(ia.a)(p,2),m=h[0],x=h[1],O=[{title:"Name",field:"name"}],f=function(){var e=Object(lr.a)(sr.a.mark((function e(t,a){var n;return sr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={page:t,pageSize:a},Object.keys(j).map((function(e){n.hasOwnProperty(e)||(n[e]=j[e])})),e.abrupt("return",new Promise((function(e,t){fetch(kr+"?"+new URLSearchParams(n),{method:"GET",headers:{"content-type":"application/json",Authorization:"Bearer "+Ke.getToken()}}).then((function(e){if(e.ok)return e.json();if(401!==e.status)throw new Error("Something went wrong");Ke.clearAppStorage(),window.location.href="".concat(hr,"/login")})).then((function(t){e({data:t.data,page:t.page-1,totalCount:t.totalCount})})).catch((function(e){x((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{show:!0,severity:"error",message:"Error"})}))}))})));case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),g=function(){var t=Object(lr.a)(sr.a.mark((function t(a,n){return sr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o(!0),t.next=3,tc(kr+"/"+a.id,{},Ke.getToken()).then((function(t){o(!1),e.push(Ae,{data:t.data,edit:!0})})).catch((function(e){o(!1),x((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{show:!0,severity:"error",message:"Error"})}))}));case 3:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}();return Object(Be.jsxs)(Be.Fragment,{children:[Object(Be.jsx)(bi,{open:m.show,severity:m.severity,message:m.message,handleClose:function(){x((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{show:!1,severity:"",message:""})}))}}),Object(Be.jsx)(Ca,{children:Object(Be.jsx)(ya,{xs:12,sm:12,md:12,children:Object(Be.jsxs)(Vc,{children:[Object(Be.jsxs)(ii,{color:"primary",className:t.cardHeaderStyles,children:[Object(Be.jsx)(Fo.a,{fontSize:"large"}),Object(Be.jsx)("p",{className:t.cardCategoryWhite})]}),Object(Be.jsxs)(Jc,{children:[Object(Be.jsx)(Ca,{children:Object(Be.jsx)(ya,{xs:12,sm:12,md:12,children:Object(Be.jsx)(gi,{color:"primary",align:"end",size:"small",onClick:function(){e.push(ze)},children:Object(Be.jsx)(Eo.a,{})})})}),Object(Be.jsxs)(Ca,{children:[Object(Be.jsx)(ya,{xs:12,sm:3,md:3,children:Object(Be.jsx)(Jn,{onChange:function(e){On(e.target.value)?(delete j.name_contains,b((function(e){return Object(Ze.a)({},e)}))):b((function(t){return Object(Ze.a)(Object(Ze.a)({},t),{},{name_contains:e.target.value})}))},type:"text",labelText:"Category Name",name:"name_contains",noMargin:!0,value:j.name_contains||"",id:"name_contains",formControlProps:{fullWidth:!0}})}),Object(Be.jsxs)(ya,{xs:12,sm:12,md:4,children:[Object(Be.jsx)(jc,{color:"primary",onClick:function(){l.current.onQueryChange()},children:"Search"}),Object(Be.jsx)(jc,{color:"primary",onClick:function(){delete j.name_contains,b((function(e){return Object(Ze.a)({},e)})),l.current.onQueryChange()},children:"Cancel"})]})]}),Object(Be.jsx)("br",{}),Object(Be.jsx)(Ca,{children:Object(Be.jsx)(ya,{xs:12,sm:12,md:12,children:Object(Be.jsx)($t,{tableRef:l,title:"Departments",columns:O,data:function(){var e=Object(lr.a)(sr.a.mark((function e(t){return sr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(t.page+1,t.pageSize);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),localization:{body:{editRow:{deleteText:"Are you sure you want to delete this Color?",saveTooltip:"Delete"}}},actions:[function(e){return{icon:function(){return Object(Be.jsx)(Cs.a,{fontSize:"small"})},tooltip:"Edit",onClick:function(e,t){g(t,!1)}}}],editable:{onRowDelete:function(e){return new Promise((function(t){setTimeout(Object(lr.a)(sr.a.mark((function a(){return sr.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,cc(kr,e.id,Ke.getToken()).then(function(){var t=Object(lr.a)(sr.a.mark((function t(a){return sr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:x((function(t){return Object(Ze.a)(Object(Ze.a)({},t),{},{show:!0,severity:"success",message:"Successfully deleted "+e.name})}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){x((function(t){return Object(Ze.a)(Object(Ze.a)({},t),{},{show:!0,severity:"error",message:"Error deleting "+e.name})}))}));case 2:t();case 3:case"end":return a.stop()}}),a)}))),1e3)}))}},options:{pageSize:10,actionsColumnIndex:-1,search:!1,sorting:!0,thirdSortClick:!1},onOrderChange:function(e,t){!function(e,t){var a,n;e>=0&&(a=O[e].field),n=a+":"+t,b((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{_sort:n})})),l.current.onQueryChange()}(e,t)}})})})]})]})})}),Object(Be.jsx)(io.a,{className:t.backdrop,open:i,children:Object(Be.jsx)(oo.a,{color:"inherit"})})]})}var Ms=a(538),Rs=Object(We.a)(so);function zs(e){var t=Rs(),a=Object(s.useHistory)(),c=Object(n.useState)(!1),i=Object(ia.a)(c,2),o=i[0],l=i[1],d=r.a.useState({}),u=Object(ia.a)(d,2),j=u[0],b=u[1],p=Object(n.useState)(!!e.location.state&&e.location.state.edit),h=Object(ia.a)(p,1)[0],m=r.a.useState({show:!1,severity:"",message:""}),x=Object(ia.a)(m,2),O=x[0],f=x[1],g=Object(n.useState)({id:null,name:""}),v=Object(ia.a)(g,2),y=v[0],_=v[1];Object(n.useEffect)((function(){e.location.state&&e.location.state.edit&&e.location.state.data&&w(e.location.state.data)}),[]);var w=function(e){_((function(t){return Object(Ze.a)(Object(Ze.a)({},t),{},{id:e.id,name:e.name})}))},C=function(){var e=Object(lr.a)(sr.a.mark((function e(t){var a,n;return sr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),l(!0),a=!1,{},n=Rn(y,Ms),Mn(n)?n&&Mn(n)?a=!0:(l(!1),b(n||{})):(l(!1),b(n)),a&&S();case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(lr.a)(sr.a.mark((function e(){var t;return sr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t={name:y.name.trim().toUpperCase()},!h){e.next=6;break}return e.next=4,rc(kr,y.id,t,Ke.getToken()).then((function(e){a.push(Re),l(!1)})).catch((function(e){f((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{show:!0,severity:"error",message:"Error saving data"})})),l(!1)}));case 4:e.next=8;break;case 6:return e.next=8,ac(kr,t,Ke.getToken()).then((function(e){a.push(Re),l(!1)})).catch((function(e){console.log("Error ",e),f((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{show:!0,severity:"error",message:"Error saving data"})})),l(!1)}));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(Be.jsxs)(Ca,{children:[Object(Be.jsx)(ya,{xs:12,sm:12,md:12,children:Object(Be.jsx)(gi,{align:"start",size:"small",onClick:function(){a.push(Re)},children:Object(Be.jsx)(Zo.a,{})})}),Object(Be.jsx)(bi,{open:O.show,severity:O.severity,message:O.message,handleClose:function(){f((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{show:!1,severity:"",message:""})}))}}),Object(Be.jsx)(ya,{xs:12,sm:12,md:8,children:Object(Be.jsxs)(Vc,{children:[Object(Be.jsxs)(ii,{color:"primary",className:t.cardHeaderStyles,children:[Object(Be.jsx)("h4",{className:t.cardTitleWhite,children:h?"Edit Category":"Add New Category"}),Object(Be.jsx)("p",{className:t.cardCategoryWhite})]}),Object(Be.jsx)(Jc,{children:Object(Be.jsx)(Ca,{children:Object(Be.jsx)(ya,{xs:12,sm:12,md:6,children:Object(Be.jsx)(Jn,{labelText:"Category Name",id:"name",name:"name",value:y.name,onChange:function(e){return function(e){_((function(t){return Object(Ze.a)(Object(Ze.a)({},t),{},Object(ma.a)({},e.target.name,e.target.value))})),j.hasOwnProperty(e.target.name)&&(delete j[e.target.name],b((function(e){return Object(Ze.a)({},e)})))}(e)},formControlProps:{fullWidth:!0},helperTextId:"helperText_name",isHelperText:zn("name",j),helperText:zn("name",j)?j.name.map((function(e){return e+" "})):null,error:zn("name",j)})})})}),Object(Be.jsx)(ai,{children:Object(Be.jsx)(jc,{color:"primary",onClick:function(e){return C(e)},children:"Save"})})]})}),Object(Be.jsx)(io.a,{className:t.backdrop,open:o,children:Object(Be.jsx)(oo.a,{color:"inherit"})})]})}var As=a.p+"static/media/cover_image.d9fb0693.jpg",Fs=a(541),Ws=a.n(Fs),Es=a(542),Hs=a.n(Es),Bs=a(540),qs=a.n(Bs),Ls=a(539),Qs=a.p+"static/media/reactlogo.ba3aff07.png",Ys=Object(We.a)({cardCategoryWhite:{color:"rgba(255,255,255,.62)",margin:"0",fontSize:"14px",marginTop:"0",marginBottom:"0"},cardTitleWhite:{color:"#a56863",marginTop:"15px",minHeight:"auto",fontWeight:"500",fontFamily:"'Roboto', 'Helvetica', 'Arial', sans-serif",textDecoration:"none",textAlignLast:"center",marginBottom:0},customLogin:{height:"4rem"},alignLoginCard:{margin:"auto",zIndex:"4",marginLeft:"auto",marginRight:"auto",paddingLeft:"15px",paddingRight:"15px"},header:{marginTop:"9rem"},background:{position:"absolute",zIndex:"1",height:"100%",width:"100%",display:"block",top:"0",left:"0",backgroundSize:"cover",backgroundPosition:"center center","&:after":{position:"absolute",zIndex:"2",width:"100%",height:"100%",content:'""',display:"block",background:"#333232",opacity:".58"}},wrapper:{position:"relative"},buttonProgress:{color:"#e91e63",position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},logoImage:{width:"50%"},img:{width:"100%"}}),Us=function(e){var t=Ys(),a=Object(s.useHistory)(),r=n.useState(!1),c=Object(ia.a)(r,2),i=c[0],o=c[1],l=n.useState(As),u=Object(ia.a)(l,1)[0],j=n.useState(!1),b=Object(ia.a)(j,2),p=b[0],h=b[1],m=n.useState({}),x=Object(ia.a)(m,2),O=x[0],f=x[1],g=n.useState({}),v=Object(ia.a)(g,2),y=v[0],_=v[1],w=n.useState({show:!1,severity:"",message:""}),C=Object(ia.a)(w,2),S=C[0],k=C[1],T=function(){var e=Object(lr.a)(sr.a.mark((function e(){return sr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nc(xr,{identifier:O.email,password:O.password}).then((function(e){e.data&&e.data.user.role&&e.data.user.role.name?(Ke.setToken(e.data.jwt,!0),Ke.setUserInfo(e.data.user,!0),("Staff"===e.data.user.role.name||"Admin"===e.data.user.role.name||"Super Admin"===e.data.user.role.name)&&a.push(d)):k((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{show:!0,severity:"error",message:"Login/Password Invalid"})})),o(!1)})).catch((function(e){k((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{show:!0,severity:"error",message:"Login/Password Invalid"})})),o(!1)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(Be.jsxs)("div",{children:[void 0!==u?Object(Be.jsx)("div",{className:t.background,style:{backgroundImage:"url("+u+")"}}):null,Object(Be.jsx)(Ca,{noWidth:!0,children:Object(Be.jsxs)(ya,{xs:12,sm:6,md:3,className:t.alignLoginCard,children:[Object(Be.jsx)(bi,{open:S.show,severity:S.severity,message:S.message,handleClose:function(){k((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{show:!1,severity:"",message:""})}))}}),Object(Be.jsx)(Vc,{className:t.header,children:Object(Be.jsxs)("form",{className:t.form,onSubmit:function(e){e.preventDefault(),o(!0);var t,a=!1;t=Rn(O,Ls),Mn(t)?a=!0:(o(!1),_(t)),a&&T()},noValidate:!0,children:[Object(Be.jsx)(Jc,{children:Object(Be.jsxs)(Ca,{children:[Object(Be.jsx)(ya,{xs:12,sm:12,md:12,style:{display:"flex",justifyContent:"center"},children:Object(Be.jsx)("div",{className:t.logoImage,children:Object(Be.jsx)("img",{src:Qs,alt:"logo",className:t.img})})}),Object(Be.jsxs)(ya,{xs:12,sm:12,md:12,style:{display:"flex",justifyContent:"center"},children:[Object(Be.jsx)("h3",{className:t.cardTitleWhite,children:Object(Be.jsx)(qs.a,{})}),Object(Be.jsx)("h3",{className:t.cardTitleWhite,style:{marginTop:"20px"},children:Object(Be.jsx)("span",{children:"Log in"})})]}),Object(Be.jsx)(ya,{xs:12,sm:12,md:12,children:Object(Be.jsx)(Jn,{labelText:"Email",id:"email-address",value:O.email?O.email:"",onChange:function(e){f((function(t){return Object(Ze.a)(Object(Ze.a)({},t),{},{email:e.target.value})})),y.hasOwnProperty("email")&&delete y.email},helperTextId:"helperText-email-id",isHelperText:zn("email",y),helperText:zn("email",y)?y.email.map((function(e){return e+" "})):null,error:zn("email",y),formControlProps:{fullWidth:!0},inputProps:{endAdornment:Object(Be.jsx)(es.a,{position:"end",children:Object(Be.jsx)(Ws.a,{color:zn("email",y)?"error":"action"})})}})}),Object(Be.jsx)(ya,{xs:12,sm:12,md:12,children:Object(Be.jsx)(Jn,{labelText:"Password",id:"password",autoComplete:"on",value:O.password?O.password:"",onChange:function(e){f((function(t){return Object(Ze.a)(Object(Ze.a)({},t),{},{password:e.target.value})})),y.hasOwnProperty("password")&&delete y.password},helperTextId:"helperText-password-id",isHelperText:zn("password",y),helperText:zn("password",y)?y.password.map((function(e){return e+" "})):null,error:zn("password",y),type:p?"text":"password",formControlProps:{fullWidth:!0},inputProps:{endAdornment:Object(Be.jsx)(es.a,{position:"end",children:Object(Be.jsx)(la.a,{"aria-label":"toggle password visibility",onClick:function(){h(!p)},onMouseDown:function(e){e.preventDefault()},edge:"end",children:p?Object(Be.jsx)(zo.a,{color:zn("password",y)?"error":"action"}):Object(Be.jsx)(Hs.a,{color:zn("password",y)?"error":"action"})})})}})})]})}),Object(Be.jsx)(ai,{className:t.alignLoginCard,style:{justifyContent:"space-evenly"},children:Object(Be.jsxs)("div",{className:t.wrapper,children:[Object(Be.jsx)(jc,{color:"primary",type:"submit",disabled:i,children:"Login"}),i&&Object(Be.jsx)(oo.a,{size:24,className:t.buttonProgress})]})})]})})]})})]})};Object(We.a)(so);var Vs=Object(We.a)(so);function $s(){var e=Vs(),t=r.a.createRef(),a=Object(n.useState)({_sort:"name:asc"}),c=Object(ia.a)(a,2),i=c[0],o=c[1],l=[{title:"Name",field:"name"},{title:"Email",field:"email"},{title:"Phone",field:"phone_number"}],d=Object(s.useHistory)(),u=function(){var e=Object(lr.a)(sr.a.mark((function e(t,a){var n;return sr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={page:t,pageSize:a},Object.keys(i).map((function(e){n.hasOwnProperty(e)||(n[e]=i[e])})),e.abrupt("return",new Promise((function(e,t){fetch(Or+"?"+new URLSearchParams(n),{method:"GET",headers:{"content-type":"application/json",Authorization:"Bearer "+Ke.getToken()}}).then((function(e){if(e.ok)return e.json();if(401!==e.status)throw new Error("Something went wrong");Ke.clearAppStorage(),window.location.href="".concat(hr,"/login")})).then((function(t){e({data:t.data,page:t.page-1,totalCount:t.totalCount})})).catch((function(e){throw e}))})));case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();return Object(Be.jsxs)(Ca,{children:[Object(Be.jsx)(ya,{xs:12,sm:12,md:12,children:Object(Be.jsx)(gi,{color:"primary",align:"end",onClick:function(){d.push(L)},size:"small",children:Object(Be.jsx)(Eo.a,{})})}),Object(Be.jsx)(ya,{xs:12,sm:12,md:12,children:Object(Be.jsxs)(Vc,{plain:!0,children:[Object(Be.jsxs)(ii,{plain:!0,color:"primary",children:[Object(Be.jsx)("h4",{className:e.cardTitleWhite,children:"Admin Users"}),Object(Be.jsx)("p",{className:e.cardCategoryWhite,children:"List of all admin users"})]}),Object(Be.jsx)(Jc,{children:Object(Be.jsx)($t,{tableRef:t,title:"Admin Users",columns:l,data:function(){var e=Object(lr.a)(sr.a.mark((function e(t){return sr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u(t.page+1,t.pageSize);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),localization:{body:{editRow:{deleteText:"Are you sure you want to delete this Admin User?",saveTooltip:"Delete"}}},actions:[function(e){return{icon:function(){return Object(Be.jsx)(Cs.a,{})},tooltip:"Edit",onClick:function(e,t){}}},function(e){return{icon:"delete",tooltip:"Delete User",onClick:function(e,t){},disabled:e.birthYear<2e3}}],options:{pageSize:10,actionsColumnIndex:-1,search:!1,sorting:!0,thirdSortClick:!1},onOrderChange:function(e,a){!function(e,a){var n,r;e>=0&&(n=l[e].field),r=n+":"+a,o((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{_sort:r})})),t.current.onQueryChange()}(e,a)}})})]})})]})}var Gs=Object(We.a)(so);function Ks(){var e=Gs(),t=Object(s.useHistory)();return Object(Be.jsxs)(Ca,{children:[Object(Be.jsx)(ya,{xs:12,sm:12,md:12,children:Object(Be.jsx)(gi,{align:"start",size:"small",onClick:function(){t.push(q)},children:Object(Be.jsx)(Zo.a,{})})}),Object(Be.jsx)(ya,{xs:12,sm:12,md:8,children:Object(Be.jsxs)(Vc,{children:[Object(Be.jsxs)(ii,{color:"primary",className:e.cardHeaderStyles,children:[Object(Be.jsx)("h4",{className:e.cardTitleWhite,children:"Add New Admin"}),Object(Be.jsx)("p",{className:e.cardCategoryWhite})]}),Object(Be.jsxs)(Jc,{children:[Object(Be.jsx)(Ca,{children:Object(Be.jsx)(ya,{xs:12,sm:12,md:12,children:Object(Be.jsx)(Jn,{labelText:"Name",id:"name",formControlProps:{fullWidth:!0}})})}),Object(Be.jsxs)(Ca,{children:[Object(Be.jsx)(ya,{xs:12,sm:12,md:8,children:Object(Be.jsx)(Jn,{labelText:"Email address",id:"email-address",formControlProps:{fullWidth:!0}})}),Object(Be.jsx)(ya,{xs:12,sm:12,md:4,children:Object(Be.jsx)(Jn,{labelText:"Phone Number",id:"phone-number",formControlProps:{fullWidth:!0}})})]}),Object(Be.jsx)(Ca,{children:Object(Be.jsx)(ya,{xs:12,sm:12,md:12,children:Object(Be.jsx)(Jn,{labelText:"Address",id:"address",formControlProps:{fullWidth:!0},inputProps:{multiline:!0,rows:5}})})}),Object(Be.jsxs)(Ca,{children:[Object(Be.jsx)(ya,{xs:12,sm:12,md:4,children:Object(Be.jsx)(Jn,{labelText:"City",id:"city",formControlProps:{fullWidth:!0}})}),Object(Be.jsx)(ya,{xs:12,sm:12,md:4,children:Object(Be.jsx)(Jn,{labelText:"Country",id:"country",formControlProps:{fullWidth:!0}})}),Object(Be.jsx)(ya,{xs:12,sm:12,md:4,children:Object(Be.jsx)(Jn,{labelText:"Postal Code",id:"postal-code",formControlProps:{fullWidth:!0}})})]})]}),Object(Be.jsx)(ai,{children:Object(Be.jsx)(jc,{color:"primary",children:"Add Admin"})})]})})]})}var Zs=Object(We.a)(so);function Js(){var e=Zs(),t=r.a.createRef(),a=Object(n.useState)({_sort:"name:asc"}),c=Object(ia.a)(a,2),i=c[0],o=c[1],l=[{title:"Name",field:"name"},{title:"Email",field:"email"},{title:"Phone",field:"phone_number"}],d=Object(s.useHistory)(),u=function(){var e=Object(lr.a)(sr.a.mark((function e(t,a){var n;return sr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={page:t,pageSize:a},Object.keys(i).map((function(e){n.hasOwnProperty(e)||(n[e]=i[e])})),e.abrupt("return",new Promise((function(e,t){fetch(fr+"?"+new URLSearchParams(n),{method:"GET",headers:{"content-type":"application/json",Authorization:"Bearer "+Ke.getToken()}}).then((function(e){if(e.ok)return e.json();if(401!==e.status)throw new Error("Something went wrong");Ke.clearAppStorage(),window.location.href="".concat(hr,"/login")})).then((function(t){e({data:t.data,page:t.page-1,totalCount:t.totalCount})})).catch((function(e){throw e}))})));case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();return Object(Be.jsxs)(Ca,{children:[Object(Be.jsx)(ya,{xs:12,sm:12,md:12,children:Object(Be.jsx)(gi,{color:"primary",align:"end",onClick:function(){d.push(Y)},size:"small",children:Object(Be.jsx)(Eo.a,{})})}),Object(Be.jsx)(ya,{xs:12,sm:12,md:12,children:Object(Be.jsxs)(Vc,{plain:!0,children:[Object(Be.jsxs)(ii,{plain:!0,color:"primary",children:[Object(Be.jsx)("h4",{className:e.cardTitleWhite,children:"Staff Users"}),Object(Be.jsx)("p",{className:e.cardCategoryWhite,children:"List of all staff users"})]}),Object(Be.jsx)(Jc,{children:Object(Be.jsx)($t,{tableRef:t,title:"Admin Users",columns:l,data:function(){var e=Object(lr.a)(sr.a.mark((function e(t){return sr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u(t.page+1,t.pageSize);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),localization:{body:{editRow:{deleteText:"Are you sure you want to delete this Staff User?",saveTooltip:"Delete"}}},actions:[function(e){return{icon:function(){return Object(Be.jsx)(Cs.a,{})},tooltip:"Edit",onClick:function(e,t){}}},function(e){return{icon:"delete",tooltip:"Delete User",onClick:function(e,t){},disabled:e.birthYear<2e3}}],options:{pageSize:10,actionsColumnIndex:-1,search:!1,sorting:!0,thirdSortClick:!1},onOrderChange:function(e,a){!function(e,a){var n,r;e>=0&&(n=l[e].field),r=n+":"+a,o((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{_sort:r})})),t.current.onQueryChange()}(e,a)}})})]})})]})}var Xs=Object(We.a)(so);function el(){var e=Xs(),t=Object(s.useHistory)();return Object(Be.jsxs)(Ca,{children:[Object(Be.jsx)(ya,{xs:12,sm:12,md:12,children:Object(Be.jsx)(gi,{align:"start",size:"small",onClick:function(){t.push(Q)},children:Object(Be.jsx)(Zo.a,{})})}),Object(Be.jsx)(ya,{xs:12,sm:12,md:8,children:Object(Be.jsxs)(Vc,{children:[Object(Be.jsxs)(ii,{color:"primary",className:e.cardHeaderStyles,children:[Object(Be.jsx)("h4",{className:e.cardTitleWhite,children:"Add New Staff"}),Object(Be.jsx)("p",{className:e.cardCategoryWhite})]}),Object(Be.jsxs)(Jc,{children:[Object(Be.jsx)(Ca,{children:Object(Be.jsx)(ya,{xs:12,sm:12,md:12,children:Object(Be.jsx)(Jn,{labelText:"Name",id:"name",formControlProps:{fullWidth:!0}})})}),Object(Be.jsxs)(Ca,{children:[Object(Be.jsx)(ya,{xs:12,sm:12,md:8,children:Object(Be.jsx)(Jn,{labelText:"Email address",id:"email-address",formControlProps:{fullWidth:!0}})}),Object(Be.jsx)(ya,{xs:12,sm:12,md:4,children:Object(Be.jsx)(Jn,{labelText:"Phone Number",id:"phone-number",formControlProps:{fullWidth:!0}})})]}),Object(Be.jsx)(Ca,{children:Object(Be.jsx)(ya,{xs:12,sm:12,md:12,children:Object(Be.jsx)(Jn,{labelText:"Address",id:"address",formControlProps:{fullWidth:!0},inputProps:{multiline:!0,rows:5}})})}),Object(Be.jsxs)(Ca,{children:[Object(Be.jsx)(ya,{xs:12,sm:12,md:4,children:Object(Be.jsx)(Jn,{labelText:"City",id:"city",formControlProps:{fullWidth:!0}})}),Object(Be.jsx)(ya,{xs:12,sm:12,md:4,children:Object(Be.jsx)(Jn,{labelText:"Country",id:"country",formControlProps:{fullWidth:!0}})}),Object(Be.jsx)(ya,{xs:12,sm:12,md:4,children:Object(Be.jsx)(Jn,{labelText:"Postal Code",id:"postal-code",formControlProps:{fullWidth:!0}})})]})]}),Object(Be.jsx)(ai,{children:Object(Be.jsx)(jc,{color:"primary",children:"Add Staff"})})]})})]})}var tl=Object(We.a)(so);function al(){var e=tl(),t=r.a.createRef(),a=Object(n.useState)({_sort:"name:asc"}),c=Object(ia.a)(a,2),i=c[0],o=c[1],s=r.a.useState({show:!1,severity:"",message:""}),l=Object(ia.a)(s,2),d=l[0],u=l[1],j=[{title:"Name",field:"name"}],b=function(){var e=Object(lr.a)(sr.a.mark((function e(t,a){var n;return sr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={page:t,pageSize:a},Object.keys(i).map((function(e){n.hasOwnProperty(e)||(n[e]=i[e])})),e.abrupt("return",new Promise((function(e,t){fetch(gr+"?"+new URLSearchParams(n),{method:"GET",headers:{"content-type":"application/json",Authorization:"Bearer "+Ke.getToken()}}).then((function(e){if(e.ok)return e.json();if(401!==e.status)throw new Error("Something went wrong");Ke.clearAppStorage(),window.location.href="".concat(hr,"/login")})).then((function(t){e({data:t.data,page:t.page-1,totalCount:t.totalCount})})).catch((function(e){u((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{show:!0,severity:"error",message:"Error"})}))}))})));case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();return Object(Be.jsxs)(Be.Fragment,{children:[Object(Be.jsx)(bi,{open:d.show,severity:d.severity,message:d.message,handleClose:function(){u((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{show:!1,severity:"",message:""})}))}}),Object(Be.jsx)(Ca,{children:Object(Be.jsx)(ya,{xs:12,sm:12,md:12,children:Object(Be.jsxs)(Vc,{children:[Object(Be.jsxs)(ii,{color:"primary",className:e.cardHeaderStyles,children:[Object(Be.jsx)(Fo.a,{fontSize:"large"}),Object(Be.jsx)("p",{className:e.cardCategoryWhite})]}),Object(Be.jsx)(Jc,{children:Object(Be.jsx)(Ca,{children:Object(Be.jsx)(ya,{xs:12,sm:12,md:12,children:Object(Be.jsx)($t,{tableRef:t,title:"Departments",columns:j,data:function(){var e=Object(lr.a)(sr.a.mark((function e(t){return sr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b(t.page+1,t.pageSize);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),localization:{body:{editRow:{deleteText:"Are you sure you want to delete this Admin User?",saveTooltip:"Delete"}}},actions:[],options:{pageSize:10,actionsColumnIndex:-1,search:!1,sorting:!0,thirdSortClick:!1},onOrderChange:function(e,a){!function(e,a){var n,r;e>=0&&(n=j[e].field),r=n+":"+a,o((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{_sort:r})})),t.current.onQueryChange()}(e,a)}})})})})]})})})]})}var nl=Object(We.a)(so);function rl(){var e=nl(),t=Object(s.useHistory)();return Object(Be.jsxs)(Ca,{children:[Object(Be.jsx)(ya,{xs:12,sm:12,md:12,children:Object(Be.jsx)(gi,{align:"start",size:"small",onClick:function(){t.push(U)},children:Object(Be.jsx)(Zo.a,{})})}),Object(Be.jsx)(ya,{xs:12,sm:12,md:8,children:Object(Be.jsxs)(Vc,{children:[Object(Be.jsxs)(ii,{color:"primary",className:e.cardHeaderStyles,children:[Object(Be.jsx)("h4",{className:e.cardTitleWhite,children:"Add New Seller"}),Object(Be.jsx)("p",{className:e.cardCategoryWhite})]}),Object(Be.jsx)(Jc,{children:Object(Be.jsx)(Ca,{children:Object(Be.jsx)(ya,{xs:12,sm:12,md:12,children:Object(Be.jsx)(Jn,{labelText:"Name",id:"name",formControlProps:{fullWidth:!0}})})})}),Object(Be.jsx)(ai,{children:Object(Be.jsx)(jc,{color:"primary",children:"Add Department"})})]})})]})}var cl=Object(We.a)(so);function il(){var e=cl(),t=Object(s.useHistory)(),a=r.a.createRef(),c=Object(n.useState)({_sort:"date:desc"}),i=Object(ia.a)(c,2),o=i[0],l=i[1],d=r.a.useState(null),u=Object(ia.a)(d,2),j=u[0],b=u[1],p=r.a.useState({show:!1,severity:"",message:""}),h=Object(ia.a)(p,2),m=h[0],x=h[1],O=[{title:"Type of purchase",field:"type_of_bill"},{title:"Purchased From",field:"seller",render:function(e){return e.seller?e.seller.seller_name:""}},{title:"Invoice / Bill Number",field:"invoice_number",render:function(e){return"Pakka"===e.type_of_bill?e.invoice_number:e.bill_no}},{title:"Total Amount",field:"total_amt_with_tax",render:function(e){return yn(e.total_amt_with_tax,!0)}},{title:"Purchase date",field:"date",render:function(e){return fn(new Date(e.date))}}],g=function(){var e=Object(lr.a)(sr.a.mark((function e(t,a){var n;return sr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={page:t,pageSize:a},Object.keys(o).map((function(e){n.hasOwnProperty(e)||(n[e]=o[e])})),e.abrupt("return",new Promise((function(e,t){console.log("hererererere"),fetch(Zr+"?"+new URLSearchParams(n),{method:"GET",headers:{"content-type":"application/json",Authorization:"Bearer "+Ke.getToken()}}).then((function(e){if(e.ok)return e.json();if(401!==e.status)throw new Error("Something went wrong");Ke.clearAppStorage(),window.location.href="".concat(hr,"/login")})).then((function(t){e({data:t.data,page:t.page-1,totalCount:t.totalCount})})).catch((function(e){throw e}))})));case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),_=function(e){On(e.target.value)?(delete o[e.target.name],l((function(e){return Object(Ze.a)({},e)}))):l((function(t){return Object(Ze.a)(Object(Ze.a)({},t),{},Object(ma.a)({},e.target.name,e.target.value))}))};return Object(Be.jsxs)(Be.Fragment,{children:[Object(Be.jsx)(bi,{open:m.show,severity:m.severity,message:m.message,handleClose:function(){x((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{show:!1,severity:"",message:""})}))}}),Object(Be.jsx)(Ca,{children:Object(Be.jsx)(ya,{xs:12,sm:12,md:12,children:Object(Be.jsxs)(Vc,{children:[Object(Be.jsxs)(ii,{color:"primary",className:e.cardHeaderStyles,children:[Object(Be.jsx)(Fo.a,{fontSize:"large"}),Object(Be.jsx)("p",{className:e.cardCategoryWhite})]}),Object(Be.jsxs)(Jc,{children:[Object(Be.jsx)(Ca,{children:Object(Be.jsx)(ya,{xs:12,sm:12,md:12,children:Object(Be.jsx)(gi,{color:"primary",align:"end",size:"small",onClick:function(){t.push(f)},children:Object(Be.jsx)(Eo.a,{})})})}),Object(Be.jsxs)(Ca,{children:[Object(Be.jsx)(ya,{xs:12,sm:12,md:2,children:Object(Be.jsx)(Pi,{id:"type_of_bill",onChange:function(e){return _(e)},labelText:"Type of Purchase",name:"type_of_bill",value:o.type_of_bill||"",nameValue:[{name:"Pakka",value:"Pakka"},{name:"Kachha",value:"Kachha"}],formControlProps:{fullWidth:!0}})}),Object(Be.jsx)(ya,{xs:12,sm:12,md:2,style:{marginTop:"2.2rem"},children:Object(Be.jsx)(oc,{setSelectedData:function(e){e&&e.value?(l((function(t){return Object(Ze.a)(Object(Ze.a)({},t),{},{seller:e.value})})),b(e)):(delete o.seller,l((function(e){return Object(Ze.a)({},e)})),b(null))},searchString:"seller_name",apiName:wr,placeholder:"Select Seller...",selectedValue:j})}),Object(Be.jsx)(ya,{xs:12,sm:12,md:2,children:Object(Be.jsx)(Jn,{onChange:function(e){return _(e)},labelText:"Invoice Number",value:o.invoice_number_contains||"",name:"invoice_number_contains",id:"invoice_number_contains",formControlProps:{fullWidth:!0}})}),Object(Be.jsx)(ya,{xs:12,sm:12,md:2,children:Object(Be.jsx)(Jn,{onChange:function(e){return _(e)},labelText:"Bill Number",value:o.bill_no_contains||"",name:"bill_no_contains",id:"bill_no_contains",formControlProps:{fullWidth:!0}})}),Object(Be.jsx)(ya,{xs:12,sm:12,md:2,children:Object(Be.jsx)(Hi,{onChange:function(e){return function(e){var t=Na()(e).format("YYYY-MM-DDT00:00:00.000Z");"Invalid date"===t?(t=null,delete o.date_gte,l((function(e){return Object(Ze.a)({},e)}))):(t=new Date(t).toISOString(),l((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{date_gte:t})})))}(e)},label:"Purchase Date From",name:"date_gte",value:o.date_gte||null,id:"date_gte",formControlProps:{fullWidth:!0},style:{marginTop:"1.5rem",width:"100%"}})}),Object(Be.jsx)(ya,{xs:12,sm:12,md:2,children:Object(Be.jsx)(Hi,{onChange:function(e){return function(e){var t=Na()(e).endOf("day").format("YYYY-MM-DDT23:59:59.999Z");"Invalid date"===t?(t=null,delete o.date_lte,l((function(e){return Object(Ze.a)({},e)}))):(t=new Date(t).toISOString(),l((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{date_lte:t})})))}(e)},label:"Purchase Date To",name:"date_lte",value:o.date_lte||null,id:"date_lte",formControlProps:{fullWidth:!0},style:{marginTop:"1.5rem",width:"100%"}})})]}),Object(Be.jsx)(Ca,{children:Object(Be.jsxs)(ya,{xs:12,sm:12,md:4,style:{marginTop:"27px"},children:[Object(Be.jsx)(jc,{color:"primary",onClick:function(){a.current.onQueryChange()},children:"Search"}),Object(Be.jsx)(jc,{color:"primary",onClick:function(){l({_sort:"date:desc"}),b(null),a.current.onQueryChange()},children:"Cancel"})]})}),Object(Be.jsx)("br",{}),Object(Be.jsx)($t,{tableRef:a,title:"Purchases",columns:O,data:function(){var e=Object(lr.a)(sr.a.mark((function e(t){return sr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g(t.page+1,t.pageSize);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),actions:[function(e){return{icon:function(){return Object(Be.jsx)(Mo.a,{fontSize:"small"})},tooltip:"Edit",onClick:function(e,a){t.push(v+"/"+a.id)}}},function(e){return{icon:function(){return Object(Be.jsx)(zo.a,{fontSize:"small",color:"primary"})},tooltip:"View",onClick:function(e,a){t.push(y+"/"+a.id)}}}],localization:{body:{editRow:{deleteText:"Are you sure you want to delete this Purchase Info?",saveTooltip:"Delete"}}},icons:{Delete:function(){return Object(Be.jsx)(Lo.a,{style:{color:"red"}})}},editable:{onRowDelete:function(e){return new Promise((function(t){setTimeout(Object(lr.a)(sr.a.mark((function a(){return sr.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,cc(Zr,e.id,Ke.getToken()).then(function(){var e=Object(lr.a)(sr.a.mark((function e(t){return sr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{show:!0,severity:"success",message:"Successfully deleted purchase"})}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){x((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{show:!0,severity:"error",message:"Error deleting purchase"})}))}));case 2:t();case 3:case"end":return a.stop()}}),a)}))),1e3)}))}},options:{pageSize:10,actionsColumnIndex:-1,search:!1,sorting:!0,thirdSortClick:!1},onOrderChange:function(e,t){!function(e,t){var n,r;e>=0&&(n=O[e].field),r=n+":"+t,l((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{_sort:r})})),a.current.onQueryChange()}(e,t)}})]})]})})})]})}var ol=a(358),sl=Object(We.a)(so);function ll(){var e=sl(),t=r.a.createRef(),a=Object(n.useState)({_sort:"seller_name:asc"}),c=Object(ia.a)(a,2),i=c[0],o=c[1],s=Object(n.useState)(!1),l=Object(ia.a)(s,2),d=l[0],u=l[1],j=r.a.useState({show:!1,severity:"",message:""}),b=Object(ia.a)(j,2),p=b[0],h=b[1],m=[{title:"Seller Name",field:"seller_name"},{title:"GSTIN/UIN",field:"gst_no"},{title:"Phone",field:"phone"}],x=Object(ol.useHistory)(),O=function(){var e=Object(lr.a)(sr.a.mark((function e(t,a){var n;return sr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={page:t,pageSize:a},Object.keys(i).map((function(e){n.hasOwnProperty(e)||(n[e]=i[e])})),e.abrupt("return",new Promise((function(e,t){fetch(wr+"?"+new URLSearchParams(n),{method:"GET",headers:{"content-type":"application/json",Authorization:"Bearer "+Ke.getToken()}}).then((function(e){if(e.ok)return e.json();if(401!==e.status)throw new Error("Something went wrong");Ke.clearAppStorage(),window.location.href="".concat(hr,"/login")})).then((function(t){e({data:t.data,page:t.page-1,totalCount:t.totalCount})})).catch((function(e){throw e}))})));case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),f=function(){var e=Object(lr.a)(sr.a.mark((function e(t){return sr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),e.next=3,tc(wr+"/"+t.id,{},Ke.getToken()).then((function(e){u(!1),x.push(B,{data:e.data,edit:!0})})).catch((function(e){u(!1),h((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{show:!0,severity:"error",message:"Error viewing purchase"})}))}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(Be.jsxs)(Be.Fragment,{children:[Object(Be.jsx)(bi,{open:p.show,severity:p.severity,message:p.message,handleClose:function(){h((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{show:!1,severity:"",message:""})}))}}),Object(Be.jsx)(Ca,{children:Object(Be.jsx)(ya,{xs:12,sm:12,md:12,children:Object(Be.jsxs)(Vc,{children:[Object(Be.jsxs)(ii,{color:"primary",className:e.cardHeaderStyles,children:[Object(Be.jsx)(Fo.a,{fontSize:"large"}),Object(Be.jsx)("p",{className:e.cardCategoryWhite})]}),Object(Be.jsxs)(Jc,{children:[Object(Be.jsx)(Ca,{children:Object(Be.jsx)(ya,{xs:12,sm:12,md:12,children:Object(Be.jsx)(gi,{color:"primary",align:"end",size:"small",onClick:function(){x.push(H)},children:Object(Be.jsx)(Eo.a,{})})})}),Object(Be.jsxs)(Ca,{children:[Object(Be.jsx)(ya,{xs:12,sm:12,md:2,children:Object(Be.jsx)(Jn,{onChange:function(e){return function(e){On(e.target.value)?(delete i[e.target.name],o((function(e){return Object(Ze.a)({},e)}))):o((function(t){return Object(Ze.a)(Object(Ze.a)({},t),{},Object(ma.a)({},e.target.name,e.target.value))}))}(e)},labelText:"Seller Name",value:i.seller_name_contains||"",name:"seller_name_contains",id:"seller_name_contains",formControlProps:{fullWidth:!0}})}),Object(Be.jsxs)(ya,{xs:12,sm:12,md:4,style:{marginTop:"27px"},children:[Object(Be.jsx)(jc,{color:"primary",onClick:function(){t.current.onQueryChange()},children:"Search"}),Object(Be.jsx)(jc,{color:"primary",onClick:function(){delete i.seller_name_contains,o((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{_sort:"seller_name:asc"})})),t.current.onQueryChange()},children:"Cancel"})]})]}),Object(Be.jsx)($t,{tableRef:t,title:"Purchases",columns:m,data:function(){var e=Object(lr.a)(sr.a.mark((function e(t){return sr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O(t.page+1,t.pageSize);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),actions:[function(e){return{icon:function(){return Object(Be.jsx)(Cs.a,{fontSize:"small"})},tooltip:"Edit",onClick:function(e,t){f(t)}}}],options:{pageSize:10,actionsColumnIndex:-1,search:!1,sorting:!0,thirdSortClick:!1},onOrderChange:function(e,a){!function(e,a){var n,r;e>=0&&(n=m[e].field),r=n+":"+a,o((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{_sort:r})})),t.current.onQueryChange()}(e,a)}})]})]})})}),Object(Be.jsx)(io.a,{className:e.backdrop,open:d,children:Object(Be.jsx)(oo.a,{color:"inherit"})})]})}var dl=a(791),ul=Object(We.a)(so),jl=Object(We.a)(lc);function bl(e){var t=ul(),a=jl(),c=Object(s.useHistory)(),i=Object(n.useState)(null),o=Object(ia.a)(i,2),l=o[0],d=o[1],u=Object(n.useState)(e.isEdit?e.isEdit:null),j=Object(ia.a)(u,1)[0],b=Object(n.useState)(e.isView?e.isView:null),p=Object(ia.a)(b,1)[0],h=r.a.useState(null),m=Object(ia.a)(h,2),x=m[0],O=m[1],f=Object(n.useState)(e.id?e.id:null),v=Object(ia.a)(f,1)[0],y=r.a.useState([]),_=Object(ia.a)(y,2),w=_[0],C=_[1],S=r.a.useState({show:!1,severity:"",message:""}),k=Object(ia.a)(S,2),T=k[0],P=k[1],N=Object(n.useState)(!1),D=Object(ia.a)(N,2),I=D[0],M=D[1],R=Object(n.useState)({type_of_bill:"",cgst_percent:0,sgst_percent:0,igst_percent:0,total_amt_with_tax:0,total_amt_without_tax:0,notes:"",date:new Date,invoice_number:"",bill_no:"",seller:null,gst_no:""}),z=Object(ia.a)(R,2),A=z[0],F=z[1],W={id:null,raw_material:null,raw_material_obj:"",purchase_cost:0,purchase_quantity:0,purchase_unit:"",total_purchase_cost:0,are_raw_material_clubbed:!1,is_raw_material:!0,name:null,isNew:!0},E=r.a.useState({}),H=Object(ia.a)(E,2),B=H[0],q=H[1],L=Object(n.useState)([W]),Q=Object(ia.a)(L,2),Y=Q[0],U=Q[1],V=Object(n.useState)({key:null,status:!1}),$=Object(ia.a)(V,2),G=$[0],K=$[1];Object(n.useEffect)((function(){(j||p)&&Z()}),[]);var Z=function(){var e=Object(lr.a)(sr.a.mark((function e(){return sr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return M(!0),e.next=3,tc(Zr+"/"+v,{},Ke.getToken()).then((function(e){J(e.data),M(!1)})).catch((function(e){console.log("error ---\x3e ",e)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),J=function(e){var t,a,n,r,c,i=[];F((function(t){return Object(Ze.a)(Object(Ze.a)({},t),{},{id:e.purchase.id,seller:e.purchase.seller?e.purchase.seller.id:null,type_of_bill:e.purchase.type_of_bill,cgst_percent:Sn(e.purchase.cgst_percent),sgst_percent:Sn(e.purchase.sgst_percent),igst_percent:Sn(e.purchase.igst_percent),total_amt_with_tax:Sn(e.purchase.total_amt_with_tax),total_amt_without_tax:Sn(e.purchase.total_amt_without_tax),notes:e.purchase.notes,date:new Date(e.purchase.date),invoice_number:e.purchase.invoice_number,bill_no:e.purchase.bill_no})})),O({label:null===(t=e.purchase)||void 0===t||null===(a=t.seller)||void 0===a?void 0:a.seller_name,value:null===(n=e.purchase)||void 0===n||null===(r=n.seller)||void 0===r?void 0:r.id,allData:null===(c=e.purchase)||void 0===c?void 0:c.seller});var o=[];e.individualPurchase.forEach((function(e){var t={id:e.id,purchase_cost:e.purchase_cost,purchase_quantity:e.purchase_quantity,total_purchase_cost:e.total_purchase_cost,are_raw_material_clubbed:e.are_raw_material_clubbed,is_raw_material:e.is_raw_material,name:e.name,raw_material:null,purchase_unit:null,raw_material_obj:null};if(e.is_raw_material){var a,n="0";n=e.raw_material.balance?e.raw_material.balance:"0";var r=e.raw_material.category?e.raw_material.category.name:"",c=e.raw_material.color?e.raw_material.color.name:"",s={id:"#"+e.raw_material.id,name:e.raw_material.name,department:e.raw_material.department?e.raw_material.department.name:"---",category:On(r)?"---":r,color:On(c)?"---":c,size:On(e.raw_material.size)?"---":e.raw_material.size,bal:n};i.push(e.raw_material.id),t=Object(Ze.a)(Object(Ze.a)({},t),{},{raw_material:e.raw_material.id,purchase_unit:(null===(a=e.raw_material)||void 0===a?void 0:a.unit)?e.raw_material.unit.name:"unit",raw_material_obj:s})}o.push(t)})),C(i),U(o)},X=function(e){"type_of_bill"===e.target.name&&(C([]),q({}),O(null),F({cgst_percent:0,sgst_percent:0,igst_percent:0,total_amt_with_tax:0,total_amt_without_tax:0,notes:"",date:new Date,invoice_number:"",bill_no:"",seller:null}),U([W])),"cgst_percent"!==e.target.name&&"sgst_percent"!==e.target.name&&"igst_percent"!==e.target.name||ee(e.target.name,e.target.value),F((function(t){return Object(Ze.a)(Object(Ze.a)({},t),{},Object(ma.a)({},e.target.name,e.target.value))}))},ee=function(e,t){var a=0,n=0,r=0;"cgst_percent"===e||"sgst_percent"===e?("cgst_percent"===e&&(a=Sn(t),n=Sn(A.sgst_percent)),"sgst_percent"===e&&(n=Sn(t),a=Sn(A.cgst_percent))):r=Sn(t);var c=Sn(A.total_amt_without_tax),i=c+a/100*c+n/100*c+r/100*c;F((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{total_amt_with_tax:i,total_amt_without_tax:c})}))},te=function(e,t,a){var n=e.target.name,r={};if(r=Y[t],"purchase_cost"===n||"purchase_quantity"===n){var c=Sn(e.target.value);if(r[n]=e.target.value,c>0){delete B[n+t],q((function(e){return Object(Ze.a)({},e)}));var i=function(e,t,a,n,r){var c,i=0,o=0;t=Sn(t),"purchase_cost"===e?o=Sn(a.purchase_quantity):"purchase_quantity"===e&&(o=Sn(a.purchase_cost)),c=o*t,n.map((function(e,t){return t!==r&&(i+=Sn(e.total_purchase_cost)),null})),i+=c;var s=Sn(A.cgst_percent),l=Sn(A.sgst_percent),d=Sn(A.igst_percent);return{totalCostPerRawMaterial:c,totalCostWithTax:i+s/100*i+l/100*i+d/100*i,totalCostWithOutTax:i}}(n,c,r,Y,t),o=i.totalCostPerRawMaterial,s=i.totalCostWithTax,l=i.totalCostWithOutTax;F((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{total_amt_with_tax:s,total_amt_without_tax:l})})),r=Object(Ze.a)(Object(Ze.a)({},r),{},{total_purchase_cost:o})}else q((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},Object(ma.a)({},n+t,["".concat(a," cannot be negative or zero")]))}))}else"is_raw_material_or_clubbed"===n?(delete B["raw_material"+t],delete B["name"+t],q((function(e){return Object(Ze.a)({},e)})),r=Object(Ze.a)({},W),r=e.target.checked?Object(Ze.a)(Object(Ze.a)({},r),{},{is_raw_material:!0,are_raw_material_clubbed:!1}):Object(Ze.a)(Object(Ze.a)({},r),{},{is_raw_material:!1,are_raw_material_clubbed:!0})):"name"===n&&(delete B[n+t],q((function(e){return Object(Ze.a)({},e)})),r[n]=e.target.value);U([].concat(Object(Ta.a)(Y.slice(0,t)),[r],Object(Ta.a)(Y.slice(t+1))))},ae=function(e){return Y.forEach((function(t,a){var n=Sn(t.purchase_cost),r=Sn(t.purchase_quantity);n<=0?e=Object(Ze.a)(Object(Ze.a)({},e),{},Object(ma.a)({},"purchase_cost"+a,["Purchase Cost cannot be negative or zero"])):delete e["purchase_cost"+a],r<=0?e=Object(Ze.a)(Object(Ze.a)({},e),{},Object(ma.a)({},"purchase_quantity"+a,["Purchase Qty cannot be negative or zero"])):delete e["purchase_quantity"+a],t.is_raw_material&&!t.raw_material?e=Object(Ze.a)(Object(Ze.a)({},e),{},Object(ma.a)({},"raw_material"+a,["Please select a raw material"])):delete e["raw_material"+a],t.are_raw_material_clubbed&&On(t.name)?e=Object(Ze.a)(Object(Ze.a)({},e),{},Object(ma.a)({},"name"+a,["Name cannot be empty"])):delete e["name"+a]})),e},ne=function(){var e,t,n,r,c=fa()((e={},Object(ma.a)(e,a.button,!0),Object(ma.a)(e,a.success,!0),e)),i=fa()((t={},Object(ma.a)(t,a.button,!0),Object(ma.a)(t,a.danger,!0),t)),o="";j?o="Are you sure you want to edit the payment made to ".concat(null===x||void 0===x||null===(n=x.allData)||void 0===n?void 0:n.seller_name," of ").concat(yn(A.total_amt_with_tax,!0),"?"):o="Are you sure you want to make a payment of ".concat(yn(A.total_amt_with_tax,!0)," towards seller ").concat(null===x||void 0===x||null===(r=x.allData)||void 0===r?void 0:r.seller_name," ?");d(Object(Be.jsx)(as.a,{warning:!0,showCancel:!0,confirmBtnText:"Yes",confirmBtnCssClass:c,confirmBtnBsStyle:"outline-{variant}",title:"Heads up?",onConfirm:ie,onCancel:ce,cancelBtnCssClass:i,focusCancelBtn:!0,children:o}))},re=function(){var e=Object(lr.a)(sr.a.mark((function e(){var t;return sr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={purchases:A,individual_purchase:Y},M(!0),e.next=4,ac(Zr,t,Ke.getToken()).then((function(e){c.push(g),M(!1)})).catch((function(e){M(!1),P((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{show:!0,severity:"error",message:B})}))}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ce=function(){d(null)},ie=function(){d(null),re()},oe=function(){K({key:null,status:!1})};return Object(Be.jsxs)(Ca,{children:[Object(Be.jsx)(ya,{xs:12,sm:12,md:12,children:Object(Be.jsx)(gi,{align:"start",size:"small",onClick:function(){c.push(g)},children:Object(Be.jsx)(Zo.a,{})})}),l,Object(Be.jsx)(bi,{open:T.show,severity:T.severity,message:T.message,handleClose:function(){P((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{show:!1,severity:"",message:""})}))}}),Object(Be.jsx)(uo,{handleCancel:oe,handleClose:oe,handleAccept:function(){K({key:null,status:!1})},handleAddRawMaterial:function(e,t,a,n,r){var c,i=Y[a],o=Object(Ta.a)(w);if(delete B["raw_material"+a],delete B["purchase_cost"+a],delete B["purchase_quantity"+a],q((function(e){return Object(Ze.a)({},e)})),i.raw_material){var s=o.indexOf(i.raw_material);s>-1&&o.splice(s,1),o.push(t.id)}else o.push(t.id);C(o),i=Object(Ze.a)(Object(Ze.a)({},i),{},(c={},Object(ma.a)(c,e,t.id),Object(ma.a)(c,"isNew",!0),Object(ma.a)(c,"raw_material_obj",n),Object(ma.a)(c,"purchase_cost",Sn(t.costing)),Object(ma.a)(c,"purchase_quantity",Sn(r)),Object(ma.a)(c,"total_purchase_cost",Sn(r)*Sn(t.costing)),Object(ma.a)(c,"is_raw_material",!0),Object(ma.a)(c,"are_raw_material_clubbed",!1),c)),"raw_material"===e&&(i=Object(Ze.a)(Object(Ze.a)({},i),{},{purchase_unit:t.unit?t.unit.name:"unit"}));var l=Sn(A.total_amt_with_tax),d=Sn(A.total_amt_without_tax);l+=i.total_purchase_cost,d+=i.total_purchase_cost,F((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{total_amt_with_tax:l,total_amt_without_tax:d})})),U([].concat(Object(Ta.a)(Y.slice(0,a)),[i],Object(Ta.a)(Y.slice(a+1)))),oe()},isHandleKey:!0,gridKey:G.key,open:G.status,isAcceptQuantity:!0,rawMaterialIds:w}),Object(Be.jsxs)(ya,{xs:12,sm:12,md:12,children:[Object(Be.jsxs)(Vc,{children:[Object(Be.jsxs)(ii,{color:"primary",className:t.cardHeaderStyles,children:[Object(Be.jsx)("h4",{className:t.cardTitleWhite,children:e.header}),Object(Be.jsx)("p",{className:t.cardCategoryWhite})]}),Object(Be.jsxs)(Jc,{children:[Object(Be.jsxs)(Ca,{children:[Object(Be.jsx)(ya,{xs:12,sm:12,md:2,children:Object(Be.jsx)(Pi,{id:"type_of_bill",disabled:p||j,onChange:function(e){return X(e)},labelText:"Type of Purchase",name:"type_of_bill",value:A.type_of_bill,nameValue:[{name:"Pakka",value:"Pakka"},{name:"Kachha",value:"Kachha"}],formControlProps:{fullWidth:!0}})}),A.type_of_bill?Object(Be.jsxs)(Be.Fragment,{children:[Object(Be.jsx)(ya,{xs:12,sm:12,md:2,children:Object(Be.jsx)(Hi,{onChange:function(e){return function(e){var t=Na()(e).format("YYYY-MM-DDT00:00:00.000Z");t="Invalid date"===t?null:new Date(t).toISOString(),F((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{date:t})}))}(e)},label:"Purchase Date",name:"date",disabled:p,value:A.date||new Date,id:"date",minDate:kn(A.date)?Tn():null,formControlProps:{fullWidth:!0},style:{marginTop:"1.5rem",width:"100%"}})}),"Pakka"===A.type_of_bill?Object(Be.jsx)(ya,{xs:12,sm:12,md:3,children:Object(Be.jsx)(Jn,{labelText:"Invoice Number",name:"invoice_number",disabled:p,onChange:function(e){return function(e){delete B.invoice_number,q((function(e){return Object(Ze.a)({},e)})),F((function(t){return Object(Ze.a)(Object(Ze.a)({},t),{},Object(ma.a)({},e.target.name,e.target.value))}));var t={invoice_number:e.target.value.trim()};j&&(t=Object(Ze.a)(Object(Ze.a)({},t),{},{id_nin:[v]})),tc(Zr,t,Ke.getToken()).then((function(e){var t;(null===(t=e.data)||void 0===t?void 0:t.totalCount)&&q((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{invoice_number:["Invoice number already taken"]})}))}))}(e)},value:A.invoice_number,id:"invoice_number",formControlProps:{fullWidth:!0},helperTextId:"helperText_invoice_number",isHelperText:zn("invoice_number",B),helperText:zn("invoice_number",B)?B.invoice_number.map((function(e){return e+" "})):null,error:zn("invoice_number",B)})}):Object(Be.jsx)(ya,{xs:12,sm:12,md:3,children:Object(Be.jsx)(Jn,{labelText:"Bill Number",name:"bill_no",disabled:p,onChange:function(e){return function(e){delete B.bill_no,q((function(e){return Object(Ze.a)({},e)})),F((function(t){return Object(Ze.a)(Object(Ze.a)({},t),{},Object(ma.a)({},e.target.name,e.target.value))}));var t={bill_no:e.target.value.trim()};j&&(t=Object(Ze.a)(Object(Ze.a)({},t),{},{id_nin:[v]})),tc(Zr,t,Ke.getToken()).then((function(e){var t;(null===(t=e.data)||void 0===t?void 0:t.totalCount)&&q((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{bill_no:["Bill number already taken"]})}))}))}(e)},value:A.bill_no,id:"bill_no",formControlProps:{fullWidth:!0},helperTextId:"helperText_bill_no",isHelperText:zn("bill_no",B),helperText:zn("bill_no",B)?B.bill_no.map((function(e){return e+" "})):null,error:zn("bill_no",B)})}),!p&&Object(Be.jsx)(ya,{xs:12,sm:12,md:4,style:{marginTop:"2.2rem"},children:Object(Be.jsx)(oc,{setSelectedData:function(e){delete B.seller,q((function(e){return Object(Ze.a)({},e)})),e&&e.value?(F((function(t){return Object(Ze.a)(Object(Ze.a)({},t),{},{seller:e.value})})),O(e)):(F((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{seller:null})})),O(null))},searchString:"seller_name",apiName:wr,placeholder:"Select Seller...",selectedValue:x,isError:B.seller,errorText:"Please select a seller"})})]}):null]}),A.type_of_bill&&x&&x.value&&x.allData&&Object(Be.jsx)(Ca,{children:Object(Be.jsx)(ya,{xs:12,sm:12,md:6,style:{marginTop:"1.5rem"},children:Object(Be.jsx)(Po,{seller:x.allData})})}),"Pakka"===A.type_of_bill?Object(Be.jsxs)(Ca,{children:[" ",Object(Be.jsx)(ya,{xs:12,sm:12,md:1,children:Object(Be.jsx)(Jn,{onChange:function(e){return X(e)},labelText:"CGST(%)",name:"cgst_percent",type:"number",disabled:p||Sn(A.igst_percent),value:A.cgst_percent,id:"cgst_percent",formControlProps:{fullWidth:!0}})}),Object(Be.jsx)(ya,{xs:12,sm:12,md:1,children:Object(Be.jsx)(Jn,{onChange:function(e){return X(e)},labelText:"SGST(%)",name:"sgst_percent",disabled:p||Sn(A.igst_percent),type:"number",value:A.sgst_percent,id:"sgst_percent",formControlProps:{fullWidth:!0}})})," ",Object(Be.jsx)(ya,{xs:12,sm:12,md:1,children:Object(Be.jsx)(Jn,{onChange:function(e){return X(e)},labelText:"IGST(%)",name:"igst_percent",disabled:p||Sn(A.sgst_percent)||Sn(A.cgst_percent),type:"number",value:A.igst_percent,id:"igst_percent",formControlProps:{fullWidth:!0}})})," "]}):null,Object(Be.jsx)(Ca,{children:A.type_of_bill&&""!==A.type_of_bill?Object(Be.jsx)(Be.Fragment,{children:"Pakka"===A.type_of_bill?Object(Be.jsxs)(Be.Fragment,{children:[Object(Be.jsx)(ya,{xs:12,sm:12,md:4,style:{marginTop:"3rem"},children:Object(Be.jsx)("b",{children:"Total amount(without tax):- ".concat(yn(A.total_amt_without_tax,!0))})}),Object(Be.jsx)(ya,{xs:12,sm:12,md:4,style:{marginTop:"3rem"},children:Object(Be.jsx)("b",{children:"Total amount(with tax):- ".concat(yn(A.total_amt_with_tax,!0))})})]}):Object(Be.jsx)(ya,{xs:12,sm:12,md:4,style:{marginTop:"3rem"},children:Object(Be.jsx)("b",{children:"Total amount:- ".concat(yn(A.total_amt_with_tax,!0))})})}):null}),A.type_of_bill?Object(Be.jsx)(Be.Fragment,{children:Object(Be.jsx)(Ca,{children:Object(Be.jsx)(ya,{xs:12,sm:12,md:12,children:Object(Be.jsx)(Jn,{labelText:"Notes",id:"notes",name:"notes",onChange:function(e){return X(e)},value:A.notes,formControlProps:{fullWidth:!0},inputProps:{multiline:!0,rows:3}})})})}):null,A.type_of_bill&&Object(Be.jsxs)(Gt,{sx:{minWidth:650},"aria-label":"simple table",children:[Object(Be.jsx)(Kt,{children:Object(Be.jsxs)(Zt,{children:[Object(Be.jsx)(Jt,{sx:{width:"100px"},children:"Is Raw Material?"}),Object(Be.jsx)(Jt,{sx:{width:"400px"},children:"Name/Select Raw Material"}),Object(Be.jsx)(Jt,{children:"Purchase Cost"}),Object(Be.jsx)(Jt,{children:"Purchase Qty"}),Object(Be.jsx)(Jt,{children:"Total"}),p?null:Object(Be.jsx)(Jt,{children:"Remove"}),!p&&Object(Be.jsx)(Jt,{children:"Add"})]})}),Object(Be.jsx)(Xt,{children:Y.length?Object(Be.jsxs)(Be.Fragment,{children:[Y.map((function(e,a){return Object(Be.jsx)(Be.Fragment,{children:Object(Be.jsxs)(Zt,{children:[Object(Be.jsx)(Jt,{children:Object(Be.jsx)("div",{className:t.block,children:Object(Be.jsx)(Qi.a,{control:Object(Be.jsx)(dl.a,{disabled:p||j&&!e.isNew||"Kachha"===A.type_of_bill,checked:!!e.is_raw_material,name:"is_raw_material_or_clubbed",onChange:function(e){return te(e,a)},classes:{switchBase:t.switchBase,checked:t.switchChecked,thumb:t.switchIcon,track:t.switchBar}}),classes:{label:t.label},label:""})})}),Object(Be.jsx)(Jt,{children:e.is_raw_material?Object(Be.jsxs)(Ca,{style:{dispay:"flex"},children:[Object(Be.jsxs)(ya,{xs:12,sm:12,md:12,children:[Object(Be.jsx)("b",{children:"Name : "})," ",e.raw_material_obj.name]}),Object(Be.jsxs)(ya,{xs:12,sm:12,md:12,children:[Object(Be.jsx)("b",{children:"Department : "}),e.raw_material_obj.department]}),Object(Be.jsxs)(ya,{xs:12,sm:12,md:12,children:[Object(Be.jsx)("b",{children:"Category : "}),e.raw_material_obj.category]}),Object(Be.jsxs)(ya,{xs:12,sm:12,md:12,children:[Object(Be.jsx)("b",{children:"Color :"})," ",e.raw_material_obj.color]}),Object(Be.jsxs)(ya,{xs:12,sm:12,md:12,children:[Object(Be.jsx)("b",{children:"Size : "}),e.raw_material_obj.size]}),Object(Be.jsxs)(ya,{xs:12,sm:12,md:12,children:[Object(Be.jsx)("b",{children:"Balance : "}),e.raw_material_obj.bal]}),Object(Be.jsxs)(ya,{xs:12,sm:12,md:12,children:[Object(Be.jsx)(jc,{color:"primary",disabled:p||j&&e.raw_material&&!e.isNew||e.are_raw_material_clubbed,onClick:function(){!function(e){K({key:e,status:!0})}(a)},children:e.raw_material?"Change Raw Material":" Select Raw Material"}),zn("raw_material"+a,B)?Object(Be.jsx)(Gn.a,{id:"raw_material"+a,error:zn("raw_material"+a,B),children:zn("raw_material"+a,B)?B["raw_material"+a].map((function(e){return e+" "})):null}):null]})]}):Object(Be.jsx)(Jn,{onChange:function(e){return te(e,a,"Name")},labelText:"Name",name:"name",disabled:p,value:e.name,id:"name"+a,formControlProps:{fullWidth:!0},helperTextId:"helperText_name"+a,isHelperText:zn("name"+a,B),helperText:zn("name"+a,B)?B["name"+a].map((function(e){return e+" "})):null,error:zn("name"+a,B)})}),Object(Be.jsx)(Jt,{children:Object(Be.jsx)(Jn,{onChange:function(e){return te(e,a,"Purchase Cost")},type:"number",disabled:p||e.is_raw_material&&!e.raw_material,labelText:"Purchase Cost",name:"purchase_cost",value:e.purchase_cost,id:"purchase_cost",formControlProps:{fullWidth:!0},inputProps:{endAdornment:Object(Be.jsx)(es.a,{position:"end",children:On(e.purchase_unit)?"":"/"+e.purchase_unit})},helperTextId:"helperText_purchase_cost"+a,isHelperText:zn("purchase_cost"+a,B),helperText:zn("purchase_cost"+a,B)?B["purchase_cost"+a].map((function(e){return e+" "})):null,error:zn("purchase_cost"+a,B)})}),Object(Be.jsx)(Jt,{children:Object(Be.jsx)(Jn,{onChange:function(e){return te(e,a,"Purchase Quantity")},type:"number",disabled:p||e.is_raw_material&&!e.raw_material,labelText:"Purchase Qty",name:"purchase_quantity",value:e.purchase_quantity,id:"purchase_quantity",formControlProps:{fullWidth:!0},inputProps:{endAdornment:Object(Be.jsx)(es.a,{position:"end",children:On(e.purchase_unit)?"":"/"+e.purchase_unit})},helperTextId:"helperText_purchase_quantity"+a,isHelperText:zn("purchase_quantity"+a,B),helperText:zn("purchase_quantity"+a,B)?B["purchase_quantity"+a].map((function(e){return e+" "})):null,error:zn("purchase_quantity"+a,B)})}),Object(Be.jsx)(Jt,{sx:{minWidth:"fit-content"},children:Object(Be.jsx)("b",{children:yn(e.total_purchase_cost,!0)})}),!p&&Object(Be.jsx)(Jt,{children:Object(Be.jsx)(gi,{disabled:j&&!e.isNew,color:"danger",align:"end",size:"small",onClick:function(){!function(e){var t=Y[e],a=A.total_amt_without_tax;a-=t.total_purchase_cost;var n=Sn(A.cgst_percent),r=Sn(A.sgst_percent),c=a+n/100*a+r/100*a;F((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{total_amt_with_tax:c,total_amt_without_tax:a})})),delete B["raw_material"+e],delete B["purchase_cost"+e],delete B["purchase_quantity"+e],delete B["name"+e],q((function(e){return Object(Ze.a)({},e)})),1===Y.length?U([W]):U([].concat(Object(Ta.a)(Y.slice(0,e)),Object(Ta.a)(Y.slice(e+1))))}(a)},children:Object(Be.jsx)(Xo.a,{})})}),!p&&Object(Be.jsx)(Jt,{children:p||Y.length-1!==a?null:Object(Be.jsx)(gi,{disabled:p||e.is_raw_material&&!e.raw_material,color:"success",align:"end",size:"small",onClick:function(){U([].concat(Object(Ta.a)(Y),[W]))},children:Object(Be.jsx)(Eo.a,{})})})]})})})),Object(Be.jsxs)(Zt,{children:[Object(Be.jsx)(Jt,{colSpan:4,sx:{textAlign:"right"},children:Object(Be.jsx)("b",{children:"Total"})}),Object(Be.jsxs)(Jt,{children:[" ",Object(Be.jsx)("b",{children:yn(A.total_amt_without_tax,!0)})]}),!p&&Object(Be.jsx)(Jt,{colSpan:2})]})]}):Object(Be.jsx)(Zt,{children:Object(Be.jsx)(Jt,{colSpan:7,sx:{textAlign:"center",backgroundColor:"#dfdfdf !important"},children:Object(Be.jsx)("b",{children:"No Data"})})})})]})]}),p||On(A.type_of_bill)?null:Object(Be.jsx)(ai,{children:Object(Be.jsx)(jc,{color:"primary",onClick:function(e){return function(e){e.preventDefault(),M(!0);var t=!1,a=Object(Ze.a)({},B);A.seller||(t=!1,a=Object(Ze.a)(Object(Ze.a)({},a),{},{seller:["Seller is required"]})),"Kachha"===A.type_of_bill&&On(A.bill_no)&&(t=!1,a=Object(Ze.a)(Object(Ze.a)({},a),{},{bill_no:["Bill number is required"]})),"Pakka"===A.type_of_bill&&On(A.invoice_number)&&(t=!1,a=Object(Ze.a)(Object(Ze.a)({},a),{},{invoice_number:["Invoice number is required"]})),a=ae(a),Mn(a)?(M(!1),q({}),t=!0):(M(!1),q(a)),t&&ne()}(e)},children:"Save"})})]}),Object(Be.jsx)(io.a,{className:t.backdrop,open:I,children:Object(Be.jsx)(oo.a,{color:"inherit"})})]})]})}var pl=a(543),hl=Object(We.a)(so);function ml(e){var t=hl(),a=Object(s.useHistory)(),c=Object(n.useState)(!1),i=Object(ia.a)(c,2),o=i[0],l=i[1],d=r.a.useState({}),u=Object(ia.a)(d,2),j=u[0],b=u[1],p=Object(n.useState)(!!e.location.state&&e.location.state.edit),h=Object(ia.a)(p,1)[0],m=r.a.useState({show:!1,severity:"",message:""}),x=Object(ia.a)(m,2),O=x[0],f=x[1],g=Object(n.useState)({id:null,seller_name:"",seller_email:"",phone:"",seller_address:"",gst_no:"",extra_details:""}),v=Object(ia.a)(g,2),y=v[0],_=v[1];Object(n.useEffect)((function(){e.location.state&&e.location.state.edit&&e.location.state.data&&w(e.location.state.data)}),[]);var w=function(e){_((function(t){return Object(Ze.a)(Object(Ze.a)({},t),{},{id:e.id,seller_name:e.seller_name,seller_email:e.seller_email,phone:e.phone,seller_address:e.seller_address,gst_no:e.gst_no,extra_details:e.extra_details})}))},C=function(e){_((function(t){return Object(Ze.a)(Object(Ze.a)({},t),{},Object(ma.a)({},e.target.name,e.target.value))})),j.hasOwnProperty(e.target.name)&&(delete j[e.target.name],b((function(e){return Object(Ze.a)({},e)})))},S=function(){var e=Object(lr.a)(sr.a.mark((function e(t){var a,n;return sr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),l(!0),a=!1,n={},n=Rn(y,pl),!Mn(n)){e.next=12;break}return e.next=8,k();case 8:(n=e.sent)&&Mn(n)?a=!0:(l(!1),b(n||{})),e.next=14;break;case 12:l(!1),b(n);case 14:a&&T();case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=Object(lr.a)(sr.a.mark((function e(){var t;return sr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="",e.next=3,tc(Sr,{isEdit:h,editId:y.id,seller_name:y.seller_name,gst_no:y.gst_no},Ke.getToken()).then((function(e){t=e.data})).catch((function(e){f((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{show:!0,severity:"error",message:"Error adding data"})})),l(!1),t=null}));case 3:return e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=Object(lr.a)(sr.a.mark((function e(){var t;return sr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t={seller_name:y.seller_name,seller_email:y.seller_email,phone:y.phone,seller_address:y.seller_address,gst_no:y.gst_no,extra_details:y.extra_details},!h){e.next=6;break}return e.next=4,rc(wr,y.id,t,Ke.getToken()).then((function(e){a.push(E),l(!1)})).catch((function(e){f((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{show:!0,severity:"error",message:"Error saving data"})})),l(!1)}));case 4:e.next=8;break;case 6:return e.next=8,ac(wr,t,Ke.getToken()).then((function(e){a.push(E),l(!1)})).catch((function(e){f((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{show:!0,severity:"error",message:"Error saving data"})})),l(!1)}));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(Be.jsxs)(Ca,{children:[Object(Be.jsx)(ya,{xs:12,sm:12,md:12,children:Object(Be.jsx)(gi,{align:"start",size:"small",onClick:function(){a.push(E)},children:Object(Be.jsx)(Zo.a,{})})}),Object(Be.jsx)(bi,{open:O.show,severity:O.severity,message:O.message,handleClose:function(){f((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{show:!1,severity:"",message:""})}))}}),Object(Be.jsx)(ya,{xs:12,sm:12,md:8,children:Object(Be.jsxs)(Vc,{children:[Object(Be.jsxs)(ii,{color:"primary",className:t.cardHeaderStyles,children:[Object(Be.jsx)("h4",{className:t.cardTitleWhite,children:h?"Edit Seller":"Add New Seller"}),Object(Be.jsx)("p",{className:t.cardCategoryWhite})]}),Object(Be.jsxs)(Jc,{children:[Object(Be.jsxs)(Ca,{children:[Object(Be.jsx)(ya,{xs:12,sm:12,md:6,children:Object(Be.jsx)(Jn,{labelText:"Seller Name",id:"seller_name",name:"seller_name",value:y.seller_name,onChange:function(e){return C(e)},formControlProps:{fullWidth:!0},helperTextId:"helperText_seller_name",isHelperText:zn("seller_name",j),helperText:zn("seller_name",j)?j.seller_name.map((function(e){return e+" "})):null,error:zn("seller_name",j)})}),Object(Be.jsx)(ya,{xs:12,sm:12,md:6,children:Object(Be.jsx)(Jn,{labelText:"GSTIN/UIN",id:"gst_no",name:"gst_no",value:y.gst_no,onChange:function(e){return C(e)},formControlProps:{fullWidth:!0},helperTextId:"helperText_gst_no",isHelperText:zn("gst_no",j),helperText:zn("gst_no",j)?j.gst_no.map((function(e){return e+" "})):null,error:zn("gst_no",j)})})]}),Object(Be.jsxs)(Ca,{children:[Object(Be.jsx)(ya,{xs:12,sm:12,md:6,children:Object(Be.jsx)(Jn,{labelText:"Email",id:"seller_email",name:"seller_email",value:y.seller_email,onChange:function(e){return C(e)},formControlProps:{fullWidth:!0}})}),Object(Be.jsx)(ya,{xs:12,sm:12,md:6,children:Object(Be.jsx)(Jn,{labelText:"Phone",id:"phone",name:"phone",value:y.phone,onChange:function(e){return C(e)},formControlProps:{fullWidth:!0}})})]}),Object(Be.jsx)(Ca,{children:Object(Be.jsx)(ya,{xs:12,sm:12,md:12,children:Object(Be.jsx)(Jn,{labelText:"Seller Address",id:"seller_address",name:"seller_address",value:y.seller_address,onChange:function(e){return C(e)},formControlProps:{fullWidth:!0},inputProps:{multiline:!0,rows:5}})})}),Object(Be.jsx)(Ca,{children:Object(Be.jsx)(ya,{xs:12,sm:12,md:12,children:Object(Be.jsx)(Jn,{labelText:"Extra Info",id:"extra_details",name:"extra_details",value:y.extra_details,onChange:function(e){return C(e)},formControlProps:{fullWidth:!0},inputProps:{multiline:!0,rows:5}})})})]}),Object(Be.jsx)(ai,{children:Object(Be.jsx)(jc,{color:"primary",onClick:function(e){return S(e)},children:"Save"})})]})}),Object(Be.jsx)(io.a,{className:t.backdrop,open:o,children:Object(Be.jsx)(oo.a,{color:"inherit"})})]})}var xl=Object(We.a)(so);function Ol(){var e=xl(),t=Object(s.useHistory)(),a=Object(n.useState)(!1),c=Object(ia.a)(a,2),i=c[0],o=(c[1],r.a.useState(null)),l=Object(ia.a)(o,2),d=l[0],u=l[1],j=r.a.useState(null),b=Object(ia.a)(j,2),p=b[0],h=b[1],m=r.a.createRef(),x=Object(n.useState)({_sort:"date:desc"}),O=Object(ia.a)(x,2),f=O[0],g=O[1],v=r.a.useState({show:!1,severity:"",message:""}),y=Object(ia.a)(v,2),_=y[0],w=y[1],C=[{title:"Raw Material",field:"raw_material",render:function(e){return e.raw_material?e.raw_material.name:""}},{title:"Sold To",field:"seller",render:function(e){return e.seller?e.seller.seller_name:""}},{title:"Quantity Sold",field:"quantity",render:function(e){return On(e.quantity)?"0":e.quantity}},{title:"Selling Price",field:"total_price",render:function(e){return yn(e.total_price,!0)}},{title:"Selling Date",field:"date",render:function(e){return fn(new Date(e.date))}}],S=function(){var e=Object(lr.a)(sr.a.mark((function e(t,a){var n;return sr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={page:t,pageSize:a},Object.keys(f).map((function(e){n.hasOwnProperty(e)||(n[e]=f[e])})),e.abrupt("return",new Promise((function(e,t){fetch(Mr+"?"+new URLSearchParams(n),{method:"GET",headers:{"content-type":"application/json",Authorization:"Bearer "+Ke.getToken()}}).then((function(e){if(e.ok)return e.json();if(401!==e.status)throw new Error("Something went wrong");Ke.clearAppStorage(),window.location.href="".concat(hr,"/login")})).then((function(t){e({data:t.data,page:t.page-1,totalCount:t.totalCount})})).catch((function(e){throw e}))})));case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();return Object(Be.jsxs)(Be.Fragment,{children:[Object(Be.jsx)(bi,{open:_.show,severity:_.severity,message:_.message,handleClose:function(){w((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{show:!1,severity:"",message:""})}))}}),Object(Be.jsx)(Ca,{children:Object(Be.jsx)(ya,{xs:12,sm:12,md:12,children:Object(Be.jsxs)(Vc,{children:[Object(Be.jsxs)(ii,{color:"primary",className:e.cardHeaderStyles,children:[Object(Be.jsx)(Fo.a,{fontSize:"large"}),Object(Be.jsx)("p",{className:e.cardCategoryWhite})]}),Object(Be.jsxs)(Jc,{children:[Object(Be.jsx)(Ca,{children:Object(Be.jsx)(ya,{xs:12,sm:12,md:12,children:Object(Be.jsx)(gi,{color:"primary",align:"end",size:"small",onClick:function(){t.push(M)},children:Object(Be.jsx)(Eo.a,{})})})}),Object(Be.jsxs)(Ca,{children:[Object(Be.jsx)(ya,{xs:12,sm:12,md:3,style:{marginTop:"2.2rem"},children:Object(Be.jsx)(oc,{setSelectedData:function(e){e&&e.value?(g((function(t){return Object(Ze.a)(Object(Ze.a)({},t),{},{raw_material:e.value})})),h(e)):(delete f.raw_material,g((function(e){return Object(Ze.a)({},e)})),h(null))},searchString:"name",apiName:Pr,placeholder:"Select Raw Material",selectedValue:p,isRawMaterial:!0})}),Object(Be.jsx)(ya,{xs:12,sm:12,md:2,style:{marginTop:"2.2rem"},children:Object(Be.jsx)(oc,{setSelectedData:function(e){e&&e.value?(g((function(t){return Object(Ze.a)(Object(Ze.a)({},t),{},{seller:e.value})})),u(e)):(delete f.seller,g((function(e){return Object(Ze.a)({},e)})),u(null))},searchString:"seller_name",apiName:wr,placeholder:"Select Seller",selectedValue:d})}),Object(Be.jsx)(ya,{xs:12,sm:12,md:2,children:Object(Be.jsx)(Hi,{onChange:function(e){return function(e){var t=Na()(e).format("YYYY-MM-DDT00:00:00.000Z");t="Invalid date"===t?null:new Date(t).toISOString(),g((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{date_gte:t})}))}(e)},label:"Sell Date From",name:"date_gte",value:f.date_gte||null,id:"date_gte",formControlProps:{fullWidth:!0},style:{marginTop:"1.5rem",width:"100%"}})}),Object(Be.jsx)(ya,{xs:12,sm:12,md:2,children:Object(Be.jsx)(Hi,{onChange:function(e){return function(e){var t=Na()(e).endOf("day").format("YYYY-MM-DDT23:59:59.999Z");t="Invalid date"===t?null:new Date(t).toISOString(),g((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{date_lte:t})}))}(e)},label:"Sell Date To",name:"date_lte",value:f.date_lte||null,id:"date_lte",formControlProps:{fullWidth:!0},style:{marginTop:"1.5rem",width:"100%"}})}),Object(Be.jsxs)(ya,{xs:12,sm:12,md:3,style:{marginTop:"27px"},children:[Object(Be.jsx)(jc,{color:"primary",onClick:function(){m.current.onQueryChange()},children:"Search"}),Object(Be.jsx)(jc,{color:"primary",onClick:function(){g({_sort:"date:desc"}),u(null),h(null),m.current.onQueryChange()},children:"Cancel"})]})]}),Object(Be.jsx)("br",{}),Object(Be.jsx)($t,{tableRef:m,title:"Goods Return",columns:C,data:function(){var e=Object(lr.a)(sr.a.mark((function e(t){return sr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S(t.page+1,t.pageSize);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),actions:[function(e){return{icon:function(){return Object(Be.jsx)(Mo.a,{fontSize:"small"})},tooltip:"Edit",onClick:function(e,a){t.push(z+"/"+a.id)}}},function(e){return{icon:function(){return Object(Be.jsx)(zo.a,{fontSize:"small",color:"primary"})},tooltip:"View",onClick:function(e,a){t.push(R+"/"+a.id)}}}],localization:{body:{editRow:{deleteText:"Are you sure you want to delete this goods return info ?",saveTooltip:"Delete"}}},icons:{Delete:function(){return Object(Be.jsx)(Lo.a,{style:{color:"red"}})}},editable:{onRowDelete:function(e){return new Promise((function(t){setTimeout(Object(lr.a)(sr.a.mark((function a(){return sr.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,cc(Mr,e.id,Ke.getToken()).then(function(){var e=Object(lr.a)(sr.a.mark((function e(t){return sr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:w((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{show:!0,severity:"success",message:"Successfully deleted goods return info"})}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){w((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{show:!0,severity:"error",message:"Error deleting goods return info"})}))}));case 2:t();case 3:case"end":return a.stop()}}),a)}))),1e3)}))}},options:{pageSize:10,actionsColumnIndex:-1,search:!1,sorting:!0,thirdSortClick:!1},onOrderChange:function(e,t){!function(e,t){var a,n;e>=0&&(a=C[e].field),n=a+":"+t,g((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{_sort:n})})),m.current.onQueryChange()}(e,t)}})]})]})})}),Object(Be.jsx)(io.a,{className:e.backdrop,open:i,children:Object(Be.jsx)(oo.a,{color:"inherit"})})]})}var fl=a(544),gl=Object(We.a)(lc),vl=Object(We.a)(so);function yl(e){var t=vl(),a=gl(),c=Object(s.useHistory)(),i=r.a.useState({}),o=Object(ia.a)(i,2),l=o[0],d=o[1],u=Object(n.useState)(null),j=Object(ia.a)(u,2),b=j[0],p=j[1],h=Object(n.useState)(e.isEdit?e.isEdit:null),m=Object(ia.a)(h,1)[0],x=Object(n.useState)(e.isView?e.isView:null),O=Object(ia.a)(x,1)[0],f=Object(n.useState)(e.id?e.id:null),g=Object(ia.a)(f,1)[0],v=r.a.useState({show:!1,severity:"",message:""}),y=Object(ia.a)(v,2),_=y[0],w=y[1],C=Object(n.useState)(!1),S=Object(ia.a)(C,2),k=S[0],T=S[1],P=Object(n.useState)({seller:null,quantity:"",notes:"",date:new Date,raw_material:null,total_price:0,kachha_ledger:!0,pakka_ledger:!1}),N=Object(ia.a)(P,2),D=N[0],I=N[1],M=Object(n.useState)({}),R=Object(ia.a)(M,2),z=R[0],F=R[1],W=Object(n.useState)({}),E=Object(ia.a)(W,2),H=E[0],B=E[1],q=Object(n.useState)(!1),L=Object(ia.a)(q,2),Q=L[0],Y=L[1],U=Object(n.useState)(!1),V=Object(ia.a)(U,2),$=V[0],G=V[1],K=Object(n.useState)(!1),Z=Object(ia.a)(K,2),J=Z[0],X=Z[1];Object(n.useEffect)((function(){(m||O)&&function(){var e=Object(lr.a)(sr.a.mark((function e(){return sr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return T(!0),e.next=3,tc(Mr+"/"+g,{},Ke.getToken()).then((function(e){if(!(e&&e.data&&e.data.seller&&e.data.raw_material))throw new Error;var t=Object(Ze.a)({},e.data);I((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{id:t.id,seller:t.seller?t.seller.id:null,notes:t.notes,quantity:Sn(t.quantity),raw_material:t.raw_material?t.raw_material.id:null,date:new Date(t.date),total_price:Sn(t.total_price),kachha_ledger:t.kachha_ledger,pakka_ledger:t.pakka_ledger})})),F(t.raw_material),B(t.seller),T(!1)})).catch((function(e){T(!1),w((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{show:!0,severity:"error",message:"Error getting goods return info"})}))}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[m,O,g]);var ee=function(e){delete l[e.target.name],d((function(e){return Object(Ze.a)({},e)})),I((function(t){return Object(Ze.a)(Object(Ze.a)({},t),{},Object(ma.a)({},e.target.name,e.target.value))}))},te=function(){var e=Object(lr.a)(sr.a.mark((function e(t){var a,n;return sr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),T(!0),a=!1,{},n=Rn(D,fl),Mn(n)?(T(!1),d({}),a=!0):(T(!1),d(n)),a&&ae();case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ae=function(){if(m)ne();else{var e,t,n=fa()((e={},Object(ma.a)(e,a.button,!0),Object(ma.a)(e,a.success,!0),e)),r=fa()((t={},Object(ma.a)(t,a.button,!0),Object(ma.a)(t,a.danger,!0),t));p(Object(Be.jsx)(as.a,{warning:!0,showCancel:!0,confirmBtnText:"Yes",confirmBtnCssClass:n,confirmBtnBsStyle:"outline-{variant}",title:"Heads up?",onConfirm:ce,onCancel:re,cancelBtnCssClass:r,focusCancelBtn:!0,children:"Please make sure you have added the right quantity and selected the right raw material because the quantity will be deducted from the raw material balance!"}))}},ne=function(){var e=Object(lr.a)(sr.a.mark((function e(){var t;return sr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(T(!0),t={raw_material:D.raw_material,seller:D.seller,quantity:D.quantity,date:new Date(D.date),notes:D.notes,total_price:D.total_price,kachha_ledger:D.kachha_ledger,pakka_ledger:D.pakka_ledger},!m){e.next=7;break}return e.next=5,rc(Mr,g,t,Ke.getToken()).then((function(e){T(!1),c.push(A)})).catch((function(e){T(!1),w((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{show:!0,severity:"error",message:"Error Saving"})}))}));case 5:e.next=9;break;case 7:return e.next=9,ac(Mr,t,Ke.getToken()).then((function(e){T(!1),c.push(A)})).catch((function(e){T(!1),w((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{show:!0,severity:"error",message:"Error Saving"})}))}));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),re=function(){p(null),Y(!1)},ce=function(){Y(!1),p(null),ne()},ie=function(){G(!1)},oe=function(){X(!1)};return Object(Be.jsxs)(Ca,{children:[Object(Be.jsx)(ya,{xs:12,sm:12,md:12,children:Object(Be.jsx)(gi,{align:"start",size:"small",onClick:function(){c.push(A)},children:Object(Be.jsx)(Zo.a,{})})}),Object(Be.jsx)(bi,{open:_.show,severity:_.severity,message:_.message,handleClose:function(){w((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{show:!1,severity:"",message:""})}))}}),b,Object(Be.jsx)(co,{open:Q,dialogTitle:"",handleCancel:re,handleClose:re,handleAccept:ce,cancelButton:"Cancel",acceptButton:"Yes",isWarning:!0,text:["Please make sure you have added the right quantity and selected right raw material because\n           the quantity will be deducted from the raw material","Are you sure you\n        want to proceed ?"]}),Object(Be.jsx)(uo,{handleCancel:ie,handleClose:ie,handleAddRawMaterial:function(e){G(!1),e?(delete l.raw_material,d((function(e){return Object(Ze.a)({},e)})),I((function(t){return Object(Ze.a)(Object(Ze.a)({},t),{},{raw_material:e.id})})),F(e)):w((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{show:!0,severity:"error",message:"Invalid Raw Material"})}))},open:$}),Object(Be.jsx)(bo,{handleCancel:oe,handleClose:oe,handleAddSeller:function(e){X(!1),e?(delete l.seller,d((function(e){return Object(Ze.a)({},e)})),B(e),I((function(t){return Object(Ze.a)(Object(Ze.a)({},t),{},{seller:e.id})}))):w((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{show:!0,severity:"error",message:"Invalid Seller"})}))},open:J}),Object(Be.jsxs)(ya,{xs:12,sm:12,md:10,children:[Object(Be.jsxs)(Vc,{children:[Object(Be.jsxs)(ii,{color:"primary",className:t.cardHeaderStyles,children:[Object(Be.jsx)("h4",{className:t.cardTitleWhite,children:e.header}),Object(Be.jsx)("p",{className:t.cardCategoryWhite})]}),Object(Be.jsxs)(Jc,{children:[Object(Be.jsxs)(Ca,{children:[O||m?null:Object(Be.jsxs)(Be.Fragment,{children:[Object(Be.jsx)(ya,{xs:12,sm:12,md:12,children:Object(Be.jsx)(jc,{color:"primary",onClick:function(){G(!0)},children:z&&z.id?"Change Raw Material":"Select Raw Material"})}),zn("raw_material",l)?Object(Be.jsx)(ya,{xs:12,sm:12,md:12,children:Object(Be.jsx)(Gn.a,{id:"raw_material_helpertext_id",error:zn("raw_material",l),children:zn("raw_material",l)?l.raw_material.map((function(e){return e+" "})):null})}):null]}),z&&z.id?Object(Be.jsx)(ya,{xs:12,sm:12,md:12,children:Object(Be.jsx)(Sa,{raw_material:z})}):null]}),Object(Be.jsxs)(Ca,{children:[Object(Be.jsx)(ya,{xs:12,sm:12,md:12,style:{marginTop:"1.5rem",color:"#C8C8C8"},children:Object(Be.jsx)("b",{children:"Sell To "})}),H&&H.id&&Object(Be.jsx)(ya,{xs:12,sm:12,md:12,style:{marginTop:"0.8rem"},children:Object(Be.jsx)(Po,{seller:H})}),O||m?null:Object(Be.jsxs)(Be.Fragment,{children:[Object(Be.jsx)(ya,{xs:12,sm:12,md:12,children:Object(Be.jsx)(jc,{color:"primary",onClick:function(){X(!0)},children:H&&H.id?"Change Seller":"Select Seller"})}),zn("seller",l)?Object(Be.jsx)(ya,{xs:12,sm:12,md:12,children:Object(Be.jsx)(Gn.a,{id:"seller_helpertext_id",error:zn("seller",l),children:zn("seller",l)?l.seller.map((function(e){return e+" "})):null})}):null]})]}),Object(Be.jsxs)(Ca,{children:[Object(Be.jsx)(ya,{xs:12,sm:12,md:3,children:Object(Be.jsx)(Hi,{onChange:function(e){return function(e){var t=Na()(e).format("YYYY-MM-DDT00:00:00.000Z");t="Invalid date"===t?null:new Date(t).toISOString(),I((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{date:t})}))}(e)},label:"Selling Date",name:"date",disabled:O,value:D.date||new Date,id:"date",formControlProps:{fullWidth:!0},style:{marginTop:"1.5rem",width:"100%"}})}),Object(Be.jsx)(ya,{xs:12,sm:12,md:3,children:Object(Be.jsx)(Jn,{onChange:function(e){return ee(e)},type:"number",disabled:O,labelText:"Quantity",name:"quantity",value:D.quantity,id:"purchase_quantity",formControlProps:{fullWidth:!0},helperTextId:"helperText_quantity",isHelperText:zn("quantity",l),helperText:zn("quantity",l)?l.quantity.map((function(e){return e+" "})):null,error:zn("quantity",l)})}),Object(Be.jsx)(ya,{xs:12,sm:12,md:3,children:Object(Be.jsx)(Jn,{onChange:function(e){return ee(e)},type:"number",disabled:O,labelText:"Price",name:"total_price",value:D.total_price,id:"total_price",formControlProps:{fullWidth:!0},helperTextId:"helperText_total_price",isHelperText:zn("total_price",l),helperText:zn("total_price",l)?l.total_price.map((function(e){return e+" "})):null,error:zn("total_price",l)})})]}),Object(Be.jsx)(Ca,{children:Object(Be.jsx)(ya,{xs:12,sm:12,md:12,children:Object(Be.jsx)(Jn,{labelText:"Notes",id:"notes",name:"notes",disabled:O,onChange:function(e){return ee(e)},value:D.notes,formControlProps:{fullWidth:!0},inputProps:{multiline:!0,rows:3}})})}),Object(Be.jsxs)(Ca,{children:[Object(Be.jsx)(ya,{xs:12,sm:12,md:3,className:t.switchBoxInFilter,children:Object(Be.jsx)("div",{className:t.block,children:Object(Be.jsx)(Qi.a,{control:Object(Be.jsx)(dl.a,{checked:D.kachha_ledger,disabled:O,onChange:function(e){I((function(t){return Object(Ze.a)(Object(Ze.a)({},t),{},{kachha_ledger:e.target.checked})}))},classes:{switchBase:t.switchBase,checked:t.switchChecked,thumb:t.switchIcon,track:t.switchBar}}),classes:{label:t.label},label:"Add in Kachha Ledger?"})})}),Object(Be.jsx)(ya,{xs:12,sm:12,md:3,className:t.switchBoxInFilter,children:Object(Be.jsx)("div",{className:t.block,children:Object(Be.jsx)(Qi.a,{control:Object(Be.jsx)(dl.a,{checked:D.pakka_ledger,disabled:O,onChange:function(e){I((function(t){return Object(Ze.a)(Object(Ze.a)({},t),{},{pakka_ledger:e.target.checked})}))},classes:{switchBase:t.switchBase,checked:t.switchChecked,thumb:t.switchIcon,track:t.switchBar}}),classes:{label:t.label},label:"Add in Pakka Ledger?"})})})]})]}),O?null:Object(Be.jsx)(ai,{children:Object(Be.jsx)(jc,{color:"primary",onClick:function(e){return te(e)},children:"Save"})})]}),Object(Be.jsx)(io.a,{className:t.backdrop,open:k,children:Object(Be.jsx)(oo.a,{color:"inherit"})})]})]})}var _l=Object(We.a)(so);function wl(){var e=_l(),t=(Object(s.useHistory)(),Object(n.useState)(!1)),a=Object(ia.a)(t,2),c=a[0],i=(a[1],r.a.createRef()),o=Object(n.useState)({id:"",name:""}),l=Object(ia.a)(o,2),d=l[0],u=l[1],j=Object(n.useState)({id:"",name:""}),b=Object(ia.a)(j,2),p=b[0],h=b[1],m=Object(n.useState)(!1),x=Object(ia.a)(m,2),O=x[0],f=x[1],g=Object(n.useState)(!1),v=Object(ia.a)(g,2),y=v[0],_=v[1],w=Object(n.useState)({_sort:"date:desc"}),C=Object(ia.a)(w,2),S=C[0],k=C[1],T=Object(n.useState)([]),P=Object(ia.a)(T,2),N=(P[0],P[1]),D=r.a.useState({show:!1,severity:"",message:""}),I=Object(ia.a)(D,2),M=I[0],R=I[1],z=[{title:"Purchase Date",field:"date",render:function(e){return gn(new Date(e.date))}},{title:"Purchased From",field:"seller",width:"100%",render:function(e){return e.seller.name}},{title:"Raw Material",field:"raw_material",headerStyle:{width:120,minWidth:200},render:function(e){return Object(Be.jsxs)(Be.Fragment,{children:[Object(Be.jsx)(Ca,{style:{dispay:"flex"},children:Object(Be.jsxs)(ya,{xs:12,sm:12,md:8,children:[Object(Be.jsx)("b",{children:"Id : "}),"# ".concat(e.raw_material.id)]})}),Object(Be.jsx)(Ca,{style:{dispay:"flex"},children:Object(Be.jsx)(ya,{xs:12,sm:12,md:8,children:e.raw_material.name})})]})}},{title:"Purchase Cost Per Raw Material",field:"purchase_cost",width:"1rem",render:function(e){return yn(e.purchase_cost,!0)+"/"+e.raw_material.unit}},{title:"Purchase Quantity",field:"purchase_quantity",width:"10%"},{title:"Total Purchase Cost",field:"total_purchase_cost",width:"10%",render:function(e){return yn(e.total_purchase_cost,!0)}}];Object(n.useEffect)((function(){W()}),[]);var A=function(){var e=Object(lr.a)(sr.a.mark((function e(t,a){var n;return sr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={page:t,pageSize:a},Object.keys(S).map((function(e){n.hasOwnProperty(e)||(n[e]=S[e])})),e.abrupt("return",new Promise((function(e,t){fetch(Fr+"?"+new URLSearchParams(n),{method:"GET",headers:{"content-type":"application/json",Authorization:"Bearer "+Ke.getToken()}}).then((function(e){if(e.ok)return e.json();if(401!==e.status)throw new Error("Something went wrong");Ke.clearAppStorage(),window.location.href="".concat(hr,"/login")})).then((function(t){e({data:F(t.data),page:t.page-1,totalCount:t.totalCount})})).catch((function(e){throw e}))})));case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),F=function(e){var t=[];return e.map((function(e){var a="",n={id:"",name:"",color:"",category:"",size:"",unit:"",department:""},r={name:"",gst_no:""};e.raw_material&&(n=Object(Ze.a)(Object(Ze.a)({},n),{},{id:e.raw_material.id,name:e.raw_material.name,color:e.raw_material.color?e.raw_material.color.name:"",category:e.raw_material.category?e.raw_material.category.name:"",size:e.raw_material.size,unit:e.raw_material.unit?e.raw_material.unit.name:"--",department:e.raw_material.department?e.raw_material.department.name:"--",balance:e.raw_material.balance})),e.seller&&(r={name:e.seller.seller_name,gst_no:e.seller.gst_no}),e.purchase&&(a=e.purchase.bill_no);var c={bill_no:a,raw_material:n,seller:r,purchase_cost:On(e.purchase_cost)?0:e.purchase_cost,purchase_quantity:On(e.purchase_quantity)?0:e.purchase_quantity,total_purchase_cost:On(e.total_purchase_cost)?0:e.total_purchase_cost,date:e.date};t.push(c)})),t},W=function(e){tc(Cr,{pageSize:-1},Ke.getToken()).then((function(e){N(e.data.data)})).catch((function(e){console.log(e),R((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{show:!0,severity:"error",message:"Error getting seller info"})}))}))},E=function(e){On(e.target.value)?(delete S[e.target.name],k((function(e){return Object(Ze.a)({},e)}))):k((function(t){return Object(Ze.a)(Object(Ze.a)({},t),{},Object(ma.a)({},e.target.name,e.target.value))}))},H=function(){_(!1)},B=function(){f(!1)};return Object(Be.jsxs)(Be.Fragment,{children:[Object(Be.jsx)(bi,{open:M.show,severity:M.severity,message:M.message,handleClose:function(){R((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{show:!1,severity:"",message:""})}))}}),Object(Be.jsx)(uo,{handleCancel:B,handleClose:B,handleAddRawMaterial:function(e,t){f(!1),e?(k((function(t){return Object(Ze.a)(Object(Ze.a)({},t),{},{raw_material:e.id})})),u((function(a){return Object(Ze.a)(Object(Ze.a)({},a),{},{id:e.id,name:t.name})}))):R((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{show:!0,severity:"error",message:"Invalid Raw Material"})}))},open:O}),Object(Be.jsx)(bo,{handleCancel:H,handleClose:H,handleAddSeller:function(e){_(!1),e?(k((function(t){return Object(Ze.a)(Object(Ze.a)({},t),{},{seller:e.id})})),h((function(t){return Object(Ze.a)(Object(Ze.a)({},t),{},{id:e.id,name:e.seller_name})}))):R((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{show:!0,severity:"error",message:"Invalid Seller"})}))},open:y}),Object(Be.jsx)(Ca,{children:Object(Be.jsx)(ya,{xs:12,sm:12,md:12,children:Object(Be.jsxs)(Vc,{children:[Object(Be.jsxs)(ii,{color:"primary",className:e.cardHeaderStyles,children:[Object(Be.jsx)(Fo.a,{fontSize:"large"}),Object(Be.jsx)("p",{className:e.cardCategoryWhite})]}),Object(Be.jsxs)(Jc,{children:[Object(Be.jsxs)(Ca,{children:[Object(Be.jsx)(ya,{xs:12,sm:12,md:5,style:{margin:"27px 0px 0px"},children:Object(Be.jsxs)(Ca,{style:{border:"1px solid #C0C0C0",borderRadius:"10px"},children:[Object(Be.jsx)(ya,{xs:12,sm:12,md:5,style:{margin:"15px 0px 0px"},children:Object(Be.jsx)(Ca,{style:{dispay:"flex"},children:Object(Be.jsxs)(ya,{xs:12,sm:12,md:12,children:[Object(Be.jsx)("b",{children:"Name : "})," ",d.name]})})}),Object(Be.jsx)(ya,{xs:12,sm:12,md:5,children:Object(Be.jsx)(jc,{color:"primary",onClick:function(){f(!0)},children:S.raw_material?"Change Raw Material ":"Select Raw Material"})}),Object(Be.jsx)(ya,{xs:12,sm:12,md:2,children:Object(Be.jsx)(la.a,{onClick:function(){u((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{id:null,name:""})})),delete S.raw_material,k((function(e){return Object(Ze.a)({},e)}))},children:Object(Be.jsx)(Go.a,{})})})]})}),Object(Be.jsx)(ya,{xs:12,sm:12,md:1}),Object(Be.jsx)(ya,{xs:12,sm:12,md:5,style:{margin:"27px 0px 0px"},children:Object(Be.jsxs)(Ca,{style:{border:"1px solid #C0C0C0",borderRadius:"10px"},children:[Object(Be.jsx)(ya,{xs:12,sm:12,md:6,style:{margin:"15px 0px 0px"},children:Object(Be.jsx)(Ca,{style:{dispay:"flex"},children:Object(Be.jsxs)(ya,{xs:12,sm:12,md:12,children:[Object(Be.jsx)("b",{children:"Name : "})," ",p.name]})})}),Object(Be.jsx)(ya,{xs:12,sm:12,md:4,children:Object(Be.jsx)(jc,{color:"primary",onClick:function(){_(!0)},children:S.seller?"Change Seller":"Select Seller"})}),Object(Be.jsx)(ya,{xs:12,sm:12,md:2,children:Object(Be.jsx)(la.a,{onClick:function(){h((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{id:null,name:""})})),delete S.seller,k((function(e){return Object(Ze.a)({},e)}))},children:Object(Be.jsx)(Go.a,{})})})]})})]}),Object(Be.jsxs)(Ca,{children:[Object(Be.jsx)(ya,{xs:12,sm:12,md:2,children:Object(Be.jsx)(Jn,{onChange:function(e){return E(e)},labelText:"Purchase Quantity",value:S.purchase_quantity_contains||"",name:"purchase_quantity_contains",id:"purchase_quantity_contains",formControlProps:{fullWidth:!0}})}),Object(Be.jsx)(ya,{xs:12,sm:12,md:2,children:Object(Be.jsx)(Jn,{onChange:function(e){return E(e)},labelText:"Total purchase cost",value:S.total_purchase_cost_contains||"",name:"total_purchase_cost_contains",id:"total_purchase_cost_contains",formControlProps:{fullWidth:!0}})}),Object(Be.jsx)(ya,{xs:12,sm:12,md:2,children:Object(Be.jsx)(Hi,{onChange:function(e){return function(e){var t=Na()(e).format("YYYY-MM-DDT00:00:00.000Z");t="Invalid date"===t?null:new Date(t).toISOString(),k((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{date_gte:t})}))}(e)},label:"Purchase Date From",name:"date_gte",value:S.date_gte||null,id:"date_gte",formControlProps:{fullWidth:!0},style:{marginTop:"1.5rem",width:"100%"}})}),Object(Be.jsx)(ya,{xs:12,sm:12,md:2,children:Object(Be.jsx)(Hi,{onChange:function(e){return function(e){var t=Na()(e).endOf("day").format("YYYY-MM-DDT23:59:59.999Z");t="Invalid date"===t?null:new Date(t).toISOString(),k((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{date_lte:t})}))}(e)},label:"Purchase Date To",name:"date_lte",value:S.date_lte||null,id:"date_lte",formControlProps:{fullWidth:!0},style:{marginTop:"1.5rem",width:"100%"}})}),Object(Be.jsxs)(ya,{xs:12,sm:12,md:4,style:{marginTop:"27px"},children:[Object(Be.jsx)(jc,{color:"primary",onClick:function(){i.current.onQueryChange()},children:"Search"}),Object(Be.jsx)(jc,{color:"primary",onClick:function(){k({_sort:"date:desc"}),h((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{id:null,name:""})})),u((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{id:null,name:""})})),i.current.onQueryChange()},children:"Cancel"})]})]}),Object(Be.jsx)("br",{}),Object(Be.jsx)($t,{tableRef:i,title:"Kachha Purchase Details",columns:z,data:function(){var e=Object(lr.a)(sr.a.mark((function e(t){return sr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A(t.page+1,t.pageSize);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),detailPanel:function(e){return Object(Be.jsxs)(Ca,{children:[Object(Be.jsx)(ya,{xs:12,sm:12,md:6,children:Object(Be.jsx)(Sa,{raw_material:e.raw_material})}),Object(Be.jsx)(ya,{xs:12,sm:12,md:6,children:Object(Be.jsx)(Po,{seller:e.seller})})]})},options:{pageSize:10,actionsColumnIndex:-1,search:!1,sorting:!0,thirdSortClick:!1},onOrderChange:function(e,t){!function(e,t){var a,n;e>=0&&(a=z[e].field),n=a+":"+t,k((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{_sort:n})})),i.current.onQueryChange()}(e,t)}})]})]})})}),Object(Be.jsx)(io.a,{className:e.backdrop,open:c,children:Object(Be.jsx)(oo.a,{color:"inherit"})})]})}var Cl=a(830),Sl=Object(We.a)(so);function kl(){var e=Sl(),t=Object(n.useState)(!1),a=Object(ia.a)(t,2),c=a[0],i=a[1],o=Object(n.useState)(null),s=Object(ia.a)(o,2),l=s[0],d=s[1],u=Object(n.useState)([]),j=Object(ia.a)(u,2),b=j[0],p=j[1],h=Object(n.useState)({}),m=Object(ia.a)(h,2),x=m[0],O=m[1],f=Object(n.useState)({}),g=Object(ia.a)(f,2),_=g[0],w=g[1],C=Object(n.useState)([]),S=Object(ia.a)(C,2),P=S[0],N=S[1],D=r.a.useState({show:!1,severity:"",message:""}),M=Object(ia.a)(D,2),A=M[0],F=M[1];Object(n.useEffect)((function(){var e=new URLSearchParams(window.location.search),t=e.get("sd"),a=e.get("ed"),n=e.get("s"),r=e.get("tol"),c={},i=new Date(t),o=new Date(a);if(t&&!On(t)&&Pn(i)){var s=i.getFullYear(),l=i.getMonth();t=new Date(s,l,1)}else{var d=(new Date).getFullYear();t=new Date(d,2,1)}if(a&&!On(a)&&Pn(o)){var u=o.getFullYear(),j=o.getMonth();a=Na()(new Date(u,j+1,0).toISOString()).endOf("day").format("YYYY-MM-DDT23:59:59.999Z")}else{var b=new Date,p=b.getFullYear(),h=b.getMonth();a=Na()(new Date(p,h+1,0).toISOString()).endOf("day").format("YYYY-MM-DDT23:59:59.999Z")}c=Object(Ze.a)(Object(Ze.a)({},c),{},{date_gte:t,date_lte:a,type_of_bill:r||"Kachha"}),O(c),n?(W(n,c),window.history.pushState("","Ledger","".concat(hr).concat(I,"?sd=").concat(c.date_gte,"&ed=").concat(c.date_lte,"&s=").concat(n,"&tol=").concat(r))):window.history.pushState("","Ledger","".concat(hr).concat(I,"?sd=").concat(c.date_gte,"&ed=").concat(c.date_lte,"&tol=").concat(r))}),[]);var W=function(){var e=Object(lr.a)(sr.a.mark((function e(t,a){return sr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tc(wr+"/"+t,{},Ke.getToken()).then((function(e){console.log("res ",e),d({value:t,label:e.data.seller_name,allData:e.data}),B(a,{value:t,label:e.data.seller_name,allData:e.data}),i(!1)})).catch((function(e){i(!1)}));case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),E=function(){var e=Object(lr.a)(sr.a.mark((function e(){return sr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),e.next=3,ic(Xr,Object(Ze.a)(Object(Ze.a)({},x),{},{sellerId:null===l||void 0===l?void 0:l.value}),Ke.getToken()).then((function(e){var t=URL.createObjectURL(new Blob([e.data],{type:"application/pdf"}));window.open().location.href=t,i(!1)})).catch((function(e){i(!1)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),H=function(e){var t={},a=new Date(x.date_gte),n=new Date(x.date_lte);Pn(a)||(t=Object(Ze.a)(Object(Ze.a)({},t),{},{date_gte:["Not a valid start date"]})),Pn(n)||(t=Object(Ze.a)(Object(Ze.a)({},t),{},{date_lte:["Not a valid end date"]})),x.type_of_bill||(t=Object(Ze.a)(Object(Ze.a)({},t),{},{type_of_bill:["Please select type of ledger"]})),l&&l.value||(t=Object(Ze.a)(Object(Ze.a)({},t),{},{seller:["Please select seller"]})),w(t),Object.keys(t).length||e()},B=function(){var e=Object(lr.a)(sr.a.mark((function e(){var t,a,n,r,c,o,s=arguments;return sr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:x,a=s.length>1&&void 0!==s[1]?s[1]:l,window.history.pushState("","Ledger","".concat(hr).concat(I,"?sd=").concat(t.date_gte,"&ed=").concat(t.date_lte,"&s=").concat(null===a||void 0===a?void 0:a.value,"&tol=").concat(t.type_of_bill)),i(!0),n=[],r=new Date(t.date_gte),c=new Date(t.date_lte),o=Nn(r,c)+1,Array.from({length:o},(function(e,t){return t})).forEach((function(e){var t=new Date(r.setDate(15)),a=new Date(t.setMonth(t.getMonth()+e)),c=a.getMonth()+1,i=a.getFullYear(),o="".concat(Dn(c-1),", ").concat(i);n.push(o)})),N(n),e.next=13,tc(Jr,Object(Ze.a)(Object(Ze.a)({},t),{},{sellerId:null===a||void 0===a?void 0:a.value}),Ke.getToken()).then((function(e){p(e.data),i(!1)})).catch((function(e){i(!1)}));case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();console.log("seller ",l);return Object(Be.jsxs)(Be.Fragment,{children:[Object(Be.jsx)(bi,{open:A.show,severity:A.severity,message:A.message,handleClose:function(){F((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{show:!1,severity:"",message:""})}))}}),Object(Be.jsx)(Ca,{children:Object(Be.jsx)(ya,{xs:12,sm:12,md:12,children:Object(Be.jsxs)(Vc,{children:[Object(Be.jsxs)(ii,{color:"primary",className:e.cardHeaderStyles,children:[Object(Be.jsx)(Fo.a,{fontSize:"large"}),Object(Be.jsx)("p",{className:e.cardCategoryWhite})]}),Object(Be.jsxs)(Jc,{children:[Object(Be.jsxs)(Ca,{children:[Object(Be.jsxs)(ya,{xs:12,sm:12,md:2,children:[Object(Be.jsx)(Zi,{onChange:function(e){e.target.checked&&O((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{type_of_bill:"Kachha"})}))},labelText:"Kachha",checked:"Kachha"===x.type_of_bill||!1,id:"type_of_bill1"}),Object(Be.jsx)(Zi,{onChange:function(e){e.target.checked&&O((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{type_of_bill:"Pakka"})}))},labelText:"Pakka",checked:"Pakka"===x.type_of_bill||!1,id:"type_of_bill2"})]}),Object(Be.jsx)(ya,{xs:12,sm:12,md:2,style:{marginTop:"2.2rem"},children:Object(Be.jsx)(oc,{setSelectedData:function(e){delete _.seller,w((function(e){return Object(Ze.a)({},e)})),d(e)},selectedValue:l,searchString:"seller_name",apiName:wr,placeholder:"Select Seller...",isError:_.seller,errorText:"Please select a seller"})}),Object(Be.jsx)(ya,{xs:12,sm:12,md:2,children:Object(Be.jsx)(Hi,{variant:"inline",openTo:"month",views:["year","month"],onChange:function(e){return function(e){var t=new Date(e),a=t.getFullYear(),n=t.getMonth();delete _.date_gte,w((function(e){return Object(Ze.a)({},e)})),O((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{date_gte:new Date(a,n,1)})}))}(e)},label:"Month/Year from",name:"date_gte",value:x.date_gte||null,id:"date_gte",formControlProps:{fullWidth:!0},style:{marginTop:"1.5rem",width:"100%"},helperTextId:"helperText_date_gte",isHelperText:zn("date_gte",_),helperText:zn("date_gte",_)?_.date_gte.map((function(e){return e+" "})):null,error:zn("date_gte",_)})}),Object(Be.jsx)(ya,{xs:12,sm:12,md:2,children:Object(Be.jsx)(Hi,{views:["year","month"],onChange:function(e){return function(e){delete _.date_lte,w((function(e){return Object(Ze.a)({},e)}));var t=new Date(e),a=t.getFullYear(),n=t.getMonth(),r=Na()(new Date(a,n+1,0).toISOString()).endOf("day").format("YYYY-MM-DDT23:59:59.999Z");O((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{date_lte:new Date(r)})}))}(e)},label:"Month/Year to",name:"date_lte",value:x.date_lte||null,id:"date_lte",formControlProps:{fullWidth:!0},style:{marginTop:"1.5rem",width:"100%"},helperTextId:"helperText_date_lte",isHelperText:zn("date_lte",_),helperText:zn("date_lte",_)?_.date_lte.map((function(e){return e+" "})):null,error:zn("date_lte",_)})}),Object(Be.jsxs)(ya,{xs:12,sm:12,md:4,style:{marginTop:"27px"},children:[Object(Be.jsx)(jc,{color:"primary",onClick:function(){H(B)},children:"Search"}),Object(Be.jsx)(jc,{color:"primary",onClick:function(){O({}),p([]),N([]),w({})},children:"Cancel"})]})]}),Object(Be.jsx)("br",{}),Object(Be.jsx)("br",{}),P&&P.length?Object(Be.jsx)(ya,{xs:12,sm:12,md:12,style:{display:"flex",justifyContent:"right"},children:Object(Be.jsx)(jc,{color:"primary",onClick:function(){H(E)},children:"Download"})}):null,Object(Be.jsx)(ya,{xs:12,sm:12,md:12,children:Object(Be.jsxs)(Gt,{sx:{minWidth:650},"aria-label":"simple table",children:[Object(Be.jsx)(Kt,{children:Object(Be.jsxs)(Zt,{children:[Object(Be.jsx)(Jt,{children:"Date"}),Object(Be.jsx)(Jt,{children:"Particulars"}),Object(Be.jsx)(Jt,{children:"Type"}),Object(Be.jsx)(Jt,{children:"Bill/Invoice No"}),Object(Be.jsx)(Jt,{children:"Credit"}),Object(Be.jsx)(Jt,{children:"Debit"}),Object(Be.jsx)(Jt,{children:"Edit"}),Object(Be.jsx)(Jt,{children:"View"}),Object(Be.jsx)(Jt,{children:"Delete"})]})}),Object(Be.jsx)(Xt,{children:P&&P.length?P.map((function(e){var t,a,n,r,c,i,o,s,l,d,u,j,p,h,m,x,O;return Object(Be.jsxs)(Be.Fragment,{children:[Object(Be.jsx)(Zt,{children:Object(Be.jsx)(Jt,{colSpan:9,sx:{textAlign:"center",backgroundColor:"#dfdfdf !important"},children:Object(Be.jsx)("b",{children:e})})}),Object(Be.jsxs)(Zt,{children:[Object(Be.jsx)(Jt,{children:"-----"}),Object(Be.jsx)(Jt,{children:Object(Be.jsx)("b",{children:"Opening Balance"})}),Object(Be.jsx)(Jt,{children:"-----"}),Object(Be.jsx)(Jt,{children:"-----"}),Object(Be.jsx)(Jt,{children:Object(Be.jsx)("b",{children:yn(null===(t=b[e])||void 0===t||null===(a=t.opening_balance)||void 0===a?void 0:a.credit,!0)})}),Object(Be.jsx)(Jt,{children:Object(Be.jsx)("b",{children:yn(null===(n=b[e])||void 0===n||null===(r=n.opening_balance)||void 0===r?void 0:r.debit,!0)})}),Object(Be.jsx)(Jt,{children:"---"}),Object(Be.jsx)(Jt,{children:"---"}),Object(Be.jsx)(Jt,{children:"---"})]}),(null===(c=b[e])||void 0===c?void 0:c.data)&&b[e].data.length?b[e].data.map((function(e){return Object(Be.jsxs)(Zt,{children:[Object(Be.jsx)(Jt,{children:e.date}),Object(Be.jsx)(Jt,{children:e.particulars}),Object(Be.jsx)(Jt,{children:e.type}),Object(Be.jsx)(Jt,{children:e.bill_invoice_no}),Object(Be.jsx)(Jt,{children:e.credit}),Object(Be.jsx)(Jt,{children:e.debit}),Object(Be.jsx)(Jt,{children:Object(Be.jsx)(Cl.a,{"aria-label":"edit",onClick:function(){return function(e,t){var a="";"Purchase"===t?a=v:"Payment"===t?a=k:"Goods return"===t&&(a=z),window.open("".concat(hr).concat(a,"/").concat(e),"_blank")}(e.id,e.type)},children:Object(Be.jsx)(Mo.a,{fontSize:"small"})})}),Object(Be.jsx)(Jt,{children:Object(Be.jsx)(Cl.a,{"aria-label":"view",onClick:function(){return function(e,t){var a="";"Purchase"===t?a=y:"Payment"===t?a=T:"Goods return"===t&&(a=R),window.open("".concat(hr).concat(a,"/").concat(e),"_blank")}(e.id,e.type)},children:Object(Be.jsx)(zo.a,{fontSize:"small",color:"primary"})})}),Object(Be.jsx)(Jt,{children:Object(Be.jsx)(Cl.a,{color:"error","aria-label":"delete",onClick:function(){return e.id,void e.type},children:Object(Be.jsx)(Lo.a,{fontSize:"small"})})})]})})):null,Object(Be.jsxs)(Zt,{children:[Object(Be.jsx)(Jt,{children:"-----"}),Object(Be.jsx)(Jt,{children:Object(Be.jsx)("b",{children:"Total"})}),Object(Be.jsx)(Jt,{children:"-----"}),Object(Be.jsx)(Jt,{children:"-----"}),Object(Be.jsx)(Jt,{children:Object(Be.jsx)("b",{children:yn(null===(i=b[e])||void 0===i||null===(o=i.closing_balance)||void 0===o?void 0:o.credit,!0)})}),Object(Be.jsx)(Jt,{children:Object(Be.jsx)("b",{children:yn(null===(s=b[e])||void 0===s||null===(l=s.closing_balance)||void 0===l?void 0:l.debit,!0)})}),Object(Be.jsx)(Jt,{children:"---"}),Object(Be.jsx)(Jt,{children:"---"}),Object(Be.jsx)(Jt,{children:"---"})]}),Object(Be.jsxs)(Zt,{children:[Object(Be.jsx)(Jt,{children:"-----"}),Object(Be.jsx)(Jt,{children:Object(Be.jsx)("b",{children:"Closing Balance"})}),Object(Be.jsx)(Jt,{children:"-----"}),Object(Be.jsx)(Jt,{children:"-----"}),(null===(d=b[e])||void 0===d||null===(u=d.closing_balance)||void 0===u?void 0:u.finalClosing)>0?Object(Be.jsxs)(Be.Fragment,{children:[Object(Be.jsx)(Jt,{children:Object(Be.jsx)("b",{children:"----"})}),Object(Be.jsx)(Jt,{sx:{backgroundColor:"yellow"},children:Object(Be.jsx)("b",{children:yn(Math.abs(null===(j=b[e])||void 0===j||null===(p=j.closing_balance)||void 0===p?void 0:p.finalClosing),!0)})})]}):(null===(h=b[e])||void 0===h||null===(m=h.closing_balance)||void 0===m?void 0:m.finalClosing)<0?Object(Be.jsxs)(Be.Fragment,{children:[Object(Be.jsx)(Jt,{sx:{backgroundColor:"yellow"},children:Object(Be.jsx)("b",{children:yn(Math.abs(null===(x=b[e])||void 0===x||null===(O=x.closing_balance)||void 0===O?void 0:O.finalClosing),!0)})}),Object(Be.jsx)(Jt,{children:Object(Be.jsx)("b",{children:"----"})})]}):Object(Be.jsxs)(Be.Fragment,{children:[Object(Be.jsx)(Jt,{children:Object(Be.jsx)("b",{children:yn(0,!0)})}),Object(Be.jsx)(Jt,{children:Object(Be.jsx)("b",{children:yn(0,!0)})})]}),Object(Be.jsx)(Jt,{children:"---"}),Object(Be.jsx)(Jt,{children:"---"}),Object(Be.jsx)(Jt,{children:"---"})]})]})})):Object(Be.jsx)(Be.Fragment,{children:Object(Be.jsx)(Zt,{children:Object(Be.jsx)(Jt,{colSpan:9,rowSpan:5,sx:{border:"none !Important",textAlign:"center"},children:"No Data to show"})})})})]})})]})]})})}),Object(Be.jsx)(io.a,{className:e.backdrop,open:c,children:Object(Be.jsx)(oo.a,{color:"inherit"})})]})}var Tl=Object(We.a)(so),Pl=function(e){var t=Tl(),a=Object(s.useHistory)(),c=r.a.createRef(),i=Object(n.useState)({_sort:"payment_date:desc"}),o=Object(ia.a)(i,2),l=o[0],d=o[1],u=r.a.useState({show:!1,severity:"",message:""}),j=Object(ia.a)(u,2),b=j[0],p=j[1],h=r.a.useState(null),m=Object(ia.a)(h,2),x=m[0],O=m[1],f=[{title:"Payment date",field:"payment_date",render:function(e){return fn(new Date(e.payment_date))}},{title:"Seller",field:"seller.seller_name",sorting:!1},{title:"Amount",field:"amount",render:function(e){return yn(e.amount,!0)}},{title:"Payment type",field:"payment_type",render:function(e){return"cash"===e.payment_type?"Cash":"Bank Transfer"}},{title:"Show in kachha ledger",field:"kachha_ledger",render:function(e){return e.kachha_ledger?"Yes":"No"}},{title:"Show in Pakka ledger",field:"pakka_ledger",render:function(e){return e.pakka_ledger?"Yes":"No"}}],g=function(){var e=Object(lr.a)(sr.a.mark((function e(t,a){var n;return sr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={page:t,pageSize:a},Object.keys(l).map((function(e){n.hasOwnProperty(e)||(n[e]=l[e])})),e.abrupt("return",new Promise((function(e,t){fetch(ec+"?"+new URLSearchParams(n),{method:"GET",headers:{"content-type":"application/json",Authorization:"Bearer "+Ke.getToken()}}).then((function(e){if(e.ok)return e.json();if(401!==e.status)throw new Error("Something went wrong");Ke.clearAppStorage(),window.location.href="".concat(hr,"/login")})).then((function(t){e({data:t.data,page:t.page-1,totalCount:t.totalCount})})).catch((function(e){throw e}))})));case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();return Object(Be.jsxs)(Be.Fragment,{children:[Object(Be.jsx)(bi,{open:b.show,severity:b.severity,message:b.message,handleClose:function(){p((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{show:!1,severity:"",message:""})}))}}),Object(Be.jsx)(Ca,{children:Object(Be.jsx)(ya,{xs:12,sm:12,md:12,children:Object(Be.jsxs)(Vc,{children:[Object(Be.jsxs)(ii,{color:"primary",className:t.cardHeaderStyles,children:[Object(Be.jsx)(Fo.a,{fontSize:"large"}),Object(Be.jsx)("p",{className:t.cardCategoryWhite})]}),Object(Be.jsxs)(Jc,{children:[Object(Be.jsx)(Ca,{children:Object(Be.jsx)(ya,{xs:12,sm:12,md:12,children:Object(Be.jsx)(gi,{color:"primary",align:"end",size:"small",onClick:function(){a.push(C)},children:Object(Be.jsx)(Eo.a,{})})})}),Object(Be.jsxs)(Ca,{children:[Object(Be.jsx)(ya,{xs:12,sm:12,md:2,children:Object(Be.jsx)(Hi,{onChange:function(e){return function(e){var t=Na()(e).format("YYYY-MM-DDT00:00:00.000Z");"Invalid date"===t?(t=null,delete l.payment_date_gte,d((function(e){return Object(Ze.a)({},e)}))):(t=new Date(t).toISOString(),d((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{payment_date_gte:t})})))}(e)},label:"Payment Date From",name:"payment_date_gte",value:l.payment_date_gte||null,id:"payment_date_gte",formControlProps:{fullWidth:!0},style:{marginTop:"1.5rem",width:"100%"}})}),Object(Be.jsx)(ya,{xs:12,sm:12,md:2,children:Object(Be.jsx)(Hi,{onChange:function(e){return function(e){var t=Na()(e).endOf("day").format("YYYY-MM-DDT23:59:59.999Z");"Invalid date"===t?(t=null,delete l.payment_date_lte,d((function(e){return Object(Ze.a)({},e)}))):(t=new Date(t).toISOString(),d((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{payment_date_lte:t})})))}(e)},label:"Payment Date To",name:"payment_date_lte",value:l.payment_date_lte||null,id:"payment_date_lte",formControlProps:{fullWidth:!0},style:{marginTop:"1.5rem",width:"100%"}})}),Object(Be.jsx)(ya,{xs:12,sm:12,md:2,style:{marginTop:"2.2rem"},children:Object(Be.jsx)(oc,{setSelectedData:function(e){e&&e.value?(d((function(t){return Object(Ze.a)(Object(Ze.a)({},t),{},{seller:e.value})})),O(e)):(delete l.seller,d((function(e){return Object(Ze.a)({},e)})),O(null))},searchString:"seller_name",apiName:wr,placeholder:"Select Seller...",selectedValue:x})}),Object(Be.jsx)(ya,{xs:12,sm:12,md:2,children:Object(Be.jsx)(Pi,{id:"payment_type",onChange:function(e){d((function(t){return Object(Ze.a)(Object(Ze.a)({},t),{},{payment_type:e.target.value})}))},labelText:"Type of Ledger",name:"payment_type",value:l.payment_type,nameValue:[{name:"Bank Transfer",value:"bank_transfer"},{name:"Cash",value:"cash"}],formControlProps:{fullWidth:!0}})}),Object(Be.jsxs)(ya,{xs:12,sm:12,md:4,style:{marginTop:"27px"},children:[Object(Be.jsx)(jc,{color:"primary",onClick:function(){c.current.onQueryChange()},children:"Search"}),Object(Be.jsx)(jc,{color:"primary",onClick:function(){d({_sort:"payment_date:desc"}),O(null),c.current.onQueryChange()},children:"Cancel"})]})]}),Object(Be.jsx)("br",{}),Object(Be.jsx)($t,{tableRef:c,title:"Purchases",columns:f,data:function(){var e=Object(lr.a)(sr.a.mark((function e(t){return sr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g(t.page+1,t.pageSize);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),actions:[function(e){return{icon:function(){return Object(Be.jsx)(Mo.a,{fontSize:"small"})},tooltip:"Edit",onClick:function(e,t){a.push(k+"/"+t.id)}}},function(e){return{icon:function(){return Object(Be.jsx)(zo.a,{fontSize:"small",color:"primary"})},tooltip:"View",onClick:function(e,t){a.push(T+"/"+t.id)}}}],localization:{body:{editRow:{deleteText:"Are you sure you want to delete this Payment Info?",saveTooltip:"Delete"}}},icons:{Delete:function(){return Object(Be.jsx)(Lo.a,{style:{color:"red"}})}},editable:{onRowDelete:function(e){return new Promise((function(t){setTimeout(Object(lr.a)(sr.a.mark((function a(){return sr.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,cc(ec,e.id,Ke.getToken()).then(function(){var e=Object(lr.a)(sr.a.mark((function e(t){return sr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{show:!0,severity:"success",message:"Successfully deleted payment"})}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){p((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{show:!0,severity:"error",message:"Error deleting payment info"})}))}));case 2:t();case 3:case"end":return a.stop()}}),a)}))),1e3)}))}},options:{pageSize:10,actionsColumnIndex:-1,search:!1,sorting:!0,thirdSortClick:!1},onOrderChange:function(e,t){!function(e,t){var a,n;e>=0&&(a=f[e].field),n=a+":"+t,d((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{_sort:n})})),c.current.onQueryChange()}(e,t)}})]})]})})})]})},Nl=Object(We.a)(so),Dl=Object(We.a)(lc),Il=function(e){var t=Nl(),a=Dl(),c=Object(s.useHistory)(),i=Object(n.useState)(null),o=Object(ia.a)(i,2),l=o[0],d=o[1],u=Object(n.useState)(!1),j=Object(ia.a)(u,2),b=j[0],p=j[1],h=Object(n.useState)(null),m=Object(ia.a)(h,2),x=m[0],O=m[1],f=Object(n.useState)({}),g=Object(ia.a)(f,2),v=g[0],y=g[1],_=Object(n.useState)(e.isEdit?e.isEdit:null),w=Object(ia.a)(_,1)[0],C=Object(n.useState)(e.isView?e.isView:null),k=Object(ia.a)(C,1)[0],T=Object(n.useState)(e.id?e.id:null),P=Object(ia.a)(T,1)[0],N=r.a.useState({show:!1,severity:"",message:""}),D=Object(ia.a)(N,2),I=D[0],M=D[1],R=Object(n.useState)({amount:0,comment:"",payment_date:new Date,payment_type:"bank_transfer",kachha_ledger:!1,pakka_ledger:!0}),z=Object(ia.a)(R,2),A=z[0],F=z[1];Object(n.useEffect)((function(){(w||k)&&W()}),[]);var W=function(){var e=Object(lr.a)(sr.a.mark((function e(){return sr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(!0),e.next=3,tc(ec+"/"+P,{},Ke.getToken()).then((function(e){var t=e.data;if(!t||!t.seller)throw new Error;var a=Object(Ze.a)({},e.data);F({amount:a.amount,comment:a.comment,payment_date:new Date(a.payment_date),payment_type:a.payment_type,kachha_ledger:a.kachha_ledger,pakka_ledger:a.pakka_ledger}),d({label:t.seller.seller_name,value:t.seller.id,allData:t.seller}),p(!1)})).catch((function(e){p(!1),M((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{show:!0,severity:"error",message:"Error getting payment info"})}))}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=function(){O(null)},H=function(){O(null),q()},B=function(){var e,t,n,r,c=fa()((e={},Object(ma.a)(e,a.button,!0),Object(ma.a)(e,a.success,!0),e)),i=fa()((t={},Object(ma.a)(t,a.button,!0),Object(ma.a)(t,a.danger,!0),t)),o="";w?o="Are you sure you want to edit the payment made to ".concat(null===l||void 0===l||null===(n=l.allData)||void 0===n?void 0:n.seller_name," of ").concat(yn(A.amount,!0),"?"):o="Are you sure you want to make a payment of ".concat(yn(A.amount,!0)," towards seller ").concat(null===l||void 0===l||null===(r=l.allData)||void 0===r?void 0:r.seller_name," ?");O(Object(Be.jsx)(as.a,{warning:!0,showCancel:!0,confirmBtnText:"Yes",confirmBtnCssClass:c,confirmBtnBsStyle:"outline-{variant}",title:"Heads up?",onConfirm:H,onCancel:E,cancelBtnCssClass:i,focusCancelBtn:!0,children:o}))},q=function(){var e=Object(lr.a)(sr.a.mark((function e(){return sr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p(!0),!P){e.next=6;break}return e.next=4,rc(ec,P,Object(Ze.a)(Object(Ze.a)({},A),{},{seller:l.value}),Ke.getToken()).then((function(e){c.push(S),p(!1)})).catch((function(e){p(!1),M((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{show:!0,severity:"error",message:"Error saving payment info"})}))}));case 4:e.next=8;break;case 6:return e.next=8,ac(ec,Object(Ze.a)(Object(Ze.a)({},A),{},{seller:l.value}),Ke.getToken()).then((function(e){c.push(S),p(!1)})).catch((function(e){p(!1),M((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{show:!0,severity:"error",message:"Error saving payment info"})}))}));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(Be.jsxs)(r.a.Fragment,{children:[Object(Be.jsxs)(Ca,{children:[Object(Be.jsx)(ya,{xs:12,sm:12,md:12,children:Object(Be.jsx)(gi,{align:"start",size:"small",onClick:function(){c.push(S)},children:Object(Be.jsx)(Zo.a,{})})}),x,Object(Be.jsx)(bi,{open:I.show,severity:I.severity,message:I.message,handleClose:function(){M((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{show:!1,severity:"",message:""})}))}}),Object(Be.jsx)(ya,{xs:12,sm:12,md:10,children:Object(Be.jsxs)(Vc,{children:[Object(Be.jsxs)(ii,{color:"primary",className:t.cardHeaderStyles,children:[Object(Be.jsx)("h4",{className:t.cardTitleWhite,children:e.header}),Object(Be.jsx)("p",{className:t.cardCategoryWhite})]}),Object(Be.jsxs)(Jc,{children:[Object(Be.jsxs)(Ca,{children:[!k&&Object(Be.jsx)(ya,{xs:12,sm:12,md:6,children:Object(Be.jsx)(oc,{setSelectedData:function(e){delete v.seller,y((function(e){return Object(Ze.a)({},e)})),d(e)},selectedData:l,searchString:"seller_name",apiName:wr,placeholder:"Select Seller...",selectedValue:l,isError:v.seller,errorText:"Please select a seller"})}),l&&l.value&&l.allData&&Object(Be.jsx)(ya,{xs:12,sm:12,md:6,children:Object(Be.jsx)(Po,{seller:l.allData})})]}),Object(Be.jsxs)(Ca,{children:[Object(Be.jsx)(ya,{xs:12,sm:12,md:3,children:Object(Be.jsx)(Hi,{onChange:function(e){return function(e){var t=Na()(e).format("YYYY-MM-DDT00:00:00.000Z");t="Invalid date"===t?null:new Date(t).toISOString(),F((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{payment_date:t})}))}(e)},label:"Payment Date",name:"payment_date",disabled:k,value:A.payment_date,id:"payment_date",formControlProps:{fullWidth:!0},style:{width:"100%",marginTop:"1.5rem"},helperTextId:"helperText_payment_date",isHelperText:zn("payment_date",v),helperText:zn("payment_date",v)?v.payment_date.map((function(e){return e+" "})):null,error:zn("payment_date",v)})}),Object(Be.jsx)(ya,{xs:12,sm:12,md:3,children:Object(Be.jsx)(Pi,{id:"payment_type",disabled:k,onChange:function(e){delete v.payment_type,y((function(e){return Object(Ze.a)({},e)}));var t=A.kachha_ledger,a=A.pakka_ledger;"cash"===e.target.value?(t=!0,a=!1):(t=!1,a=!0),F((function(n){return Object(Ze.a)(Object(Ze.a)({},n),{},{payment_type:e.target.value,kachha_ledger:t,pakka_ledger:a})}))},labelText:"Type of Ledger",name:"payment_type",value:A.payment_type,nameValue:[{name:"Bank Transfer",value:"bank_transfer"},{name:"Cash",value:"cash"}],formControlProps:{fullWidth:!0},helperTextId:"helperText_payment_type",isHelperText:zn("payment_type",v),helperText:zn("payment_type",v)?v.payment_type.map((function(e){return e+" "})):null,error:zn("payment_type",v)})})]}),Object(Be.jsxs)(Ca,{children:[Object(Be.jsx)(ya,{xs:12,sm:12,md:3,className:t.switchBoxInFilter,children:Object(Be.jsx)("div",{className:t.block,children:Object(Be.jsx)(Qi.a,{control:Object(Be.jsx)(dl.a,{checked:A.kachha_ledger,disabled:"cash"===A.payment_type||k,onChange:function(e){F((function(t){return Object(Ze.a)(Object(Ze.a)({},t),{},{kachha_ledger:e.target.checked})}))},classes:{switchBase:t.switchBase,checked:t.switchChecked,thumb:t.switchIcon,track:t.switchBar}}),classes:{label:t.label},label:"Add Payment Info in Kachha Ledger?"})})}),Object(Be.jsx)(ya,{xs:12,sm:12,md:3,className:t.switchBoxInFilter,children:Object(Be.jsx)("div",{className:t.block,children:Object(Be.jsx)(Qi.a,{control:Object(Be.jsx)(dl.a,{checked:A.pakka_ledger,disabled:"bank_transfer"===A.payment_type||"cash"===A.payment_type||k,onChange:function(e){F((function(t){return Object(Ze.a)(Object(Ze.a)({},t),{},{pakka_ledger:e.target.checked})}))},classes:{switchBase:t.switchBase,checked:t.switchChecked,thumb:t.switchIcon,track:t.switchBar}}),classes:{label:t.label},label:"Add Payment Info in Pakka Ledger?"})})})]}),Object(Be.jsxs)(Ca,{children:[Object(Be.jsx)(ya,{xs:12,sm:12,md:3,children:Object(Be.jsx)(Jn,{onChange:function(e){var t=e.target.value;Sn(t)<0?y((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{amount:["Amount cannot be negative"]})})):(delete v.amount,y((function(e){return Object(Ze.a)({},e)}))),F((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{amount:t})}))},type:"number",disabled:k,labelText:"Purchase Cost",name:"amount",value:A.amount,id:"amount",formControlProps:{fullWidth:!0},helperTextId:"helperText_amount",isHelperText:zn("amount",v),helperText:zn("amount",v)?v.amount.map((function(e){return e+" "})):null,error:zn("amount",v)})}),Object(Be.jsx)(ya,{xs:12,sm:12,md:3,style:{marginTop:"3rem"},children:yn(A.amount,!0)})]}),Object(Be.jsx)(Ca,{children:Object(Be.jsx)(ya,{xs:12,sm:12,md:6,children:Object(Be.jsx)(Jn,{onChange:function(e){F((function(t){return Object(Ze.a)(Object(Ze.a)({},t),{},{comment:e.target.value})}))},type:"text",disabled:k,labelText:"Comment",name:"comment",value:A.comment,id:"comment",multiline:!0,minRows:4,formControlProps:{fullWidth:!0},helperTextId:"helperText_comment",isHelperText:zn("comment",v),helperText:zn("comment",v)?v.comment.map((function(e){return e+" "})):null,error:zn("comment",v)})})})]}),k?null:Object(Be.jsx)(ai,{children:Object(Be.jsx)(jc,{color:"primary",onClick:function(e){return function(){var e={};l&&l.value||(e=Object(Ze.a)(Object(Ze.a)({},e),{},{seller:["Please select seller"]}));var t=Sn(A.amount);t?t<0&&(e=Object(Ze.a)(Object(Ze.a)({},e),{},{amount:["amount cannot be negative"]})):e=Object(Ze.a)(Object(Ze.a)({},e),{},{amount:["amount cannot be zero"]}),y(e),Object.keys(e).length||B()}()},children:"Save"})})]})})]}),Object(Be.jsx)(io.a,{className:t.backdrop,open:b,children:Object(Be.jsx)(oo.a,{color:"inherit"})})]})},Ml=Object(We.a)(so);function Rl(){var e=Ml(),t=r.a.createRef(),a=Object(n.useState)(!1),c=Object(ia.a)(a,2),i=c[0],o=c[1],l=Object(s.useHistory)(),d=Object(n.useState)({_sort:"created_at:desc"}),u=Object(ia.a)(d,2),j=u[0],b=u[1],p=r.a.useState({show:!1,severity:"",message:""}),h=Object(ia.a)(p,2),m=h[0],x=h[1],O=[{title:"id",field:"id",render:function(e){return"#".concat(e.id)}},{title:"Material No",field:"material_no"},{title:"Image",render:function(t){return Object(Be.jsx)("div",{className:e.imageDivInTable,children:t.images&&t.images.length&&t.images[0].url?Object(Be.jsx)("img",{alt:"ready_material_photo",src:pr+t.images[0].url,loader:Object(Be.jsx)(oo.a,{}),style:{height:"5rem",width:"10rem"},className:e.UploadImage}):Object(Be.jsx)("img",{src:xo,alt:"ready_material_photo",style:{height:"5rem",width:"10rem"},loader:Object(Be.jsx)(oo.a,{}),className:e.DefaultNoImage})})}},{title:"Quantity Available",field:"total_quantity"},{title:"Price",field:"final_cost",render:function(e){return yn(e.final_cost,!0)}}],f=function(){var e=Object(lr.a)(sr.a.mark((function e(t,a){var n;return sr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={page:t,pageSize:a},Object.keys(j).map((function(e){n.hasOwnProperty(e)||(n[e]=j[e])})),e.abrupt("return",new Promise((function(e,t){fetch(Lr+"?"+new URLSearchParams(n),{method:"GET",headers:{"content-type":"application/json",Authorization:"Bearer "+Ke.getToken()}}).then((function(e){if(e.ok)return e.json();if(401!==e.status)throw new Error("Something went wrong");Ke.clearAppStorage(),window.location.href="".concat(hr,"/login")})).then((function(t){e({data:t.data,page:t.page-1,totalCount:t.totalCount})})).catch((function(e){throw e}))})));case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),g=function(){var e=Object(lr.a)(sr.a.mark((function e(t,a){return sr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),e.next=3,tc(Lr+"/"+t.id,{},Ke.getToken()).then((function(e){o(!1),a?l.push(X,{data:e.data,view:!0}):l.push(J,{data:e.data,edit:!0})})).catch((function(e){o(!1),x((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{show:!0,severity:"error",message:"Error viewing ready material"})}))}));case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();return Object(Be.jsxs)(Be.Fragment,{children:[Object(Be.jsx)(bi,{open:m.show,severity:m.severity,message:m.message,handleClose:function(){x((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{show:!1,severity:"",message:""})}))}}),Object(Be.jsx)(Ca,{children:Object(Be.jsx)(ya,{xs:12,sm:12,md:12,children:Object(Be.jsxs)(Vc,{children:[Object(Be.jsxs)(ii,{color:"primary",className:e.cardHeaderStyles,children:[Object(Be.jsx)(Fo.a,{fontSize:"large"}),Object(Be.jsx)("p",{className:e.cardCategoryWhite})]}),Object(Be.jsxs)(Jc,{children:[Object(Be.jsx)(Ca,{children:Object(Be.jsx)(ya,{xs:12,sm:12,md:12,children:Object(Be.jsx)(gi,{color:"primary",align:"end",size:"small",onClick:function(){l.push(Z)},children:Object(Be.jsx)(Eo.a,{})})})}),Object(Be.jsxs)(Ca,{children:[Object(Be.jsx)(ya,{xs:12,sm:3,md:3,children:Object(Be.jsx)(Jn,{onChange:function(e){On(e.target.value)?(delete j.material_no_contains,b((function(e){return Object(Ze.a)({},e)}))):b((function(t){return Object(Ze.a)(Object(Ze.a)({},t),{},{material_no_contains:e.target.value})}))},type:"text",labelText:"Material Number",name:"material_no_contains",noMargin:!0,value:j.material_no_contains||"",id:"material_no_contains",formControlProps:{fullWidth:!0}})}),Object(Be.jsxs)(ya,{xs:12,sm:12,md:4,children:[Object(Be.jsx)(jc,{color:"primary",onClick:function(){t.current.onQueryChange()},children:"Search"}),Object(Be.jsx)(jc,{color:"primary",onClick:function(){delete j.material_no_contains,b((function(e){return Object(Ze.a)({},e)})),t.current.onQueryChange()},children:"Cancel"})]})]}),Object(Be.jsx)("br",{}),Object(Be.jsx)($t,{tableRef:t,title:"Ready Materials",columns:O,data:function(){var e=Object(lr.a)(sr.a.mark((function e(t){return sr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(t.page+1,t.pageSize);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),actions:[function(e){return{icon:function(){return Object(Be.jsx)(Cs.a,{fontSize:"small"})},tooltip:"Edit",onClick:function(e,t){g(t,!1)}}},function(e){return{icon:function(){return Object(Be.jsx)(zo.a,{fontSize:"small"})},tooltip:"View",onClick:function(e,t){g(t,!0)}}}],options:{pageSize:10,actionsColumnIndex:-1,search:!1,sorting:!0,thirdSortClick:!1},onOrderChange:function(e,a){!function(e,a){var n,r;e>=0&&(n=O[e].field),r=n+":"+a,b((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{_sort:r})})),t.current.onQueryChange()}(e,a)}})]})]})})}),Object(Be.jsx)(io.a,{className:e.backdrop,open:i,children:Object(Be.jsx)(oo.a,{color:"inherit"})})]})}var zl=a(546),Al=a.n(zl),Fl=a(545),Wl=Object(We.a)(so);function El(e){var t=Wl(),a=r.a.createRef(),c=Object(n.useState)({ready_material:null,_sort:"updated_at:desc"}),i=Object(ia.a)(c,2),o=i[0],l=i[1],d=Object(s.useHistory)(),u=Object(n.useState)(!!e.location.state&&e.location.state.view),j=Object(ia.a)(u,1)[0],b=Object(n.useState)(!!e.location.state&&e.location.state.edit),p=(Object(ia.a)(b,1)[0],r.a.useState({show:!1,severity:"",message:""})),h=Object(ia.a)(p,2),m=h[0],x=h[1],O=Object(n.useState)(!1),f=Object(ia.a)(O,2),g=f[0],v=f[1],y=Object(n.useState)({id:null,material_no:"",final_cost:0,add_cost:0,notes:"",final_cost_formatted:0,total_quantity:0,image:null,addNewImageUrl:null,showEditPreviewImage:!1,showAddPreviewImage:!0,isColorVariationAvailable:!1}),_=Object(ia.a)(y,2),w=_[0],C=_[1],S=r.a.useState({}),k=Object(ia.a)(S,2),T=k[0],P=k[1],N=Object(n.useState)(!1),D=Object(ia.a)(N,2),I=D[0],M=D[1];Object(n.useEffect)((function(){e.location.state&&(e.location.state.view||e.location.state.edit)&&e.location.state.data&&R(e.location.state.data)}),[]);var R=function(e){var t=!!(e.images&&e.images.length&&e.images[0].url);C((function(a){return Object(Ze.a)(Object(Ze.a)({},a),{},{material_no:e.material_no,total_quantity:e.total_quantity,add_cost:e.add_cost,final_cost:e.final_cost,final_cost_formatted:yn(parseFloat(e.final_cost).toFixed(2),!0),id:e.id,notes:e.notes,image:t?e.images[0].url:null,showAddPreviewImage:!t,showEditPreviewImage:!!t,isColorVariationAvailable:e.isColorVariationAvailable})})),o.ready_material=e.id,l((function(e){return Object(Ze.a)({},e)})),a.current.onQueryChange()},z=function(e){var t=!0,a=w.final_cost,n=0;if("add_cost"===e.target.name){parseFloat(e.target.value)<0?t=!1:isNaN(parseFloat(e.target.value))||(n=parseFloat(e.target.value));var r=w.add_cost;a-=r,a+=n,C((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{final_cost:a,add_cost:n,final_cost_formatted:yn(a.toFixed(2),!0)})}))}t&&(delete T[e.target.name],P((function(e){return Object(Ze.a)({},e)})),C((function(t){return Object(Ze.a)(Object(Ze.a)({},t),{},Object(ma.a)({},e.target.name,e.target.value))})))},A=function(e){var t=new FormData;return t.append("files.images",w.image),t.append("data",JSON.stringify(e)),t},F=function(){var e=Object(lr.a)(sr.a.mark((function e(){var t,n;return sr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t={material_no:w.material_no,total_quantity:w.total_quantity,final_cost:On(w.final_cost)?0:w.final_cost,add_cost:On(w.add_cost)?0:w.add_cost,notes:w.notes,isColorVariationAvailable:w.isColorVariationAvailable},w.showAddPreviewImage&&w.image&&w.addNewImageUrl&&(t=A(t)),!w.id){e.next=7;break}return e.next=5,rc(Lr,w.id,t,Ke.getToken()).then((function(e){x((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{show:!0,severity:"success",message:"Ready Material Edited Successfully"})})),C((function(t){return Object(Ze.a)(Object(Ze.a)({},t),{},{id:e.data.id})}))})).catch((function(e){var t="";t=e.response.data.hasOwnProperty("message")?e.response.data.message:"Error Adding Raw Material",x((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{show:!0,severity:"error",message:t})}))}));case 5:e.next=10;break;case 7:return n=a.current,e.next=10,ac(Lr,t,Ke.getToken()).then((function(e){l((function(t){return Object(Ze.a)({ready_material:e.data.id},t)})),C((function(t){return Object(Ze.a)(Object(Ze.a)({},t),{},{id:e.data.id})})),n.onQueryChange(),x((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{show:!0,severity:"success",message:"Ready Material Added Successfully"})}))})).catch((function(e){n.onQueryChange();var t="";t=e.response.data.hasOwnProperty("message")?e.response.data.message:"Error Adding Raw Material",x((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{show:!0,severity:"error",message:t})}))}));case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),W=function(){M(!1)},E=function(){var e=Object(lr.a)(sr.a.mark((function e(t,n){var r,c;return sr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=a.current,W(),v(!0),!w.id){e.next=10;break}return c={ready_material:w.id,raw_material:t.id,quantity:0},e.next=7,ac(Qr,c,Ke.getToken()).then((function(e){v(!1)})).catch((function(e){var t="";t=e.response.data.hasOwnProperty("message")?e.response.data.message:"Error Adding Raw Material",x((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{show:!0,severity:"error",message:t})})),v(!1)}));case 7:r.onQueryChange(),e.next=12;break;case 10:v(!1),x((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{show:!0,severity:"error",message:"Ready Material Not added"})}));case 12:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),H=function(){var e=Object(lr.a)(sr.a.mark((function e(t){var a,n;return sr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.persist(),"image/png"!==t.target.files[0].type&&"image/jpeg"!==t.target.files[0].type&&"image/jpg"!==t.target.files[0].type){e.next=17;break}if(a=t.target.files[0],n=URL.createObjectURL(t.target.files[0]),!(t.target.files[0].size<=11e5)){e.next=8;break}n=URL.createObjectURL(t.target.files[0]),e.next=14;break;case 8:return v(!0),e.next=11,B(t.target.files[0]);case 11:n=e.sent,v(!1),n=n.data.link;case 14:C((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{image:a,addNewImageUrl:n,showAddPreviewImage:!0,showEditPreviewImage:!1})})),e.next=18;break;case 17:x((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{show:!0,severity:"error",message:"Image should be in PNG,JPG,JPEG format"})}));case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=function(){var e=Object(lr.a)(sr.a.mark((function e(t){return sr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,a){var n=new FileReader;n.readAsDataURL(t);var r=new Image;n.onload=function(e){r.src=this.result},r.onload=function(){var t=document.createElement("canvas"),a=t.getContext("2d"),n=this.width,c=this.height,i=400,o=500,s=n,l=c;(n>i||c>o)&&(n/c>.8?(s=i,l=Math.round(i*(c/n))):(l=o,s=Math.round(o*(n/c)))),t.width=s,t.height=l,a.clearRect(0,0,s,l),a.drawImage(r,0,0,s,l);var d=t.toDataURL("image/jpeg",.3);e({data:{link:d}})}})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(Be.jsxs)(Ca,{children:[Object(Be.jsx)(ya,{xs:12,sm:12,md:12,children:Object(Be.jsx)(gi,{align:"start",size:"small",onClick:function(){d.push(K)},children:Object(Be.jsx)(Zo.a,{})})}),alert,Object(Be.jsx)(bi,{open:m.show,severity:m.severity,message:m.message,handleClose:function(){x((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{show:!1,severity:"",message:""})}))}}),Object(Be.jsx)(uo,{handleCancel:W,handleClose:W,handleAddRawMaterial:E,open:I}),Object(Be.jsxs)(ya,{xs:12,sm:12,md:10,children:[Object(Be.jsxs)(Vc,{children:[Object(Be.jsxs)(ii,{color:"primary",className:t.cardHeaderStyles,children:[Object(Be.jsx)("h4",{className:t.cardTitleWhite,children:e.header}),Object(Be.jsx)("p",{className:t.cardCategoryWhite})]}),Object(Be.jsxs)(Jc,{children:[Object(Be.jsxs)(Ca,{children:[Object(Be.jsx)(ya,{xs:12,sm:12,md:3,children:Object(Be.jsx)(Jn,{onChange:function(e){return z(e)},labelText:"Material Number",name:"material_no",disabled:j,value:w.material_no,id:"material_no",formControlProps:{fullWidth:!0},helperTextId:"helperText_material_no",isHelperText:zn("material_no",T),helperText:zn("material_no",T)?T.material_no.map((function(e){return e+" "})):null,error:zn("material_no",T)})}),Object(Be.jsx)(ya,{xs:12,sm:12,md:3,children:Object(Be.jsx)(Jn,{labelText:"Final Cost",name:"final_cost_formatted",disabled:!0,value:w.final_cost_formatted,id:"final_cost_formatted",formControlProps:{fullWidth:!0}})}),Object(Be.jsx)(ya,{xs:12,sm:12,md:3,children:Object(Be.jsx)(Jn,{onChange:function(e){return z(e)},type:"number",labelText:"Additional Cost",name:"add_cost",disabled:j,value:w.add_cost,id:"add_cost",formControlProps:{fullWidth:!0},helperTextId:"helperText_add_cost",isHelperText:zn("add_cost",T),helperText:zn("add_cost",T)?T.add_cost.map((function(e){return e+" "})):null,error:zn("add_cost",T)})}),Object(Be.jsx)(ya,{xs:12,sm:12,md:3,children:Object(Be.jsx)(Jn,{onChange:function(e){return z(e)},type:"number",labelText:"Total Quantity",name:"total_quantity",disabled:j,value:w.total_quantity,id:"total_quantity",formControlProps:{fullWidth:!0},helperTextId:"helperText_total_quantity",isHelperText:zn("total_quantity",T),helperText:zn("total_quantity",T)?T.total_quantity.map((function(e){return e+" "})):null,error:zn("total_quantity",T)})})]}),Object(Be.jsx)(Ca,{children:Object(Be.jsx)(ya,{xs:12,sm:3,md:3,className:t.switchBox,children:Object(Be.jsx)("div",{className:t.block,children:Object(Be.jsx)(Qi.a,{control:Object(Be.jsx)(dl.a,{checked:!!w.isColorVariationAvailable,onChange:function(e){C((function(t){return Object(Ze.a)(Object(Ze.a)({},t),{},{isColorVariationAvailable:e.target.checked})}))},disabled:j,classes:{switchBase:t.switchBase,checked:t.switchChecked,thumb:t.switchIcon,track:t.switchBar}}),classes:{label:t.label},label:"Is Color Variation Available?"})})})}),Object(Be.jsxs)(Ca,{children:[Object(Be.jsx)(ya,{xs:12,md:12,lg:12,children:Object(Be.jsx)("div",{className:t.imageDiv,children:!w.showEditPreviewImage&&w.showAddPreviewImage&&w.image?Object(Be.jsx)("img",{src:w.addNewImageUrl,alt:"ready_material_photo",style:{height:"15rem",width:"30rem"},loader:Object(Be.jsx)(oo.a,{}),className:t.UploadImage}):w.showEditPreviewImage||!w.showAddPreviewImage||w.image?w.showEditPreviewImage&&w.image?Object(Be.jsx)(Be.Fragment,{children:Object(Be.jsx)("img",{alt:"ready_material_photo",src:pr+w.image,loader:Object(Be.jsx)(oo.a,{}),style:{height:"15rem",width:"30rem"},className:t.UploadImage})}):null:Object(Be.jsx)("img",{src:xo,alt:"ready_material_photo",style:{height:"15rem",width:"30rem"},loader:Object(Be.jsx)(oo.a,{}),className:t.DefaultNoImage})})}),j?null:Object(Be.jsxs)(ya,{xs:12,md:12,lg:12,children:[Object(Be.jsx)(Vn.a,{fullWidth:!0,id:"ready_material_photo",name:"ready_material_photo",onClick:function(e){e.target.value=null},onChange:H,required:!0,type:"file",inputProps:{accept:"image/*"},variant:"outlined",className:t.inputFile}),Object(Be.jsx)(Ca,{children:Object(Be.jsx)(ya,{xs:12,md:2,lg:2,children:Object(Be.jsx)("label",{htmlFor:"ready_material_photo",children:Object(Be.jsxs)(jc,{variant:"contained",color:"primary",component:"span",startIcon:Object(Be.jsx)(Al.a,{}),children:["Add / Update Image",""]})})})})]})]}),Object(Be.jsx)(Ca,{children:Object(Be.jsx)(ya,{xs:12,sm:12,md:12,children:Object(Be.jsx)(Jn,{labelText:"Notes",id:"notes",name:"notes",disabled:j,onChange:function(e){return z(e)},value:w.notes,formControlProps:{fullWidth:!0},inputProps:{multiline:!0,rows:3}})})}),j?null:Object(Be.jsx)(ai,{children:Object(Be.jsx)(jc,{color:"primary",onClick:function(e){return function(e){e.preventDefault(),v(!0);var t,a=!1;t=Rn(w,Fl),Mn(t)?(v(!1),P({}),a=!0):(v(!1),P(t)),a&&F()}(e)},children:w.id?"Save":"Save and Add Raw Materials"})}),j||!w.id?null:Object(Be.jsx)(Ca,{children:Object(Be.jsx)(ya,{xs:12,sm:12,md:12,children:Object(Be.jsxs)(gi,{color:"primary",size:"medium",variant:"extended",onClick:function(){M(!0)},children:[Object(Be.jsx)(Eo.a,{className:t.extendedIcon}),Object(Be.jsx)("h5",{children:"Add New Raw Material"})]})})}),Object(Be.jsxs)(Be.Fragment,{children:[Object(Be.jsx)(Ca,{children:Object(Be.jsx)(ya,{xs:12,sm:12,md:12,children:Object(Be.jsx)("div",{className:t.typo1,children:Object(Be.jsx)("h5",{className:t.h5,children:"Raw Material List"})})})}),Object(Be.jsx)("br",{})]})]})]}),Object(Be.jsx)(io.a,{className:t.backdrop,open:g,children:Object(Be.jsx)(oo.a,{color:"inherit"})})]})]})}var Hl=a(547),Bl=a.n(Hl),ql=Object(We.a)(so);function Ll(){var e=ql(),t=r.a.createRef(),a=Object(n.useState)({status:!1,designNumber:"",designId:null}),c=Object(ia.a)(a,2),i=c[0],o=c[1],l=Object(s.useHistory)(),d=Object(n.useState)({_sort:"updated_at:desc"}),u=Object(ia.a)(d,2),j=u[0],b=u[1],p=r.a.useState({show:!1,severity:"",message:""}),h=Object(ia.a)(p,2),m=h[0],x=h[1],O=[{title:"Material No",field:"material_no",sorting:!1,align:"center"},{title:"Image",sorting:!1,align:"center",render:function(t){return Object(Be.jsx)("div",{className:e.imageDivInTable,children:t.images&&t.images.length&&t.images[0].url?Object(Be.jsx)("img",{alt:"ready_material_photo",src:pr+t.images[0].url,loader:Object(Be.jsx)(oo.a,{}),style:{height:"5rem",width:"10rem"},className:e.UploadImage}):Object(Be.jsx)("img",{src:xo,alt:"ready_material_photo",style:{height:"5rem",width:"10rem"},loader:Object(Be.jsx)(oo.a,{}),className:e.DefaultNoImage})})}},{title:"Available Stock",cellStyle:{width:300,minWidth:300},render:function(e){var t="";if(e.color_price&&e.color_price.length){var a=e.color_price;t=Object(Be.jsx)(Co,{data:a})}else t=e.stock;return t}}],f=function(){var e=Object(lr.a)(sr.a.mark((function e(t,a){var n;return sr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={page:t,pageSize:a},Object.keys(j).map((function(e){n.hasOwnProperty(e)||(n[e]=j[e])})),e.abrupt("return",new Promise((function(e,t){fetch(Wr+"?"+new URLSearchParams(n),{method:"GET",headers:{"content-type":"application/json",Authorization:"Bearer "+Ke.getToken()}}).then((function(e){if(e.ok)return e.json();if(401!==e.status)throw new Error("Something went wrong");Ke.clearAppStorage(),window.location.href="".concat(hr,"/login")})).then((function(t){e({data:t.data,page:t.page-1,totalCount:t.totalCount})})).catch((function(e){throw e}))})));case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),g=function(){var e=Object(lr.a)(sr.a.mark((function e(a){var n;return sr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.current,e.next=3,cc(Wr,a.id,Ke.getToken()).then((function(e){n&&n.onQueryChange(),x((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{show:!0,severity:"success",message:"Successfully deleted design "+(null===a||void 0===a?void 0:a.material_no)})}))})).catch((function(e){console.log("err ",e),x((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{show:!0,severity:"error",message:"Error deleting design "+(null===a||void 0===a?void 0:a.material_no)})}))}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(Be.jsxs)(Be.Fragment,{children:[Object(Be.jsx)(bi,{open:m.show,severity:m.severity,message:m.message,handleClose:function(){x((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{show:!1,severity:"",message:""})}))}}),Object(Be.jsx)(yo,{handleCancel:function(){return o(!1)},handleClose:function(){return o(!1)},open:i.status,designNumber:i.designNumber,designId:i.designId}),Object(Be.jsx)(Ca,{children:Object(Be.jsx)(ya,{xs:12,sm:12,md:12,children:Object(Be.jsxs)(Vc,{children:[Object(Be.jsxs)(ii,{color:"primary",className:e.cardHeaderStyles,children:[Object(Be.jsx)(Fo.a,{fontSize:"large"}),Object(Be.jsx)("p",{className:e.cardCategoryWhite})]}),Object(Be.jsxs)(Jc,{children:[Object(Be.jsx)(Ca,{children:Object(Be.jsx)(ya,{xs:12,sm:12,md:12,children:Object(Be.jsx)(gi,{color:"primary",align:"end",size:"small",onClick:function(){l.push(ve)},children:Object(Be.jsx)(Eo.a,{})})})}),Object(Be.jsxs)(Ca,{children:[Object(Be.jsx)(ya,{xs:12,sm:3,md:3,children:Object(Be.jsx)(Jn,{onChange:function(e){On(e.target.value)?(delete j.material_no_contains,b((function(e){return Object(Ze.a)({},e)}))):b((function(t){return Object(Ze.a)(Object(Ze.a)({},t),{},{material_no_contains:e.target.value})}))},type:"text",labelText:"Material Number",name:"material_no_contains",noMargin:!0,value:j.material_no_contains||"",id:"material_no_contains",formControlProps:{fullWidth:!0}})}),Object(Be.jsxs)(ya,{xs:12,sm:12,md:4,children:[Object(Be.jsx)(jc,{color:"primary",onClick:function(){t.current.onQueryChange()},children:"Search"}),Object(Be.jsx)(jc,{color:"primary",onClick:function(){delete j.material_no_contains,b((function(e){return Object(Ze.a)({},e)})),t.current.onQueryChange()},children:"Cancel"})]})]}),Object(Be.jsx)("br",{}),Object(Be.jsx)($t,{tableRef:t,title:"Ready Materials",columns:O,data:function(){var e=Object(lr.a)(sr.a.mark((function e(t){return sr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(t.page+1,t.pageSize);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),localization:{body:{editRow:{deleteText:"Are you sure you want to delete this design?",saveTooltip:"Save"}}},actions:[function(e){return{icon:function(){return Object(Be.jsx)(Mo.a,{fontSize:"small"})},tooltip:"Edit",onClick:function(e,t){l.push("".concat(ge,"/").concat(t.id))}}},function(e){return{icon:function(){return Object(Be.jsx)(zo.a,{fontSize:"small",color:"primary"})},tooltip:"View",onClick:function(e,t){l.push("".concat(fe,"/").concat(t.id))}}},function(e){return{icon:function(){return Object(Be.jsx)(Bl.a,{fontSize:"small"})},tooltip:"Duplicate",onClick:function(e,t){o((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{status:!0,designNumber:t.material_no,designId:t.id})}))}}}],editable:{onRowDelete:function(e){return new Promise((function(t){setTimeout(Object(lr.a)(sr.a.mark((function a(){return sr.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:g(e),t();case 2:case"end":return a.stop()}}),a)}))),1e3)}))}},options:{pageSize:10,actionsColumnIndex:-1,search:!1,sorting:!0,thirdSortClick:!1},onOrderChange:function(e,a){!function(e,a){var n,r;e>=0&&(n=O[e].field),r=n+":"+a,b((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{_sort:r})})),t.current.onQueryChange()}(e,a)}})]})]})})})]})}var Ql=a(549),Yl=a.n(Ql),Ul=a(548),Vl=Object(We.a)(so);function $l(e){var t=Vl(),a=Object(s.useHistory)(),c=Object(n.useState)(e.isEdit?e.isEdit:null),i=Object(ia.a)(c,1)[0],o=Object(n.useState)(e.isView?e.isView:null),l=Object(ia.a)(o,1)[0],d=Object(n.useState)(e.id?e.id:null),u=Object(ia.a)(d,2),j=u[0],b=u[1],p=Object(n.useState)([]),h=Object(ia.a)(p,2),m=h[0],x=h[1],O=r.a.useState({show:!1,severity:"",message:""}),f=Object(ia.a)(O,2),g=f[0],v=f[1],y=Object(n.useState)(!1),_=Object(ia.a)(y,2),w=_[0],C=_[1],S=Object(n.useState)({material_no:"",add_price:0,notes:"",material_price:0,colors:[],image:null,addNewImageUrl:null,showEditPreviewImage:!1,showAddPreviewImage:!0,color_price:[]}),k=Object(ia.a)(S,2),T=k[0],P=k[1],N=r.a.useState({}),D=Object(ia.a)(N,2),I=D[0],M=D[1];Object(n.useEffect)((function(){(i||l)&&j&&z(j),R()}),[]);var R=function(){var e=Object(lr.a)(sr.a.mark((function e(){return sr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C(!0),e.next=3,tc(Tr,{pageSize:"-1"},Ke.getToken()).then((function(e){x(e.data.data),C(!1)})).catch((function(e){C(!1)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),z=function(){var e=Object(lr.a)(sr.a.mark((function e(t){var n;return sr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C(!0),n=!1,e.next=4,tc(Wr+"/"+t,{},Ke.getToken()).then((function(e){200===e.status?A(e.data):n=!0})).catch((function(e){C(!1),n=!0}));case 4:n&&a.push(Fe);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=function(e){var t=!!(e.images&&e.images.length&&e.images[0].url);P((function(a){return Object(Ze.a)(Object(Ze.a)({},a),{},{material_no:e.material_no,add_price:e.add_price,id:e.id,notes:e.notes,material_price:e.material_price,colors:e.colors,image:t?e.images[0].url:null,showAddPreviewImage:!t,showEditPreviewImage:!!t,isColorVariationAvailable:e.isColorVariationAvailable,color_price:e.color_price})}))},F=function(e){var t=!0;"add_price"===e.target.name&&(isNaN(parseFloat(e.target.value))||!isNaN(parseFloat(e.target.value))&&parseFloat(e.target.value)<0)&&(t=!1,M((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{add_price:["Additional price should be a number and cannot be negative"]})}))),P((function(t){return Object(Ze.a)(Object(Ze.a)({},t),{},Object(ma.a)({},e.target.name,e.target.value))})),t&&(delete I[e.target.name],M((function(e){return Object(Ze.a)({},e)})))},W=function(e){var t=new FormData;return t.append("files.images",T.image),t.append("data",JSON.stringify(e)),t},E=function(){var e=Object(lr.a)(sr.a.mark((function e(){var t;return sr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t={material_no:T.material_no,total_price:On(T.total_price)?0:T.total_price,add_price:On(T.add_price)?0:T.add_price,material_price:On(T.material_price)?0:T.material_price,notes:T.notes,colors:T.colors},T.showAddPreviewImage&&T.image&&T.addNewImageUrl&&(t=W(t)),!j){e.next=7;break}return e.next=5,rc(Wr,j,t,Ke.getToken()).then((function(e){v((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{show:!0,severity:"success",message:"Design Edited Successfully"})})),b(j),z(j),C(!1)})).catch((function(e){C(!1);var t="";t=e.response.data.hasOwnProperty("message")?e.response.data.message:"Error Adding Design",v((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{show:!0,severity:"error",message:t})}))}));case 5:e.next=9;break;case 7:return e.next=9,ac(Wr,t,Ke.getToken()).then((function(e){b(e.data.id),z(e.data.id),v((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{show:!0,severity:"success",message:"Design Added Successfully"})})),C(!1)})).catch((function(e){C(!1);var t="";t=e.response.data.hasOwnProperty("message")?e.response.data.message:"Error Adding Design",v((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{show:!0,severity:"error",message:t})}))}));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),H=function(){var e=Object(lr.a)(sr.a.mark((function e(t){var a,n;return sr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.persist(),"image/png"!==t.target.files[0].type&&"image/jpeg"!==t.target.files[0].type&&"image/jpg"!==t.target.files[0].type){e.next=17;break}if(a=t.target.files[0],n=URL.createObjectURL(t.target.files[0]),!(t.target.files[0].size<=11e5)){e.next=8;break}n=URL.createObjectURL(t.target.files[0]),e.next=14;break;case 8:return C(!0),e.next=11,B(t.target.files[0]);case 11:n=e.sent,C(!1),n=n.data.link;case 14:P((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{image:a,addNewImageUrl:n,showAddPreviewImage:!0,showEditPreviewImage:!1})})),e.next=18;break;case 17:v((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{show:!0,severity:"error",message:"Image should be in PNG,JPG,JPEG format"})}));case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=function(){var e=Object(lr.a)(sr.a.mark((function e(t){return sr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,a){var n=new FileReader;n.readAsDataURL(t);var r=new Image;n.onload=function(e){r.src=this.result},r.onload=function(){var t=document.createElement("canvas"),a=t.getContext("2d"),n=this.width,c=this.height,i=400,o=500,s=n,l=c;(n>i||c>o)&&(n/c>.8?(s=i,l=Math.round(i*(c/n))):(l=o,s=Math.round(o*(n/c)))),t.width=s,t.height=l,a.clearRect(0,0,s,l),a.drawImage(r,0,0,s,l);var d=t.toDataURL("image/jpeg",.3);e({data:{link:d}})}})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(Be.jsxs)(Ca,{children:[Object(Be.jsx)(ya,{xs:12,sm:12,md:12,children:Object(Be.jsx)(gi,{align:"start",size:"small",onClick:function(){a.push(ye)},children:Object(Be.jsx)(Zo.a,{})})}),alert,Object(Be.jsx)(bi,{open:g.show,severity:g.severity,message:g.message,handleClose:function(){v((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{show:!1,severity:"",message:""})}))}}),Object(Be.jsxs)(ya,{xs:12,sm:12,md:10,children:[Object(Be.jsxs)(Vc,{children:[Object(Be.jsxs)(ii,{color:"primary",className:t.cardHeaderStyles,children:[Object(Be.jsx)("h4",{className:t.cardTitleWhite,children:e.header}),Object(Be.jsx)("p",{className:t.cardCategoryWhite})]}),Object(Be.jsxs)(Jc,{children:[Object(Be.jsxs)(Ca,{children:[Object(Be.jsxs)(ya,{xs:12,md:12,lg:12,style:{overflowX:"auto"},children:[Object(Be.jsx)(Vn.a,{fullWidth:!0,id:"ready_material_photo",name:"ready_material_photo",onClick:function(e){e.target.value=null},onChange:H,required:!0,type:"file",inputProps:{accept:"image/*"},variant:"outlined",className:t.inputFile}),Object(Be.jsxs)("div",{className:t.imageDiv,children:[!T.showEditPreviewImage&&T.showAddPreviewImage&&T.image?Object(Be.jsx)("img",{src:T.addNewImageUrl,alt:"ready_material_photo",style:{height:"15rem",width:"30rem"},loader:Object(Be.jsx)(oo.a,{}),className:t.UploadImage}):T.showEditPreviewImage||!T.showAddPreviewImage||T.image?T.showEditPreviewImage&&T.image?Object(Be.jsx)(Be.Fragment,{children:Object(Be.jsx)("img",{alt:"ready_material_photo",src:pr+T.image,loader:Object(Be.jsx)(oo.a,{}),style:{height:"15rem",width:"30rem"},className:t.UploadImage})}):null:Object(Be.jsx)("img",{src:xo,alt:"ready_material_photo",style:{height:"15rem",width:"30rem"},loader:Object(Be.jsx)(oo.a,{}),className:t.DefaultNoImage}),Object(Be.jsx)("label",{htmlFor:"ready_material_photo",children:Object(Be.jsx)(jc,{component:"span",className:T.image?t.editIconOnImage:t.addIconOnImage,children:T.image?Object(Be.jsx)(Mo.a,{fontSize:"small"}):Object(Be.jsx)(Eo.a,{fontSize:"small"})})}),T.image&&Object(Be.jsx)("label",{htmlFor:"",children:Object(Be.jsx)(jc,{component:"span",className:t.deleteIconOnImage,onClick:function(e){P((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{image:null,showAddPreviewImage:!0,showEditPreviewImage:!1,addNewImageUrl:null})}))},children:Object(Be.jsx)(Yl.a,{fontSize:"small"})})})]})]}),l?null:Object(Be.jsx)(ya,{xs:12,md:12,lg:12})]}),Object(Be.jsxs)(Ca,{children:[Object(Be.jsx)(ya,{xs:12,sm:12,md:3,children:Object(Be.jsx)(Jn,{onChange:function(e){return F(e)},labelText:"Material / Design Number",name:"material_no",disabled:l,value:T.material_no,id:"material_no",formControlProps:{fullWidth:!0},helperTextId:"helperText_material_no",isHelperText:zn("material_no",I),helperText:zn("material_no",I)?I.material_no.map((function(e){return e+" "})):null,error:zn("material_no",I)})}),Object(Be.jsx)(ya,{xs:12,sm:12,md:3,children:Object(Be.jsx)(Jn,{onChange:function(e){return F(e)},type:"number",labelText:"Additional Price",name:"add_price",disabled:l,value:T.add_price,id:"add_price",formControlProps:{fullWidth:!0},helperTextId:"helperText_add_price",isHelperText:zn("add_price",I),helperText:zn("add_price",I)?I.add_price.map((function(e){return e+" "})):null,error:zn("add_price",I)})})]}),Object(Be.jsx)(Ca,{children:Object(Be.jsx)(ya,{xs:12,sm:6,md:6,children:Object(Be.jsx)(Do,{disabled:l,options:m,selected:T.colors,handleChange:function(e,t){P((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{colors:t})}))},name:"Select Color",optionKey:"name",helperTextId:"helperText_colors",isHelperText:zn("colors",I),helperText:zn("colors",I)?I.colors.map((function(e){return e+" "})):null,error:zn("colors",I)})})}),Object(Be.jsx)(Ca,{children:Object(Be.jsx)(ya,{xs:12,sm:12,md:12,children:Object(Be.jsx)(Jn,{labelText:"Notes",id:"notes",name:"notes",disabled:l,onChange:function(e){return F(e)},value:T.notes,formControlProps:{fullWidth:!0},inputProps:{multiline:!0,rows:3}})})}),l?null:Object(Be.jsxs)(Ca,{children:[Object(Be.jsx)(xa.a,{item:!0,children:Object(Be.jsx)(jc,{color:"primary",onClick:function(e){return function(e){e.preventDefault(),C(!0);var t,a=!1;t=Rn(T,Ul),Mn(t)?(C(!1),M({}),a=!0):(C(!1),M(t)),a&&E()}(e)},children:j?"Save":"Save and Add Materials"})}),i&&j&&Object(Be.jsx)(Be.Fragment,{children:Object(Be.jsx)(xa.a,{item:!0,children:Object(Be.jsx)(jc,{color:"primary",onClick:function(e){a.push({pathname:"".concat(ge).concat(ke,"/").concat(j)})},children:"Select Raw Material"})})})]})]})]}),Object(Be.jsx)(io.a,{className:t.backdrop,open:w,children:Object(Be.jsx)(oo.a,{color:"inherit"})})]})]})}var Gl=a(550),Kl=a.n(Gl),Zl=a(129),Jl=a(804);function Xl(e){var t,a=Object(We.a)(so),c=Object(Zl.a)(),i=a(),o=r.a.useState({}),l=Object(ia.a)(o,2),d=l[0],u=l[1],j=Object(s.useHistory)(),b=r.a.createRef(),p=Object(n.useState)(!1),h=Object(ia.a)(p,2),m=h[0],x=h[1],O=Object(n.useState)([]),f=Object(ia.a)(O,2),g=f[0],v=f[1],y=Object(n.useState)(null===e||void 0===e||null===(t=e.designData)||void 0===t?void 0:t.colors),_=Object(ia.a)(y,1)[0],w=Object(Jl.a)(c.breakpoints.down("md")),C=Object(n.useState)({_sort:"updated_at:desc",isRawMaterial:null===e||void 0===e?void 0:e.isRawMaterial,isColor:!1,design:null===e||void 0===e?void 0:e.id}),S=Object(ia.a)(C,2),k=S[0],T=S[1],P=r.a.useState({show:!1,severity:"",message:""}),N=Object(ia.a)(P,2),D=N[0],I=N[1],M=Object(n.useState)(!1),R=Object(ia.a)(M,2),z=R[0],A=R[1],F=Object(n.useState)(!1),W=Object(ia.a)(F,2),E=W[0],H=W[1],B=Object(n.useState)(!1),q=Object(ia.a)(B,2),L=q[0],Q=q[1],Y=Object(n.useState)({}),U=Object(ia.a)(Y,2),V=U[0],$=U[1];Object(n.useEffect)((function(){G()}),[]);var G=function(){var e=Object(lr.a)(sr.a.mark((function e(){return sr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),e.next=3,tc(gr,{pageSize:-1},Ke.getToken()).then((function(e){v(e.data.data),x(!1)})).catch((function(e){}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),K=[{title:"Raw Material",editable:"never",sorting:!1,align:"center",render:function(e){var t,a;return(null===e||void 0===e?void 0:e.totalRow)?"":(null===e||void 0===e||null===(t=e.raw_material)||void 0===t?void 0:t.name)?null===e||void 0===e||null===(a=e.raw_material)||void 0===a?void 0:a.name:"---"}},{title:"Price Per Piece",editable:"never",sorting:!1,headerStyle:{textAlign:"center"},cellStyle:{textAlign:"right"},render:function(e){var t,a,n,r=null===e||void 0===e||null===(t=e.raw_material)||void 0===t||null===(a=t.unit)||void 0===a?void 0:a.name,c="";(null===e||void 0===e?void 0:e.totalRow)?c="":c=!(null===e||void 0===e?void 0:e.price_per_piece)||On(null===e||void 0===e?void 0:e.price_per_piece)?yn(null===e||void 0===e||null===(n=e.raw_material)||void 0===n?void 0:n.costing,!0,!0," /"+r):null===e||void 0===e?void 0:e.price_per_piece;return c}},{title:"Quantity",field:"quantity",headerStyle:{textAlign:"center"},cellStyle:{textAlign:"right"},sorting:!1,render:function(e){var t,a,n=null===e||void 0===e||null===(t=e.raw_material)||void 0===t||null===(a=t.unit)||void 0===a?void 0:a.name;return(null===e||void 0===e?void 0:e.totalRow)?"":e.quantity+" ("+n+")"},editComponent:function(e){var t,a,n,r=null===(t=e.rowData)||void 0===t||null===(a=t.raw_material)||void 0===a||null===(n=a.unit)||void 0===n?void 0:n.name;return Object(Be.jsx)(Jn,{onChange:function(t){return e.onChange(t.target.value)},type:"number",labelText:"Quantity",name:"quantity",value:e.value,id:"quantity",noMargin:!0,formControlProps:{fullWidth:!0},inputProps:{endAdornment:Object(Be.jsx)(es.a,{position:"end",children:On(r)?"":r})}})}},{title:"Total Cost",editable:"never",headerStyle:{textAlign:"center"},cellStyle:{textAlign:"right"},sorting:!1,render:function(e){return yn(e.total_price,!0)}}],Z=[{title:"Ready Material",editable:"never",sorting:!1,render:function(e){var t;return(null===e||void 0===e?void 0:e.totalRow)?"":null===e||void 0===e||null===(t=e.ready_material)||void 0===t?void 0:t.material_no}},{title:"Price Per Piece",editable:"never",sorting:!1,render:function(e){var t,a="";(null===e||void 0===e?void 0:e.totalRow)?a="":a=!(null===e||void 0===e?void 0:e.price_per_piece)||On(null===e||void 0===e?void 0:e.price_per_piece)?null===e||void 0===e||null===(t=e.ready_material)||void 0===t?void 0:t.price_per_piece:null===e||void 0===e?void 0:e.price_per_piece;return a}},{title:"Quantity",sorting:!1,render:function(e){return(null===e||void 0===e?void 0:e.totalRow)?"":e.quantity},editComponent:function(e){return Object(Be.jsx)(Jn,{onChange:function(t){return e.onChange(t.target.value)},type:"number",labelText:"Quantity",name:"quantity",value:e.value,id:"quantity",noMargin:!0,formControlProps:{fullWidth:!0}})}},{title:"Total Cost",editable:"never",sorting:!1,render:function(e){return yn(null===e||void 0===e?void 0:e.total_price,!0)}}],J=function(){var e=Object(lr.a)(sr.a.mark((function e(t,a){var n;return sr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={page:t,pageSize:a},Object.keys(k).map((function(e){n.hasOwnProperty(e)||(n[e]=k[e])})),e.abrupt("return",new Promise((function(e,t){fetch(qr+"?"+new URLSearchParams(n),{method:"GET",headers:{"content-type":"application/json",Authorization:"Bearer "+Ke.getToken()}}).then((function(e){if(e.ok)return e.json();if(401!==e.status)throw new Error("Something went wrong");Ke.clearAppStorage(),window.location.href="".concat(hr,"/login")})).then((function(t){e({data:Object(Ta.a)(t.data),page:t.page-1,totalCount:t.totalCount})})).catch((function(e){throw e}))})));case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),X=function(){var t=Object(lr.a)(sr.a.mark((function t(a,n){var r,c,i,o,s;return sr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=b.current,c=Sn(a.quantity),i=!1,(isNaN(c)||c<=0)&&(i=!0),!i){t.next=8;break}I((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{show:!0,severity:"error",message:"Quantity should be a positive number"})})),t.next=11;break;case 8:return s={total_price:c*Sn(null===a||void 0===a||null===(o=a.raw_material)||void 0===o?void 0:o.costing),quantity:c},t.next=11,rc(qr,a.id,s,Ke.getToken()).then((function(t){r&&r.onQueryChange(),e.updateDesign(),I((function(e){var t;return Object(Ze.a)(Object(Ze.a)({},e),{},{show:!0,severity:"success",message:"Successfully updated "+(null===n||void 0===n||null===(t=n.raw_material)||void 0===t?void 0:t.name)})}))})).catch((function(e){I((function(e){var t;return Object(Ze.a)(Object(Ze.a)({},e),{},{show:!0,severity:"error",message:"Error updating quantity of "+(null===n||void 0===n||null===(t=n.raw_material)||void 0===t?void 0:t.name)})}))}));case 11:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),ee=function(){var t=Object(lr.a)(sr.a.mark((function t(a){var n;return sr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=b.current,t.next=3,cc(qr,a.id,Ke.getToken()).then(function(){var t=Object(lr.a)(sr.a.mark((function t(r){return sr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n&&n.onQueryChange(),e.updateDesign(),I((function(e){var t;return Object(Ze.a)(Object(Ze.a)({},e),{},{show:!0,severity:"success",message:"Successfully deleted "+(null===a||void 0===a||null===(t=a.raw_material)||void 0===t?void 0:t.name)})}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){I((function(e){var t;return Object(Ze.a)(Object(Ze.a)({},e),{},{show:!0,severity:"error",message:"Error deleting "+(null===a||void 0===a||null===(t=a.raw_material)||void 0===t?void 0:t.name)})}))}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),te=function(){k.isRawMaterial?A(!1):H(!1)},ae=function(){var t=Object(lr.a)(sr.a.mark((function t(a){var n,r,c,i,o=arguments;return sr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o.length>1&&void 0!==o[1]?o[1]:{},n=o.length>2&&void 0!==o[2]?o[2]:1,r=b.current,te(),x(!0),!k.design){t.next=12;break}return c=Sn(n)?Sn(n):1,i={raw_material:a.id,ready_material:null,design:k.design,color:(null===k||void 0===k?void 0:k.isColor)?null===k||void 0===k?void 0:k.color:null,quantity:c,price_per_piece:Sn(a.costing),total_price:Sn(a.costing)*c,isRawMaterial:!!(null===k||void 0===k?void 0:k.isRawMaterial),isColor:!!(null===k||void 0===k?void 0:k.isColor)},t.next=10,ac(qr,i,Ke.getToken()).then((function(t){x(!1),r&&r.onQueryChange(),e.updateDesign(),I((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{show:!0,severity:"success",message:"".concat(k.isRawMaterial?"Raw":"Ready"," Material added successfully")})}))})).catch((function(e){var t="";t=e.response.data.hasOwnProperty("message")?e.response.data.message:"Error adding ".concat(k.isRawMaterial?"Raw":"Ready"," Material"),I((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{show:!0,severity:"error",message:t})})),x(!1)}));case 10:t.next=14;break;case 12:x(!1),I((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{show:!0,severity:"error",message:"".concat(k.isRawMaterial?"Raw":"Ready"," Material Not added")})}));case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(Be.jsxs)(Be.Fragment,{children:[Object(Be.jsx)(bi,{open:D.show,severity:D.severity,message:D.message,handleClose:function(){I((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{show:!1,severity:"",message:""})}))}}),Object(Be.jsx)(ho,{handleCancel:function(){return Q(!1)},handleClose:function(){return Q(!1)},handleAddCategory:function(e){delete d.category,u((function(e){return Object(Ze.a)({},e)})),$((function(t){return Object(Ze.a)(Object(Ze.a)({},t),{},{categoryName:e.name})})),T((function(t){return Object(Ze.a)(Object(Ze.a)({},t),{},{"raw_material.category":e.id})})),Q(!1)},open:L}),Object(Be.jsx)(uo,{handleCancel:te,handleClose:te,handleAddRawMaterial:ae,open:z,filterId:k.design,filterBy:"design",isAcceptQuantity:!0}),Object(Be.jsx)(fo,{handleCancel:te,handleClose:te,handleAddReadyMaterial:ae,open:E,filterId:k.design,filterBy:"design"}),Object(Be.jsx)(Ca,{children:Object(Be.jsxs)(ya,{xs:12,sm:12,md:12,children:[Object(Be.jsxs)(Ca,{children:[Object(Be.jsxs)(ya,{xs:12,sm:12,md:12,style:{display:"flex",justifyContent:"space-between"},children:[Object(Be.jsx)(gi,{color:"primary",align:"start",size:"small",toolTip:"Back to design",onClick:function(){j.push({pathname:"".concat(ge,"/").concat(k.design)})},children:Object(Be.jsx)(Kl.a,{})}),Object(Be.jsx)(gi,{color:"primary",align:"end",size:"small",toolTip:"Add ready material",onClick:function(){k.isRawMaterial?A(!0):H(!0)},children:Object(Be.jsx)(Eo.a,{})})]}),Object(Be.jsx)(ya,{xs:12,sm:12,md:3,style:{marginLeft:"auto"},children:Object(Be.jsx)(ir,{id:"color",labelText:"Select Color",autocompleteId:"color",optionKey:"name",options:_,formControlProps:{fullWidth:!0},noMarginTop:!0,onChange:function(t,a){null!==a?(T((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{isColor:!0,color:a.id})})),e.setColor(!0,a)):(delete k.color,T((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{isColor:!1})})),e.setColor(!1,null)),b.current.onQueryChange()},value:_[_.findIndex((function(e,t){return e.id===k.color}))]||null})})]}),Object(Be.jsx)("br",{}),Object(Be.jsxs)(Ca,{children:[k.isRawMaterial?Object(Be.jsxs)(Be.Fragment,{children:[Object(Be.jsx)(ya,{xs:12,sm:2,md:2,children:Object(Be.jsx)(Jn,{onChange:function(e){On(e.target.value)?(delete k["raw_material.name_contains"],T((function(e){return Object(Ze.a)({},e)}))):T((function(t){return Object(Ze.a)(Object(Ze.a)({},t),{},{"raw_material.name_contains":e.target.value})}))},type:"text",labelText:"Raw Material Name",name:"raw_material.name_contains",noMargin:!0,value:k["raw_material.name_contains"],id:"raw_material.name_contains",formControlProps:{fullWidth:!0}})}),Object(Be.jsx)(ya,{xs:12,sm:12,md:2,children:Object(Be.jsx)(ir,{id:"department-name",labelText:"Department",autocompleteId:"department",optionKey:"name",options:g,formControlProps:{fullWidth:!0},noMarginTop:!0,onChange:function(e,t){null!==t?T((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{"raw_material.department":t.id})})):(delete k.department,T((function(e){return Object(Ze.a)({},e)})))},value:g[g.findIndex((function(e,t){return e.id===k["raw_material.department"]}))]||null})}),Object(Be.jsx)(ya,{xs:12,sm:12,md:3,style:{padding:"0px 15px",marginTop:w?"20px":"0px"},children:Object(Be.jsxs)(Ca,{style:{border:"1px solid #C0C0C0",borderRadius:"10px"},children:[Object(Be.jsx)(ya,{xs:8,sm:8,md:8,style:{margin:"15px 0px 0px"},children:Object(Be.jsx)(Ca,{style:{dispay:"flex"},children:Object(Be.jsxs)(ya,{xs:12,sm:12,md:12,children:[Object(Be.jsx)("b",{children:"Category : "})," ",null===V||void 0===V?void 0:V.categoryName]})})}),Object(Be.jsx)(ya,{xs:1,sm:1,md:1,children:Object(Be.jsx)(mi.a,{title:k["raw_material.category"]?"Change Category ":"Select Category",children:Object(Be.jsx)(la.a,{onClick:function(){Q(!0)},children:Object(Be.jsx)(Mo.a,{})})})}),Object(Be.jsx)(ya,{xs:1,sm:1,md:1,children:Object(Be.jsx)(la.a,{onClick:function(){delete V.categoryName,$((function(e){return Object(Ze.a)({},e)})),delete k["raw_material.category"],T((function(e){return Object(Ze.a)({},e)}))},children:Object(Be.jsx)(Go.a,{})})})]})}),Object(Be.jsx)(ya,{xs:12,sm:2,md:2,className:i.switchBox,children:Object(Be.jsx)("div",{className:i.block,children:Object(Be.jsx)(Qi.a,{control:Object(Be.jsx)(dl.a,{checked:!!k["raw_material.is_die"],onChange:function(e){e.target.checked?T((function(t){return Object(Ze.a)(Object(Ze.a)({},t),{},{"raw_material.is_die":e.target.checked})})):(delete k["raw_material.is_die"],T((function(e){return Object(Ze.a)({},e)})))},classes:{switchBase:i.switchBase,checked:i.switchChecked,thumb:i.switchIcon,track:i.switchBar}}),classes:{label:i.label},label:"Search Only Die's"})})})]}):null,Object(Be.jsxs)(ya,{xs:12,sm:12,md:3,children:[Object(Be.jsx)(jc,{color:"primary",onClick:function(){b.current.onQueryChange()},children:"Search"}),Object(Be.jsx)(jc,{color:"primary",onClick:function(){delete k["raw_material.is_die"],delete k["raw_material.name_contains"],delete k["raw_material.department"],delete k["raw_material.category"],delete V.categoryName,$((function(e){return Object(Ze.a)({},e)})),T((function(e){return Object(Ze.a)({},e)})),b.current.onQueryChange()},children:"Cancel"})]})]}),Object(Be.jsx)("br",{}),Object(Be.jsx)($t,{tableRef:b,title:"Raw Materials",columns:k.isRawMaterial?K:Z,data:function(){var e=Object(lr.a)(sr.a.mark((function e(t){return sr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J(t.page+1,t.pageSize);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),localization:{body:{editRow:{deleteText:"Are you sure you want to delete this ".concat((null===k||void 0===k?void 0:k.isRawMaterial)?"Raw":"Ready"," Material?"),saveTooltip:"Save"}}},editable:{onRowUpdate:function(e,t){return new Promise((function(a,n){setTimeout(Object(lr.a)(sr.a.mark((function n(){return sr.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:X(e,t),a();case 2:case"end":return n.stop()}}),n)}))),1e3)}))},onRowDelete:function(e){return new Promise((function(t){setTimeout(Object(lr.a)(sr.a.mark((function a(){return sr.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:ee(e),t();case 2:case"end":return a.stop()}}),a)}))),1e3)}))}},detailPanel:function(e){return e.totalRow?null:Object(Be.jsx)(Ca,{children:Object(Be.jsx)(ya,{xs:12,sm:12,md:6,children:Object(Be.jsx)(Sa,{raw_material:e.raw_material})})})},options:{pageSizeOptions:[20],pageSize:20,actionsColumnIndex:-1,search:!1,sorting:!0,thirdSortClick:!1,headerStyle:{fontFamily:"Montserrat",fontWeight:500,color:"#8A8A97",borderBottom:"solid #E0E0E0 2px",fontSize:"1rem"},paginationStyle:{justifyContent:"center"},rowStyle:function(e){var t,a,n,r,c=!1,i={};0===(null===b||void 0===b||null===(t=b.current)||void 0===t||null===(a=t.state)||void 0===a?void 0:a.currentPage)&&(c=!0,(null===(r=b.current.state.data)||void 0===r?void 0:r.length)&&(i=b.current.state.data[0]));return{backgroundColor:c&&(null===(n=i)||void 0===n?void 0:n.id)&&i.id===e.id?"#d3d2d2":"#FFFFFF"}}}})]})}),Object(Be.jsx)(io.a,{className:i.backdrop,open:m,children:Object(Be.jsx)(oo.a,{color:"inherit"})})]})}var ed=Object(We.a)(so),td=function(e){var t,a=Object(n.useState)([]),c=Object(ia.a)(a,2),i=c[0],o=c[1],l=ed(),d=Object(s.useHistory)(),u=Object(n.useState)(e.isView?e.isView:null),j=Object(ia.a)(u,1)[0],b=Object(n.useState)(e.id?e.id:null),p=Object(ia.a)(b,2),h=p[0],m=(p[1],Object(n.useState)(!1)),x=Object(ia.a)(m,2),O=x[0],f=x[1],g=Object(n.useState)({}),v=Object(ia.a)(g,2),y=v[0],_=v[1],w=Object(n.useState)({}),C=Object(ia.a)(w,2),S=C[0],k=C[1];Object(n.useEffect)((function(){j&&h&&N(h)}),[]);var T=[{title:"Name",field:"raw_material.name",sorting:!0,align:"left"},{title:"Size",field:"raw_material.size",sorting:!0,align:"left"},{title:"Quantity",field:"quantity",sorting:!0,align:"left",render:function(e){var t,a,n=null===e||void 0===e||null===(t=e.raw_material)||void 0===t||null===(a=t.unit)||void 0===a?void 0:a.name;return e.quantity+" ("+n+")"}}],P=[{title:"Bandhai",field:"raw_material.name",sorting:!0,align:"left"},{title:"Size",field:"raw_material.size",sorting:!0,align:"left"},{title:"Quantity",field:"quantity",sorting:!0,align:"left",render:function(e){var t,a,n=null===e||void 0===e||null===(t=e.raw_material)||void 0===t||null===(a=t.unit)||void 0===a?void 0:a.name;return e.quantity+" ("+n+")"}}],N=function(){var e=Object(lr.a)(sr.a.mark((function e(t){var a;return sr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),a=!1,e.next=4,tc(Er+"/"+t,{},Ke.getToken()).then((function(e){if(200===e.status){var t,n;_(e.data);var r=null===(t=e.data)||void 0===t?void 0:t.designData.colors.map((function(e){return e.id}));k(null===(n=e.data)||void 0===n?void 0:n.commonRawMaterials),o(r)}else a=!0;f(!1)})).catch((function(e){f(!1),a=!0}));case 4:a&&(f(!1),d.push(Fe));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(Be.jsxs)(Ca,{children:[Object(Be.jsx)(ya,{xs:12,sm:12,md:12,children:Object(Be.jsx)(gi,{color:"primary",align:"start",size:"small",onClick:function(){d.push(ye)},children:Object(Be.jsx)(Zo.a,{})})}),Object(Be.jsxs)(ya,{xs:12,sm:12,md:12,children:[Object(Be.jsx)(wo.a,{variant:"h2",gutterBottom:!0,component:"div",sx:{fontSize:40},children:null===y||void 0===y||null===(t=y.designData)||void 0===t?void 0:t.material_no}),Object(Be.jsx)(wo.a,{variant:"h2",gutterBottom:!0,component:"div",sx:{fontSize:18,mt:-1,mb:3},children:"Design Sheet"})]}),Object(Be.jsxs)(ya,{xs:12,sm:12,md:12,children:[Object(Be.jsx)(ya,{xs:12,sm:12,md:7}),Object(Be.jsx)(ya,{xs:12,sm:12,md:5})]}),Object.keys(S).length?Object(Be.jsxs)(Be.Fragment,{children:[Object(Be.jsx)(ya,{xs:12,sm:12,md:8,children:(null===S||void 0===S?void 0:S.commonMaterialsWithoutDie)&&Object(Be.jsx)(Be.Fragment,{children:Object(Be.jsx)($t,{columns:T,data:S.commonMaterialsWithoutDie,options:{paging:!1}})})}),Object(Be.jsx)(ya,{xs:12,sm:12,md:4,children:(null===S||void 0===S?void 0:S.commonMaterialsWithDie)&&Object(Be.jsx)(Be.Fragment,{children:Object(Be.jsx)($t,{columns:[{title:"Die",field:"raw_material.name",sorting:!0,align:"left"},{title:"Quantity",field:"quantity",sorting:!0,align:"left",render:function(e){var t,a,n=null===e||void 0===e||null===(t=e.raw_material)||void 0===t||null===(a=t.unit)||void 0===a?void 0:a.name;return e.quantity+" ("+n+")"}}],data:S.commonMaterialsWithDie,options:{paging:!1}})})}),Object(Be.jsx)(ya,{xs:12,sm:12,md:4,style:{marginTop:"30px"},children:(null===S||void 0===S?void 0:S.commonMotiBandhaiMaterial)&&S.commonMotiBandhaiMaterial.length?Object(Be.jsx)(Be.Fragment,{children:Object(Be.jsx)($t,{columns:P,data:S.commonMotiBandhaiMaterial,options:{paging:!1}})}):null}),i.map((function(e,t){var a,n,c,i;return Object(Be.jsxs)(r.a.Fragment,{children:[Object(Be.jsx)(ya,{xs:12,sm:12,md:12,style:{textAlign:"center",marginTop:"30px"},children:Object(Be.jsxs)(wo.a,{variant:"h2",gutterBottom:!0,component:"div",sx:{fontSize:15,pb:2,pt:2},children:[Object(Be.jsx)("b",{children:"Ratio: "}),y[e].colorName]})}),Object(Be.jsx)(ya,{xs:12,sm:12,md:6,children:(null===(a=y[e])||void 0===a?void 0:a.colorMaterial)&&Object(Be.jsx)(Be.Fragment,{children:Object(Be.jsx)($t,{columns:T,data:null===(n=y[e])||void 0===n?void 0:n.colorMaterial,options:{paging:!1}})})}),Object(Be.jsx)(ya,{xs:12,sm:12,md:6,children:(null===(c=y[e])||void 0===c?void 0:c.colorBandhaiMaterials)&&Object(Be.jsx)(Be.Fragment,{children:Object(Be.jsx)($t,{columns:P,data:null===(i=y[e])||void 0===i?void 0:i.colorBandhaiMaterials,options:{paging:!1}})})})]},t)}))]}):"No data to show",Object(Be.jsx)(io.a,{className:l.backdrop,open:O,children:Object(Be.jsx)(oo.a,{color:"inherit"})})]})},ad=a(182),nd=Object(We.a)(so);function rd(){var e=r.a.createRef(),t=Object(s.useHistory)(),a=Object(n.useState)({_sort:"date:desc"}),c=Object(ia.a)(a,2),i=c[0],o=c[1],l=nd(),d=Object(n.useState)(!1),u=Object(ia.a)(d,2),j=u[0],b=u[1],p=Object(n.useState)({id:null,party_name:"",gst_no:"",address:""}),h=Object(ia.a)(p,2),m=h[0],x=h[1],O=Object(n.useState)({}),f=Object(ia.a)(O,2),g=f[0],v=f[1],y=r.a.useState({show:!1,severity:"",message:""}),_=Object(ia.a)(y,2),w=_[0],C=_[1],S=Object(n.useState)(!1),k=Object(ia.a)(S,2),T=k[0],P=k[1],N=[{title:"Bill Date",field:"date",render:function(e){return fn(new Date(e.date))}},{title:"Bill No",field:"bill_no"},{title:"Party Name",field:"party.party_name"},{title:"Is GST Bill?",field:"party.party_name",render:function(e){return e.is_gst_bill?"Yes":"No"}},{title:"Total Price",field:"total_price",render:function(e){return yn(e.total_price,!0)}}],D=function(){var e=Object(lr.a)(sr.a.mark((function e(t,a){var n;return sr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={page:t,pageSize:a},Object.keys(i).map((function(e){n.hasOwnProperty(e)||(n[e]=i[e])})),e.abrupt("return",new Promise((function(e,t){fetch(Rr+"?"+new URLSearchParams(n),{method:"GET",headers:{"content-type":"application/json",Authorization:"Bearer "+Ke.getToken()}}).then((function(e){if(e.ok)return e.json();if(401!==e.status)throw new Error("Something went wrong");Ke.clearAppStorage(),window.location.href="".concat(hr,"/login")})).then((function(t){e({data:t.data,page:t.page-1,totalCount:t.totalCount})})).catch((function(e){throw e}))})));case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),I=function(e){On(e.target.value)?(delete i[e.target.name],o((function(e){return Object(Ze.a)({},e)}))):o((function(t){return Object(Ze.a)(Object(Ze.a)({},t),{},Object(ma.a)({},e.target.name,e.target.value))}))},M=function(){P(!1)},R=function(){var e=Object(lr.a)(sr.a.mark((function e(){var t;return sr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=!0,i.hasOwnProperty("date_gte")?(delete g.date_gte,v((function(e){return Object(Ze.a)({},e)}))):(v((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{date_gte:["Please select from date"]})})),t=!1),i.hasOwnProperty("date_lte")||(v((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{date_lte:["Please select to date"]})})),t=!1),!t){e.next=11;break}if(!(new Date(i.date_gte)<new Date(i.date_lte))){e.next=10;break}return b(!0),e.next=8,tc(zr,{fromDate:i.date_gte,toDate:i.date_lte},Ke.getToken()).then((function(e){Object(ad.saveAs)(new Blob([z(e.data)],{type:"application/octet-stream"}),"sales_data_from_".concat(gn(i.date_gte),"_to_").concat(gn(i.date_lte),".xlsx")),b(!1)})).catch((function(e){b(!1),C((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{show:!0,severity:"error",message:"Error while exporting data"})}))}));case 8:e.next=11;break;case 10:v((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{date_gte:["From date cannot be greater than to date"]})}));case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function z(e){for(var t=new ArrayBuffer(e.length),a=new Uint8Array(t),n=0;n<e.length;n++)a[n]=255&e.charCodeAt(n);return t}return Object(Be.jsxs)(Be.Fragment,{children:[Object(Be.jsx)(bi,{open:w.show,severity:w.severity,message:w.message,handleClose:function(){C((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{show:!1,severity:"",message:""})}))}}),Object(Be.jsx)(po,{handleCancel:M,handleClose:M,handleAddParties:function(e){x((function(t){return Object(Ze.a)(Object(Ze.a)({},t),{},{gst_no:e.gst_no,id:e.id,party_name:e.party_name,address:e.party_address})})),o((function(t){return Object(Ze.a)(Object(Ze.a)({},t),{},{party:e.id})})),M()},open:T}),Object(Be.jsx)(Ca,{children:Object(Be.jsx)(ya,{xs:12,sm:12,md:12,children:Object(Be.jsxs)(Vc,{children:[Object(Be.jsxs)(ii,{color:"primary",className:l.cardHeaderStyles,children:[Object(Be.jsx)(Fo.a,{fontSize:"large"}),Object(Be.jsx)("p",{className:l.cardCategoryWhite})]}),Object(Be.jsxs)(Jc,{children:[Object(Be.jsx)(Ca,{children:Object(Be.jsx)(ya,{xs:12,sm:12,md:12,children:Object(Be.jsx)(gi,{color:"primary",align:"end",size:"small",onClick:function(){t.push(de)},children:Object(Be.jsx)(Eo.a,{})})})}),Object(Be.jsxs)(Ca,{children:[Object(Be.jsx)(ya,{xs:12,sm:12,md:2,children:Object(Be.jsx)(Hi,{onChange:function(e){return function(e){delete g.date_gte,v((function(e){return Object(Ze.a)({},e)}));var t=Na()(e).format("YYYY-MM-DDT00:00:00.000Z");"Invalid date"===t?(t=null,delete i.date_gte,o((function(e){return Object(Ze.a)({},e)}))):(t=new Date(t).toISOString(),o((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{date_gte:t})})))}(e)},label:"Sell date from",name:"date_gte",value:i.date_gte||null,id:"date_gte",formControlProps:{fullWidth:!0},style:{marginTop:"1.5rem",width:"100%"},helperTextId:"helperText_date_gte",isHelperText:zn("date_gte",g),helperText:zn("date_gte",g)?g.date_gte.map((function(e){return e+" "})):null,error:zn("date_gte",g)})}),Object(Be.jsx)(ya,{xs:12,sm:12,md:2,children:Object(Be.jsx)(Hi,{onChange:function(e){return function(e){delete g.date_lte,v((function(e){return Object(Ze.a)({},e)}));var t=Na()(e).endOf("day").format("YYYY-MM-DDT23:59:59.999Z");"Invalid date"===t?(t=null,delete i.date_lte,o((function(e){return Object(Ze.a)({},e)}))):(t=new Date(t).toISOString(),o((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{date_lte:t})})))}(e)},label:"Sale date to",name:"date_lte",value:i.date_lte||null,id:"date_lte",formControlProps:{fullWidth:!0},style:{marginTop:"1.5rem",width:"100%"},helperTextId:"helperText_date_lte",isHelperText:zn("date_lte",g),helperText:zn("date_lte",g)?g.date_lte.map((function(e){return e+" "})):null,error:zn("date_lte",g)})}),Object(Be.jsx)(ya,{xs:12,sm:12,md:2,children:Object(Be.jsx)(Jn,{onChange:function(e){return I(e)},labelText:"Bill Number",value:i.bill_no_contains||"",name:"bill_no_contains",id:"bill_no_contains",formControlProps:{fullWidth:!0}})}),Object(Be.jsx)(ya,{xs:12,sm:12,md:2,children:Object(Be.jsx)(Pi,{id:"is_gst_bill",onChange:function(e){return I(e)},labelText:"GST Bill?",name:"is_gst_bill",value:i.is_gst_bill||"",nameValue:[{name:"Yes",value:"true"},{name:"No",value:"false"}],formControlProps:{fullWidth:!0}})}),Object(Be.jsx)(ya,{xs:12,sm:12,md:2,children:Object(Be.jsx)(Jn,{onChange:function(e){return I(e)},labelText:"Total Price From",value:i.total_price_gte||"",name:"total_price_gte",id:"total_price_gte",formControlProps:{fullWidth:!0}})}),Object(Be.jsx)(ya,{xs:12,sm:12,md:2,children:Object(Be.jsx)(Jn,{onChange:function(e){return I(e)},labelText:"Total Price To",value:i.total_price_lte||"",name:"total_price_lte",id:"total_price_lte",formControlProps:{fullWidth:!0}})})]}),Object(Be.jsxs)(Ca,{children:[Object(Be.jsx)(ya,{xs:12,sm:12,md:7,style:{margin:"27px 0px 0px"},children:Object(Be.jsxs)(Ca,{style:{border:"1px solid #C0C0C0",borderRadius:"10px"},children:[Object(Be.jsxs)(ya,{xs:12,sm:12,md:7,style:{margin:"5px 0px 0px 0px"},children:[Object(Be.jsx)(Ca,{style:{dispay:"flex"},children:Object(Be.jsxs)(ya,{xs:12,sm:12,md:8,children:[Object(Be.jsx)("b",{children:"Party Name : "})," ",m.party_name]})}),Object(Be.jsx)(Ca,{children:Object(Be.jsxs)(ya,{xs:12,sm:12,md:8,children:[Object(Be.jsx)("b",{children:"Party Gst No : "}),m.gst_no]})})]}),Object(Be.jsx)(ya,{xs:12,sm:12,md:3,children:Object(Be.jsx)(jc,{color:"primary",onClick:function(){P(!0)},children:i.party?"Change Party":"Select party"})}),Object(Be.jsx)(ya,{xs:12,sm:12,md:2,children:Object(Be.jsx)(la.a,{onClick:function(){x((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{gst_no:"",id:null,party_name:"",address:""})})),delete i.party,o((function(e){return Object(Ze.a)({},e)}))},children:Object(Be.jsx)(Go.a,{})})})]})}),Object(Be.jsxs)(ya,{xs:12,sm:12,md:4,style:{marginTop:"27px"},children:[Object(Be.jsx)(jc,{color:"primary",onClick:function(){v([]),e.current.onQueryChange()},children:"Search"}),Object(Be.jsx)(jc,{color:"primary",onClick:function(){o({_sort:"date:desc"}),e.current.onQueryChange()},children:"Cancel"}),Object(Be.jsx)(jc,{color:"primary",onClick:function(){R()},children:"Export"})]})]}),Object(Be.jsx)("br",{}),Object(Be.jsx)($t,{tableRef:e,title:"Sales",columns:N,data:function(){var e=Object(lr.a)(sr.a.mark((function e(t){return sr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D(t.page+1,t.pageSize);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),actions:[function(e){return{icon:function(){return Object(Be.jsx)(Mo.a,{fontSize:"small"})},tooltip:"Edit",disabled:!0,onClick:function(e,a){t.push("".concat(je,"/").concat(a.id))}}},function(e){return{icon:function(){return Object(Be.jsx)(zo.a,{fontSize:"small",color:"primary"})},tooltip:"View",onClick:function(e,a){t.push("".concat(ue,"/").concat(a.id))}}}],options:{pageSize:10,actionsColumnIndex:-1,search:!1,sorting:!0,thirdSortClick:!1,pageSizeOptions:[10,20,50]},onOrderChange:function(t,a){!function(t,a){var n,r;t>=0&&(n=N[t].field),r=n+":"+a,o((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{_sort:r})})),e.current.onQueryChange()}(t,a)}})]})]})})}),Object(Be.jsx)(io.a,{className:l.backdrop,open:j,children:Object(Be.jsx)(oo.a,{color:"inherit"})})]})}var cd=a(551),id=Object(We.a)(so);function od(e){var t=id(),a=Object(s.useHistory)(),c=Object(n.useState)(!1),i=Object(ia.a)(c,2),o=i[0],l=i[1],d=r.a.useState({}),u=Object(ia.a)(d,2),j=u[0],b=u[1],p=Object(n.useState)(!!e.location.state&&e.location.state.edit),h=Object(ia.a)(p,1)[0],x=r.a.useState({show:!1,severity:"",message:""}),O=Object(ia.a)(x,2),f=O[0],g=O[1],v=Object(n.useState)({id:null,party_name:"",party_email:"",phone:"",party_address:"",gst_no:"",extra_details:"",is_whole_seller:!1,is_retailer:!1}),y=Object(ia.a)(v,2),_=y[0],w=y[1];Object(n.useEffect)((function(){e.location.state&&e.location.state.edit&&e.location.state.data&&C(e.location.state.data)}),[]);var C=function(e){w((function(t){return Object(Ze.a)(Object(Ze.a)({},t),{},{id:e.id,party_name:e.party_name,party_email:e.party_email,phone:e.phone,party_address:e.party_address,gst_no:e.gst_no,extra_details:e.extra_details,is_retailer:e.is_retailer,is_whole_seller:e.is_whole_seller})}))},S=function(e){w((function(t){return Object(Ze.a)(Object(Ze.a)({},t),{},Object(ma.a)({},e.target.name,e.target.value))})),j.hasOwnProperty(e.target.name)&&(delete j[e.target.name],b((function(e){return Object(Ze.a)({},e)})))},k=function(){var e=Object(lr.a)(sr.a.mark((function e(t){var a,n;return sr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),l(!0),a=!1,n={},n=Rn(_,cd),!Mn(n)){e.next=12;break}return e.next=8,T();case 8:(n=e.sent)&&Mn(n)?a=!0:(l(!1),b(n||{})),e.next=14;break;case 12:l(!1),b(n);case 14:a&&P();case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(lr.a)(sr.a.mark((function e(){var t;return sr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="",e.next=3,tc(_r,{isEdit:h,editId:_.id,party_name:_.party_name,gst_no:_.gst_no},Ke.getToken()).then((function(e){t=e.data})).catch((function(e){g((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{show:!0,severity:"error",message:"Error adding data"})})),l(!1),t=null}));case 3:return e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),P=function(){var e=Object(lr.a)(sr.a.mark((function e(){var t;return sr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t={party_name:_.party_name,party_email:_.party_email,phone:_.phone,party_address:_.party_address,gst_no:_.gst_no,extra_details:_.extra_details,is_whole_seller:_.is_whole_seller,is_retailer:_.is_retailer},!h){e.next=6;break}return e.next=4,rc(yr,_.id,t,Ke.getToken()).then((function(e){a.push(m),l(!1)})).catch((function(e){g((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{show:!0,severity:"error",message:"Error saving data"})})),l(!1)}));case 4:e.next=8;break;case 6:return e.next=8,ac(yr,t,Ke.getToken()).then((function(e){a.push(m),l(!1)})).catch((function(e){g((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{show:!0,severity:"error",message:"Error saving data"})})),l(!1)}));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(Be.jsxs)(Ca,{children:[Object(Be.jsx)(ya,{xs:12,sm:12,md:12,children:Object(Be.jsx)(gi,{align:"start",size:"small",onClick:function(){a.push(m)},children:Object(Be.jsx)(Zo.a,{})})}),Object(Be.jsx)(bi,{open:f.show,severity:f.severity,message:f.message,handleClose:function(){g((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{show:!1,severity:"",message:""})}))}}),Object(Be.jsx)(ya,{xs:12,sm:12,md:8,children:Object(Be.jsxs)(Vc,{children:[Object(Be.jsxs)(ii,{color:"primary",className:t.cardHeaderStyles,children:[Object(Be.jsx)("h4",{className:t.cardTitleWhite,children:h?"Edit Party":"Add New Party"}),Object(Be.jsx)("p",{className:t.cardCategoryWhite})]}),Object(Be.jsxs)(Jc,{children:[Object(Be.jsxs)(Ca,{children:[Object(Be.jsx)(ya,{xs:12,sm:12,md:6,children:Object(Be.jsx)(Jn,{labelText:"Party Name",id:"party_name",name:"party_name",value:_.party_name,onChange:function(e){return S(e)},formControlProps:{fullWidth:!0},helperTextId:"helperText_party_name",isHelperText:zn("party_name",j),helperText:zn("party_name",j)?j.party_name.map((function(e){return e+" "})):null,error:zn("party_name",j)})}),Object(Be.jsx)(ya,{xs:12,sm:12,md:6,children:Object(Be.jsx)(Jn,{labelText:"GSTIN/UIN",id:"gst_no",name:"gst_no",value:_.gst_no,onChange:function(e){return S(e)},formControlProps:{fullWidth:!0},helperTextId:"helperText_gst_no",isHelperText:zn("gst_no",j),helperText:zn("gst_no",j)?j.gst_no.map((function(e){return e+" "})):null,error:zn("gst_no",j)})})]}),Object(Be.jsxs)(Ca,{children:[Object(Be.jsx)(ya,{xs:12,sm:12,md:6,children:Object(Be.jsx)(Jn,{labelText:"Email",id:"party_email",name:"party_email",value:_.party_email,onChange:function(e){return S(e)},formControlProps:{fullWidth:!0}})}),Object(Be.jsx)(ya,{xs:12,sm:12,md:6,children:Object(Be.jsx)(Jn,{labelText:"Phone",id:"phone",name:"phone",value:_.phone,onChange:function(e){return S(e)},formControlProps:{fullWidth:!0}})})]}),Object(Be.jsx)(Ca,{children:Object(Be.jsx)(ya,{xs:12,sm:12,md:12,children:Object(Be.jsx)(Jn,{labelText:"Party Address",id:"party_address",name:"party_address",value:_.party_address,onChange:function(e){return S(e)},formControlProps:{fullWidth:!0},inputProps:{multiline:!0,rows:5}})})}),Object(Be.jsxs)(Ca,{children:[Object(Be.jsx)(ya,{xs:12,sm:4,md:4,className:t.switchBox,children:Object(Be.jsx)("div",{className:t.block,children:Object(Be.jsx)(Qi.a,{control:Object(Be.jsx)(dl.a,{checked:!!_.is_whole_seller,onChange:function(e){w((function(t){return Object(Ze.a)(Object(Ze.a)({},t),{},{is_whole_seller:!!e.target.checked,is_retailer:!e.target.checked})}))},classes:{switchBase:t.switchBase,checked:t.switchChecked,thumb:t.switchIcon,track:t.switchBar}}),classes:{label:t.label},label:"Whole Seller"})})}),Object(Be.jsx)(ya,{xs:12,sm:4,md:4,className:t.switchBox,children:Object(Be.jsx)("div",{className:t.block,children:Object(Be.jsx)(Qi.a,{control:Object(Be.jsx)(dl.a,{checked:!!_.is_retailer,onChange:function(e){w((function(t){return Object(Ze.a)(Object(Ze.a)({},t),{},{is_retailer:!!e.target.checked,is_whole_seller:!e.target.checked})}))},classes:{switchBase:t.switchBase,checked:t.switchChecked,thumb:t.switchIcon,track:t.switchBar}}),classes:{label:t.label},label:"Retailer"})})})]}),Object(Be.jsx)(Ca,{children:Object(Be.jsx)(ya,{xs:12,sm:12,md:12,children:Object(Be.jsx)(Jn,{labelText:"Extra Info",id:"extra_details",name:"extra_details",value:_.extra_details,onChange:function(e){return S(e)},formControlProps:{fullWidth:!0},inputProps:{multiline:!0,rows:5}})})})]}),Object(Be.jsx)(ai,{children:Object(Be.jsx)(jc,{color:"primary",onClick:function(e){return k(e)},children:"Save"})})]})}),Object(Be.jsx)(io.a,{className:t.backdrop,open:o,children:Object(Be.jsx)(oo.a,{color:"inherit"})})]})}var sd=Object(We.a)(so);function ld(){var e=sd(),t=r.a.createRef(),a=Object(n.useState)({_sort:"party_name:asc"}),c=Object(ia.a)(a,2),i=c[0],o=c[1],s=Object(n.useState)(!1),l=Object(ia.a)(s,2),d=l[0],u=l[1],j=r.a.useState({show:!1,severity:"",message:""}),b=Object(ia.a)(j,2),p=b[0],h=b[1],m=[{title:"Party Name",field:"party_name"},{title:"GSTIN/UIN",field:"gst_no"},{title:"Phone",field:"phone"}],f=Object(ol.useHistory)(),g=function(){var e=Object(lr.a)(sr.a.mark((function e(t,a){var n;return sr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={page:t,pageSize:a},Object.keys(i).map((function(e){n.hasOwnProperty(e)||(n[e]=i[e])})),e.abrupt("return",new Promise((function(e,t){fetch(yr+"?"+new URLSearchParams(n),{method:"GET",headers:{"content-type":"application/json",Authorization:"Bearer "+Ke.getToken()}}).then((function(e){if(e.ok)return e.json();if(401!==e.status)throw new Error("Something went wrong");Ke.clearAppStorage(),window.location.href="".concat(hr,"/login")})).then((function(t){e({data:t.data,page:t.page-1,totalCount:t.totalCount})})).catch((function(e){throw e}))})));case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),v=function(){var e=Object(lr.a)(sr.a.mark((function e(t){return sr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),e.next=3,tc(yr+"/"+t.id,{},Ke.getToken()).then((function(e){u(!1),f.push(O,{data:e.data,edit:!0})})).catch((function(e){u(!1),h((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{show:!0,severity:"error",message:"Error viewing party"})}))}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(Be.jsxs)(Be.Fragment,{children:[Object(Be.jsx)(bi,{open:p.show,severity:p.severity,message:p.message,handleClose:function(){h((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{show:!1,severity:"",message:""})}))}}),Object(Be.jsx)(Ca,{children:Object(Be.jsx)(ya,{xs:12,sm:12,md:12,children:Object(Be.jsxs)(Vc,{children:[Object(Be.jsxs)(ii,{color:"primary",className:e.cardHeaderStyles,children:[Object(Be.jsx)(Fo.a,{fontSize:"large"}),Object(Be.jsx)("p",{className:e.cardCategoryWhite})]}),Object(Be.jsxs)(Jc,{children:[Object(Be.jsx)(Ca,{children:Object(Be.jsx)(ya,{xs:12,sm:12,md:12,children:Object(Be.jsx)(gi,{color:"primary",align:"end",size:"small",onClick:function(){f.push(x)},children:Object(Be.jsx)(Eo.a,{})})})}),Object(Be.jsxs)(Ca,{children:[Object(Be.jsx)(ya,{xs:12,sm:12,md:2,children:Object(Be.jsx)(Jn,{onChange:function(e){return function(e){On(e.target.value)?(delete i[e.target.name],o((function(e){return Object(Ze.a)({},e)}))):o((function(t){return Object(Ze.a)(Object(Ze.a)({},t),{},Object(ma.a)({},e.target.name,e.target.value))}))}(e)},labelText:"Party Name",value:i.party_name_contains||"",name:"party_name_contains",id:"party_name_contains",formControlProps:{fullWidth:!0}})}),Object(Be.jsxs)(ya,{xs:12,sm:12,md:4,style:{marginTop:"27px"},children:[Object(Be.jsx)(jc,{color:"primary",onClick:function(){t.current.onQueryChange()},children:"Search"}),Object(Be.jsx)(jc,{color:"primary",onClick:function(){delete i.party_name_contains,o((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{_sort:"party_name:asc"})})),t.current.onQueryChange()},children:"Cancel"})]})]}),Object(Be.jsx)($t,{tableRef:t,title:"Purchases",columns:m,data:function(){var e=Object(lr.a)(sr.a.mark((function e(t){return sr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g(t.page+1,t.pageSize);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),actions:[function(e){return{icon:function(){return Object(Be.jsx)(Cs.a,{fontSize:"small"})},tooltip:"Edit",onClick:function(e,t){v(t)}}}],options:{pageSize:10,actionsColumnIndex:-1,search:!1,sorting:!0,thirdSortClick:!1},onOrderChange:function(e,a){!function(e,a){var n,r;e>=0&&(n=m[e].field),r=n+":"+a,o((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{_sort:r})})),t.current.onQueryChange()}(e,a)}})]})]})})}),Object(Be.jsx)(io.a,{className:e.backdrop,open:d,children:Object(Be.jsx)(oo.a,{color:"inherit"})})]})}var dd=a(552),ud=a(359),jd=a.n(ud),bd=a(806),pd=Object(We.a)(lc),hd=Object(We.a)(so);function md(e){var t=hd(),a=Object(s.useHistory)(),c=pd(),i=dd,o=Object(n.useState)(!1),l=Object(ia.a)(o,2),d=l[0],u=l[1],j=Object(n.useState)(null),b=Object(ia.a)(j,2),p=b[0],h=b[1],m=Object(n.useState)(!1),x=Object(ia.a)(m,2),O=x[0],f=x[1],g=Object(n.useState)(!1),v=Object(ia.a)(g,2),y=v[0],_=v[1],w=r.a.useState({}),C=Object(ia.a)(w,2),S=C[0],k=C[1],T=r.a.useState({}),P=Object(ia.a)(T,2),N=P[0],D=P[1],I=Object(n.useState)(e.isEdit?e.isEdit:null),M=Object(ia.a)(I,1)[0],R=Object(n.useState)(e.isView?e.isView:null),z=Object(ia.a)(R,1)[0],A=Object(n.useState)(e.id?e.id:null),F=Object(ia.a)(A,1)[0],W=Object(n.useState)({id:null,bill_no:"",seller_name:"",gst_no:"",date:new Date,is_gst_bill:!1,total_price_of_all_design:0,total_price_without_gst:0,add_cost:0,total_price:0,sgst:0,cgst:0,igst:0,party:null}),E=Object(ia.a)(W,2),H=E[0],B=E[1],q=Object(n.useState)({}),L=Object(ia.a)(q,2),Q=L[0],Y=L[1],U=Object(n.useState)({id:null,party_name:"",gst_no:"",address:"",is_whole_seller:!1,is_retailer:!1}),V=Object(ia.a)(U,2),$=V[0],G=V[1],K=Object(n.useState)([]),Z=Object(ia.a)(K,2),J=Z[0],X=Z[1],ee=r.a.useState({show:!1,severity:"",message:""}),te=Object(ia.a)(ee,2),ae=te[0],ne=te[1];Object(n.useEffect)((function(){(M||z)&&F&&re(F)}),[]);var re=function(){var e=Object(lr.a)(sr.a.mark((function e(t){var n;return sr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),n=!1,e.next=4,tc(Rr+"/"+t,{},Ke.getToken()).then((function(e){200===e.status?ce(e.data):n=!0})).catch((function(e){u(!1),n=!0}));case 4:n&&a.push(Fe);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ce=function(e){u(!0),B((function(t){return Object(Ze.a)(Object(Ze.a)({},t),{},{bill_no:e.bill_no,date:new Date(e.date),is_gst_bill:e.is_gst_bill,total_price_of_all_design:Sn(e.total_price_of_all_design),total_price_without_gst:Sn(e.total_price_with_add_cost),add_cost:Sn(e.add_cost),total_price:Sn(e.total_price),sgst:Sn(e.sgst),cgst:Sn(e.cgst),igst:Sn(e.igst),party:e.party.id})})),G((function(t){return Object(Ze.a)(Object(Ze.a)({},t),{},{gst_no:e.party.gst_no,id:e.party.id,party_name:e.party.party_name,address:e.party.party_address,is_retailer:e.party.party_address,is_whole_seller:e.party.is_whole_seller})}));var t={};e.sale_ready_material.forEach((function(e){var a,n,r,c,i=null===(a=e.design)||void 0===a?void 0:a.id,o=null===(n=e.color)||void 0===n?void 0:n.id,s=e.design,l={design:i,colorData:e.color,color:o,quantity:e.quantity,previousQuantity:e.quantity,quantity_to_add_deduct:0,price_per_unit:Sn(e.price_per_unit),total_price:Sn(e.total_price),availableQuantity:(null===(r=e.color_price)||void 0===r?void 0:r.stock)?null===(c=e.color_price)||void 0===c?void 0:c.stock:0,isDeleted:!1,isCannotDelete:!0,message:""};if(i)if(t[i]){var d=t[i].colorsPresent,u=t[i].allColors;d.push(o),u.push(l),t=Object(Ze.a)(Object(Ze.a)({},t),{},Object(ma.a)({},i,Object(Ze.a)(Object(Ze.a)({},t[i]),{},{colorsPresent:d,allColors:u})))}else t=Object(Ze.a)(Object(Ze.a)({},t),{},Object(ma.a)({},i,{material_no:s.material_no,material_price:s.material_price,add_price:Sn(s.add_price),designId:s.id,images:s.images,stock:s.stock,colorsPresent:[o],allColors:[l]}))})),k(t),u(!1)},ie=function(){f(!1)},oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H.total_price_of_all_design,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:H.add_cost,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:H.cgst,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:H.sgst,c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:H.igst,i=0;i=t?e+parseFloat(a):e-parseFloat(a);var o=ue(n,i),s=je(r,i),l=de(c,i);return{total_price:i+o+s+l,total_price_with_add_cost:i}},se=function(e){var t=e.target.name,a=0,n=0,r=H.total_price;if(isNaN(e.target.value)||(a=parseFloat(e.target.value)),"cgst"===t){var c=ue();r-=c,n=ue(a)}else if("sgst"===t){var i=je();r-=i,n=je(a)}else{var o=de();r-=o,n=de(a)}r+=n,B((function(a){return Object(Ze.a)(Object(Ze.a)({},a),{},Object(ma.a)({total_price:r},t,e.target.value))}))},de=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H.igst,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:H.total_price_without_gst,a=0;isNaN(parseFloat(e))||(a=parseFloat(e));var n=a/100*t;return n},ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H.cgst,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:H.total_price_without_gst,a=0;isNaN(parseFloat(e))||(a=parseFloat(e));var n=a/100*t;return n},je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H.sgst,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:H.total_price_without_gst,a=0;isNaN(parseFloat(e))||(a=parseFloat(e));var n=a/100*t;return n},be=function(){_(!1)},pe=function(e){delete N[e.target.name],D((function(e){return Object(Ze.a)({},e)})),B((function(t){return Object(Ze.a)(Object(Ze.a)({},t),{},Object(ma.a)({},e.target.name,e.target.value))}))},he=function(e,t,a){var n,r=S[a].allColors[t],c=e.target.name,i=0,o=!1,s="",l=c+"color"+t+"design"+a,d=0,u=Sn(r.availableQuantity),j=Sn(r.previousQuantity);if("quantity"===c){var b=0,p=Sn(r.price_per_unit);e.target.value&&!isNaN(e.target.value)&&(b=Sn(e.target.value)),i=b*p,b>j&&b-j>u?(o=!1,s="Quantity cannot be greater than the available ready material quantity"):!b||b<0?(o=!1,s="Quantity cannot be zero or negative"):(o=!0,d=b-j)}else{var h=Sn(r.quantity),m=0;e.target.value&&!isNaN(e.target.value)&&(m=Sn(e.target.value)),i=h*m,!m||m<0?(o=!1,s="Price per piece cannot be zero or negative"):(o=!0,d=h-j)}o?(delete Q[l],Y((function(e){return Object(Ze.a)({},e)}))):Y((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},Object(ma.a)({},l,[s]))}));var x=Sn(H.total_price_of_all_design)-Sn(r.total_price)+i,O=oe(x),f=O.total_price,g=O.total_price_with_add_cost;r=Object(Ze.a)(Object(Ze.a)({},r),{},{quantity_to_add_deduct:d,message:o&&d?"No of ready material ".concat(d<0?"to be added back to stock":"to be deducted from stock",": ").concat(Math.abs(d)):""}),r=Object(Ze.a)(Object(Ze.a)({},r),{},(n={},Object(ma.a)(n,c,e.target.value),Object(ma.a)(n,"total_price",i),n)),k((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},Object(ma.a)({},a,Object(Ze.a)(Object(Ze.a)({},e[a]),{},{allColors:[].concat(Object(Ta.a)(e[a].allColors.slice(0,t)),[r],Object(Ta.a)(e[a].allColors.slice(t+1)))})))})),B((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{total_price:f,total_price_without_gst:g,total_price_of_all_design:x})}))},me=function(){h(null)},xe=function(){h(null),fe()},Oe=function(){if(M)fe();else{var e,t,a=fa()((e={},Object(ma.a)(e,c.button,!0),Object(ma.a)(e,c.success,!0),e)),n=fa()((t={},Object(ma.a)(t,c.button,!0),Object(ma.a)(t,c.danger,!0),t));h(Object(Be.jsx)(as.a,{warning:!0,showCancel:!0,confirmBtnText:"Yes",confirmBtnCssClass:a,confirmBtnBsStyle:"outline-{variant}",title:"Heads up?",onConfirm:xe,onCancel:me,cancelBtnCssClass:n,focusCancelBtn:!0,children:"The ready material quantities that are added will be deducted from the ready material present in the system! Are you sure you want to continue?"}))}},fe=function(){var e=Object(lr.a)(sr.a.mark((function e(){var t;return sr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return{},t={id:F,state:H,designAndColor:S,party:$.id},u(!0),e.next=5,ac(Rr,t,Ke.getToken()).then((function(e){a.push(le),u(!1)})).catch((function(e){u(!1),ne((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{show:!0,severity:"error",message:"Error Adding/Editing Sale Data"})}))}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(Be.jsxs)(r.a.Fragment,{children:[Object(Be.jsxs)(Ca,{children:[Object(Be.jsx)(ya,{xs:12,sm:12,md:12,children:Object(Be.jsx)(gi,{align:"start",size:"small",onClick:function(){a.push(le)},children:Object(Be.jsx)(Zo.a,{})})}),p,Object(Be.jsx)(bi,{open:ae.show,severity:ae.severity,message:ae.message,handleClose:function(){ne((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{show:!1,severity:"",message:""})}))}}),Object(Be.jsx)(To,{handleCancel:ie,handleClose:ie,isHandleKey:!1,open:O,noAddAvailableQuantites:!0,title:"Select Ready Material For Sale",partyId:$.id,selectMultiColors:!0,selectedDesign:S,selectDesign:function(e,t){var a=e.design,n=Sn(e.color_price)+Sn(t.material_price)+Sn(t.add_price),r={design:e.design,colorData:e.color,color:e.color.id,quantity:1,previousQuantity:0,quantity_to_add_deduct:1,price_per_unit:n.toFixed(2),total_price:n.toFixed(2),availableQuantity:e.stock,isCannotDelete:!1,message:"No of ready material to be deducted from stocks :- 1"};if(u(!0),S.hasOwnProperty(a)){var c=S[a].colorsPresent,i=S[a].allColors;c.push(e.color.id),i.push(r),k((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},Object(ma.a)({},a,Object(Ze.a)(Object(Ze.a)({},e[a]),{},{colorsPresent:c,allColors:i})))}))}else k((function(n){return Object(Ze.a)(Object(Ze.a)({},n),{},Object(ma.a)({},a,{material_no:t.material_no,material_price:t.material_price,add_price:t.add_price,designId:t.id,images:t.images,stock:t.stock,colorsPresent:[e.color.id],allColors:[r]}))}));var o=H.total_price_of_all_design+n,s=oe(o),l=s.total_price,d=s.total_price_with_add_cost;B((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{total_price:l,total_price_of_all_design:o,total_price_without_gst:d})})),u(!1)}}),Object(Be.jsx)(po,{handleCancel:be,handleClose:be,handleAddParties:function(e){G((function(t){return Object(Ze.a)(Object(Ze.a)({},t),{},{gst_no:e.gst_no,id:e.id,party_name:e.party_name,address:e.party_address,is_retailer:e.is_retailer,is_whole_seller:e.is_whole_seller})})),B((function(t){return Object(Ze.a)(Object(Ze.a)({},t),{},{party:e.id})})),delete N.party,D((function(e){return Object(Ze.a)({},e)})),be()},open:y}),Object(Be.jsx)(ya,{xs:12,sm:12,md:10,children:Object(Be.jsxs)(Vc,{children:[Object(Be.jsxs)(ii,{color:"primary",className:t.cardHeaderStyles,children:[Object(Be.jsx)("h4",{className:t.cardTitleWhite,children:e.header}),Object(Be.jsx)("p",{className:t.cardCategoryWhite})]}),Object(Be.jsxs)(Jc,{children:[Object(Be.jsxs)(Ca,{children:[Object(Be.jsx)(ya,{xs:12,sm:12,md:5,children:Object(Be.jsx)(Jn,{onChange:function(e){return pe(e)},labelText:"Bill Number",name:"bill_no",disabled:z||M,value:H.bill_no,id:"bill_no",formControlProps:{fullWidth:!0},helperTextId:"helperText_bill_no",isHelperText:zn("bill_no",N),helperText:zn("bill_no",N)?N.bill_no.map((function(e){return e+" "})):null,error:zn("bill_no",N)})}),Object(Be.jsx)(ya,{xs:12,sm:12,md:4,children:Object(Be.jsx)(Hi,{onChange:function(e){return function(e){var t=Na()(e).format("YYYY-MM-DDT00:00:00.000Z");t="Invalid date"===t?null:new Date(t).toISOString(),B((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{date:t})}))}(e)},label:"Bill Date",name:"bill_date",disabled:z||H.cancelled,value:H.date||new Date,id:"bill_date",formControlProps:{fullWidth:!0},style:{width:"100%",marginTop:"1.5rem"}})}),Object(Be.jsx)(ya,{xs:12,sm:12,md:3,className:t.switchBoxInFilter,children:Object(Be.jsx)("div",{className:t.block,children:Object(Be.jsx)(Qi.a,{control:Object(Be.jsx)(dl.a,{checked:!!H.is_gst_bill,disabled:z,onChange:function(e){!function(e){e.target.checked?B((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{is_gst_bill:!0})})):(B((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{total_price:e.total_price_without_gst,cgst:0,sgst:0,igst:0})})),B((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{is_gst_bill:!1})})))}(e)},classes:{switchBase:t.switchBase,checked:t.switchChecked,thumb:t.switchIcon,track:t.switchBar}}),classes:{label:t.label},label:"Is Gst Bill ?"})})})]}),$.id&&z?Object(Be.jsxs)(Be.Fragment,{children:[Object(Be.jsxs)(Ca,{children:[Object(Be.jsx)(ya,{xs:12,sm:12,md:6,children:Object(Be.jsx)(Jn,{labelText:"Party Name",name:"party_name",disabled:!0,value:$.party_name,id:"party_name",formControlProps:{fullWidth:!0},helperTextId:"helperText_party_name",isHelperText:zn("party_name",N),helperText:zn("party_name",N)?N.party_name.map((function(e){return e+" "})):null,error:zn("party_name",N)})}),Object(Be.jsx)(ya,{xs:12,sm:12,md:6,children:Object(Be.jsx)(Jn,{labelText:"Party GST Number",name:"party_gst_no",disabled:!0,value:$.gst_no,id:"party_gst_no",formControlProps:{fullWidth:!0},helperTextId:"helperText_party_gst_no",isHelperText:zn("party_gst_no",N),helperText:zn("party_gst_no",N)?N.party_gst_no.map((function(e){return e+" "})):null,error:zn("party_gst_no",N)})})]}),Object(Be.jsx)(Ca,{children:Object(Be.jsx)(ya,{xs:12,sm:12,md:12,children:Object(Be.jsx)(Jn,{labelText:"Party Address",name:"party_address",disabled:!0,value:$.address,id:"party_address",formControlProps:{fullWidth:!0},helperTextId:"helperText_party_address",isHelperText:zn("party_address",N),helperText:zn("party_address",N)?N.party_address.map((function(e){return e+" "})):null,error:zn("party_address",N)})})})]}):null,z?null:Object(Be.jsx)(Ca,{children:Object(Be.jsx)(ya,{xs:12,sm:12,md:12,children:Object(Be.jsxs)(Ca,{children:[Object(Be.jsxs)(ya,{xs:12,sm:12,md:12,style:{margin:"27px 0px 0px"},children:[Object(Be.jsx)(Ca,{style:{dispay:"flex"},children:Object(Be.jsx)(ya,{xs:12,sm:12,md:8,style:{color:"#C8C8C8"},children:Object(Be.jsx)("b",{children:"Party"})})}),Object(Be.jsx)("br",{}),Object(Be.jsx)(Ca,{style:{dispay:"flex"},children:Object(Be.jsxs)(ya,{xs:12,sm:12,md:8,children:[Object(Be.jsx)("b",{children:"Party Name : "})," ",$.party_name]})}),Object(Be.jsx)(Ca,{children:Object(Be.jsxs)(ya,{xs:12,sm:12,md:8,children:[Object(Be.jsx)("b",{children:"Party Gst No : "}),$.gst_no]})}),Object(Be.jsx)(Ca,{children:Object(Be.jsxs)(ya,{xs:12,sm:12,md:8,children:[Object(Be.jsx)("b",{children:"Party Address : "}),$.address]})}),Object(Be.jsx)("br",{}),Object(Be.jsx)(Ca,{children:Object(Be.jsx)(ya,{xs:12,sm:12,md:8,children:Object(Be.jsx)(wo.a,{variant:"caption",display:"block",gutterBottom:!0,children:$.is_retailer?"Retailer party":$.is_whole_seller?"Whole seller party":""})})})]}),z?null:Object(Be.jsxs)(Be.Fragment,{children:[Object(Be.jsx)(ya,{xs:12,sm:12,md:12,children:Object(Be.jsx)(jc,{color:"primary",onClick:function(){_(!0)},children:$.id?"Change Party":"Select Party"})}),zn("party",N)?Object(Be.jsx)(ya,{xs:12,sm:12,md:12,children:Object(Be.jsx)(Gn.a,{id:"party_helpertext_id",error:zn("party",N),children:zn("party",N)?N.party.map((function(e){return e+" "})):null})}):null]})]})})}),Object(Be.jsxs)(Ca,{children:[Object(Be.jsx)(ya,{xs:12,sm:12,md:2,children:Object(Be.jsx)(Jn,{onChange:function(e){return se(e)},labelText:"CGST(%)",name:"cgst",disabled:z||!H.is_gst_bill||Sn(H.igst),value:H.cgst,id:"cgst",formControlProps:{fullWidth:!0},helperTextId:"helperText_cgst",isHelperText:zn("cgst",N),helperText:zn("cgst",N)?N.cgst.map((function(e){return e+" "})):null,error:zn("cgst",N)})}),Object(Be.jsx)(ya,{xs:12,sm:12,md:2,children:Object(Be.jsx)(Jn,{onChange:function(e){return se(e)},labelText:"SGST(%)",name:"sgst",disabled:z||!H.is_gst_bill||Sn(H.igst),value:H.sgst,id:"sgst",formControlProps:{fullWidth:!0},helperTextId:"helperText_sgst",isHelperText:zn("sgst",N),helperText:zn("sgst",N)?N.sgst.map((function(e){return e+" "})):null,error:zn("sgst",N)})}),Object(Be.jsx)(ya,{xs:12,sm:12,md:2,children:Object(Be.jsx)(Jn,{onChange:function(e){return se(e)},labelText:"IGST(%)",name:"igst",disabled:z||!H.is_gst_bill||Sn(H.sgst)||Sn(H.cgst),value:H.igst,id:"igst",formControlProps:{fullWidth:!0},helperTextId:"helperText_igst",isHelperText:zn("igst",N),helperText:zn("igst",N)?N.igst.map((function(e){return e+" "})):null,error:zn("igst",N)})}),Object(Be.jsx)(ya,{xs:12,sm:12,md:3,children:Object(Be.jsx)(Jn,{onChange:function(e){return function(e){delete N[e.target.name],D((function(e){return Object(Ze.a)({},e)}));var t=On(e.target.value)?0:parseFloat(e.target.value),a=oe(H.total_price_of_all_design,!0,t),n=a.total_price,r=a.total_price_with_add_cost;B((function(t){var a;return Object(Ze.a)(Object(Ze.a)({},t),{},(a={},Object(ma.a)(a,e.target.name,e.target.value),Object(ma.a)(a,"total_price",n),Object(ma.a)(a,"total_price_without_gst",r),a))}))}(e)},labelText:"Add. Cost",name:"add_cost",type:"number",disabled:z,value:H.add_cost,id:"add_cost",formControlProps:{fullWidth:!0},helperTextId:"helperText_add_cost",isHelperText:zn("add_cost",N),helperText:zn("add_cost",N)?N.add_cost.map((function(e){return e+" "})):null,error:zn("add_cost",N)})}),Object(Be.jsx)(ya,{xs:12,sm:12,md:3,children:Object(Be.jsx)(Jn,{onChange:function(e){return pe(e)},labelText:"Total Price",name:"total_price",disabled:!0,value:parseFloat(H.total_price).toFixed(2),id:"total_price",formControlProps:{fullWidth:!0},helperTextId:"helperText_total_price",isHelperText:zn("total_price",N),helperText:zn("total_price",N)?N.total_price.map((function(e){return e+" "})):null,error:zn("total_price",N)})})]}),z?null:Object(Be.jsxs)(Ca,{children:[Object(Be.jsx)(ya,{xs:12,sm:12,md:12,children:Object(Be.jsxs)(gi,{color:"primary",size:"medium",variant:"extended",onClick:function(){f(!0)},disabled:!$.id,toolTip:$.id?"Select raw materials for sale":"Select party first",children:[Object(Be.jsx)(Eo.a,{className:t.extendedIcon}),Object(Be.jsx)("h5",{children:"Add Ready Material"})]})}),$.id?null:Object(Be.jsxs)(Be.Fragment,{children:[Object(Be.jsx)(ya,{xs:12,sm:12,md:12,children:Object(Be.jsx)(wo.a,{variant:"caption",display:"block",gutterBottom:!0,children:"Please select party first"})}),Object(Be.jsx)(ya,{xs:12,sm:12,md:12,children:Object(Be.jsx)(wo.a,{variant:"caption",display:"block",gutterBottom:!0,children:"Note:- For wholeslellers, only the designs ordered by them would list down"})})]})]}),Object(Be.jsx)(Ca,{children:Object(Be.jsx)(ka.a,{component:zt.a,children:Object(Be.jsxs)(Gt,{sx:{textAlignLast:"center",ml:"15px"},"aria-label":"sale-table",style:{marginTop:30},children:[Object(Be.jsx)(Kt,{children:Object(Be.jsxs)(Zt,{children:[Object(Be.jsx)(Jt,{align:"left",children:"Ratio Name"}),M?Object(Be.jsx)(Jt,{align:"left",children:"Previous Quantity"}):null,Object(Be.jsx)(Jt,{align:"left",children:"Pcs sold"}),Object(Be.jsx)(Jt,{align:"left",children:"Price per piece"}),Object(Be.jsx)(Jt,{align:"left",children:"Total Price"}),z?null:Object(Be.jsx)(Jt,{align:"center",children:"Action"})]})}),Object(Be.jsx)(Xt,{children:S&&Object.keys(S).map((function(e,a){return Object(Be.jsxs)(Be.Fragment,{children:[Object(Be.jsx)(Zt,{height:20,children:Object(Be.jsx)(Jt,{align:"center",colSpan:4,sx:{width:"100%",borderTop:"1px solid black !important"},children:Object(Be.jsxs)(ya,{xs:12,sm:12,md:12,children:[Object(Be.jsx)(Ca,{style:{dispay:"flex"},children:Object(Be.jsx)(ya,{xs:12,sm:12,md:12,children:Object(Be.jsx)("div",{className:t.imageDivInTable,children:S[e].images&&S[e].images.length&&S[e].images[0].url?Object(Be.jsx)("img",{alt:"ready_material_photo",src:pr+S[e].images[0].url,loader:Object(Be.jsx)(oo.a,{}),style:{height:"5rem",width:"10rem"},className:t.UploadImage}):Object(Be.jsx)("img",{src:xo,alt:"ready_material_photo",style:{height:"5rem",width:"10rem"},loader:Object(Be.jsx)(oo.a,{}),className:t.DefaultNoImage})})})}),Object(Be.jsx)(Ca,{children:Object(Be.jsxs)(ya,{xs:12,sm:12,md:12,children:[Object(Be.jsx)("b",{children:"Material No : "}),S[e].material_no]})})]})})},e),S[e].allColors.map((function(t,a){return Object(Be.jsx)(Be.Fragment,{children:Object(Be.jsxs)(Zt,{sx:{"&:last-child td, &:last-child th":{border:0},backgroundColor:t.isDeleted?"#e7e7e7":"transparent",textDecoration:t.isDeleted?"line-through":"none"},children:[Object(Be.jsx)(Jt,{align:"left",sx:{pt:0,pb:0,color:"#3b3b42 !important;",fontSize:"0.9375rem !important",fontWeight:"400 !Important"},children:t.colorData.name}),M?Object(Be.jsx)(Jt,{align:"left",sx:{pt:0,pb:0},children:t.previousQuantity?t.previousQuantity:null}):null,z?Object(Be.jsx)(Jt,{align:"left",children:t.quantity}):Object(Be.jsx)(Jt,{align:"left",sx:{pt:0,pb:0},children:Object(Be.jsx)(bd.a,{defaultValue:"Small",size:"large",variant:"standard",color:"secondary",onChange:function(t){return he(t,a,e)},type:"number",disabled:z,name:"quantity",value:t.quantity,id:"quantitycolor"+a+"design"+e,formControlProps:{fullWidth:!1},helperTextId:"quantitycolor"+a+"design"+e,isHelperText:zn("quantitycolor"+a+"design"+e,Q),helperText:zn("quantitycolor"+a+"design"+e,Q)?Q["quantitycolor"+a+"design"+e].map((function(e){return e+" "})):null,error:zn("quantitycolor"+a+"design"+e,Q)})}),z?Object(Be.jsx)(Jt,{align:"ri",children:t.price_per_unit}):Object(Be.jsx)(Jt,{align:"left",sx:{pt:0,pb:0},children:Object(Be.jsx)(bd.a,{defaultValue:"Small",size:"small",variant:"standard",color:"secondary",onChange:function(t){return he(t,a,e)},type:"number",disabled:z,name:"price_per_unit",value:t.price_per_unit,id:"price_per_unitcolor"+a+"design"+e,formControlProps:{fullWidth:!0},helperTextId:"price_per_unitcolor"+a+"design"+e,isHelperText:zn("price_per_unitcolor"+a+"design"+e,Q),helperText:zn("price_per_unitcolor"+a+"design"+e,Q)?Q["price_per_unitcolor"+a+"design"+e].map((function(e){return e+" "})):null,error:zn("price_per_unitcolor"+a+"design"+e,Q)})}),Object(Be.jsx)(Jt,{align:"left",sx:{pt:0,pb:0},children:yn(t.total_price,!0)}),z?null:Object(Be.jsx)(Jt,{align:"left",sx:{pt:0,pb:0},children:Object(Be.jsx)(ya,{xs:12,sm:12,md:2,children:Object(Be.jsx)(mi.a,{title:t.isDeleted?"Restore Back":"Delete",children:Object(Be.jsx)(gi,{color:"primary",align:"left",size:"small",onClick:function(){t.isDeleted?function(e){var t=J[e];u(!0);var a=H.total_price_of_all_design+parseFloat(t.total_price),n=oe(a),r=n.total_price,c=n.total_price_with_add_cost;B((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{total_price:r,total_price_of_all_design:a,total_price_without_gst:c})}));var i=parseFloat(t.price_per_unit),o=parseFloat(t.quantity),s=!1,l=!1,d="",j="",b="quantity"+e,p="price_per_unit"+e;o>t.previousQuantity&&o-t.previousQuantity>parseFloat(t.availableQuantity)?(s=!1,d="Quantity cannot be greater than the available ready material quantity"):!o||o<0?(s=!1,d="Quantity cannot be zero or negative"):s=!0,!i||i<0?(l=!1,j="Price per piece cannot be zero or negative"):l=!0,s?(delete Q[b],Y((function(e){return Object(Ze.a)({},e)}))):Y((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},Object(ma.a)({},b,[d]))})),l?(delete Q[p],Y((function(e){return Object(Ze.a)({},e)}))):Y((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},Object(ma.a)({},p,[j]))}));var h=parseFloat(t.quantity)-parseFloat(t.previousQuantity);t=Object(Ze.a)(Object(Ze.a)({},t),{},{isDeleted:!1,quantity_to_add_deduct:h,message:s&&l&&h?"No of ready material ".concat(h<0?"to be added back to stock":"to be deducted from stock",": ").concat(Math.abs(h)):""}),X([].concat(Object(Ta.a)(J.slice(0,e)),[t],Object(Ta.a)(J.slice(e+1)))),u(!1)}(a):function(e,t){var a,n=null===(a=S[t])||void 0===a?void 0:a.allColors;if("[object Array]"===Object.prototype.toString.call(n)){var r=n[e];u(!0);var c=H.total_price_of_all_design-Sn(r.total_price),i=oe(c),o=i.total_price,s=i.total_price_with_add_cost;if(delete Q["quantitycolor"+e+"design"+t],delete Q["price_per_unitcolor"+e+"design"+t],Y((function(e){return Object(Ze.a)({},e)})),B((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{total_price:o,total_price_of_all_design:c,total_price_without_gst:s})})),r.isCannotDelete)r=Object(Ze.a)(Object(Ze.a)({},r),{},{quantity_to_add_deduct:-r.previousQuantity,isDeleted:!0,message:"No of ready material added back to stock : "+r.previousQuantity});else if(1===n.length)delete S[t],k((function(e){return Object(Ze.a)({},S)}));else{var l=S[t].colorsPresent.indexOf(r.color);S[t].allColors.splice(e,1),S[t].colorsPresent.splice(l,1),k((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},Object(ma.a)({},t,Object(Ze.a)(Object(Ze.a)({},e[t]),{},{allColors:Object(Ta.a)(e[t].allColors),colorsPresent:Object(Ta.a)(e[t].colorsPresent)})))}))}u(!1)}}(a,e)},children:t.isDeleted?Object(Be.jsx)(jd.a,{}):Object(Be.jsx)(Xo.a,{})})})})})]},e+"-"+t.color)})}))]})}))}),Object(Be.jsx)(Xt,{children:Object(Be.jsxs)(Zt,{children:[Object(Be.jsx)(Jt,{colSpan:M?4:3,align:"right",children:"Total"}),Object(Be.jsx)(Jt,{children:yn(parseFloat(H.total_price_of_all_design).toFixed(2),!0)}),Object(Be.jsx)(Jt,{})]})})]})})})]}),z?null:Object(Be.jsx)(ai,{children:Object(Be.jsx)(jc,{color:"primary",onClick:function(e){return function(e){e.preventDefault(),u(!0);var t,a=!1;t=Rn(H,i),Mn(t)&&Mn(Q)?(u(!1),D({}),a=!0):(u(!1),D(t)),a&&Oe(),u(!1)}(e)},disabled:!Object.keys(S).length||Object.keys(Q).length,children:"Save"})})]})})]}),Object(Be.jsx)(io.a,{className:t.backdrop,open:d,children:Object(Be.jsx)(oo.a,{color:"inherit"})})]})}var xd=a(553),Od=a(554),fd=Object(We.a)(lc),gd=Object(We.a)(so);function vd(e){var t=gd(),a=Object(s.useHistory)(),c=fd(),i=Object(n.useState)(!1),o=Object(ia.a)(i,2),l=o[0],d=o[1],u=Object(n.useState)(null),j=Object(ia.a)(u,2),b=j[0],p=j[1],h=Object(n.useState)(!1),m=Object(ia.a)(h,2),x=m[0],O=m[1],f=Object(n.useState)(!1),g=Object(ia.a)(f,2),v=g[0],y=g[1],_=r.a.useState({}),w=Object(ia.a)(_,2),C=w[0],S=w[1],k=Object(n.useState)(e.isEdit?e.isEdit:null),T=Object(ia.a)(k,1)[0],P=Object(n.useState)(e.isView?e.isView:null),N=Object(ia.a)(P,1)[0],D=Object(n.useState)(e.id?e.id:null),I=Object(ia.a)(D,1)[0],M=Object(n.useState)({id:null,date:new Date,party:null,total_price_of_ready_material:0,add_cost:0,total_price:0,notes:""}),R=Object(ia.a)(M,2),z=R[0],A=R[1],F=Object(n.useState)({}),W=Object(ia.a)(F,2),E=W[0],H=W[1],B=Object(n.useState)({id:null,party_name:"",gst_no:"",address:""}),q=Object(ia.a)(B,2),L=q[0],Q=q[1],Y=Object(n.useState)([]),U=Object(ia.a)(Y,2),V=U[0],$=U[1],G=r.a.useState({show:!1,severity:"",message:""}),K=Object(ia.a)(G,2),Z=K[0],J=K[1];Object(n.useEffect)((function(){(T||N)&&I&&X(I)}),[]);var X=function(){var e=Object(lr.a)(sr.a.mark((function e(t){var n;return sr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),n=!1,e.next=4,tc(Ar+"/"+t,{},Ke.getToken()).then((function(e){200===e.status?ee(e.data):n=!0})).catch((function(e){d(!1),n=!0}));case 4:n&&a.push(Fe);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ee=function(e){A((function(t){return Object(Ze.a)(Object(Ze.a)({},t),{},{date:new Date(e.date),total_price_of_ready_material:parseFloat(e.total_price_of_ready_material),add_cost:parseFloat(e.add_cost),total_price:parseFloat(e.total_price),party:e.party.id,notes:e.notes})})),Q((function(t){return Object(Ze.a)(Object(Ze.a)({},t),{},{gst_no:e.party.gst_no,id:e.party.id,party_name:e.party.party_name,address:e.party.party_address})}));var t,a=[],n=Object(xd.a)(e.sale_return_component);try{for(n.s();!(t=n.n()).done;){var r=t.value;a.push({ready_material:r.ready_material,quantity:r.quantity,previousQuantity:r.quantity,quantity_to_add_deduct:0,price_per_unit:r.price_per_unit,total_price:r.total_price,availableQuantity:r.ready_material.total_quantity,isDeleted:!1,isCannotDelete:!0,message:""})}}catch(c){n.e(c)}finally{n.f()}$(a),d(!1)},te=function(){O(!1)},ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z.total_price_of_ready_material,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:z.add_cost;return{total_price:t?e+parseFloat(a):e-parseFloat(a)}},ne=function(){y(!1)},re=function(e,t){var a=V[t],n=e.target.name,r=!1,c="",i=n+""+t,o=0;if("quantity"===n)o=0,e.target.value&&!isNaN(e.target.value)&&(o=parseFloat(e.target.value)),!o||o<0?(r=!1,c="Quantity cannot be zero or negative"):r=!0,a=Object(Ze.a)(Object(Ze.a)({},a),{},{quantity:o});else{var s,l=0;e.target.value&&!isNaN(e.target.value)&&(l=parseFloat(e.target.value)),!l||l<0?(r=!1,c="Total price cannot be zero or negative"):r=!0;var d=parseFloat(z.total_price_of_ready_material)-parseFloat(a.total_price),u=ae(s=d+l).total_price;a=Object(Ze.a)(Object(Ze.a)({},a),{},{total_price:l}),A((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{total_price:u,total_price_of_ready_material:s})}))}r?(delete E[i],H((function(e){return Object(Ze.a)({},e)}))):H((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},Object(ma.a)({},i,[c]))})),$([].concat(Object(Ta.a)(V.slice(0,t)),[a],Object(Ta.a)(V.slice(t+1))))},ce=function(){p(null)},ie=function(){p(null),se()},oe=function(){if(T)se();else{var e,t,a=fa()((e={},Object(ma.a)(e,c.button,!0),Object(ma.a)(e,c.success,!0),e)),n=fa()((t={},Object(ma.a)(t,c.button,!0),Object(ma.a)(t,c.danger,!0),t));p(Object(Be.jsx)(as.a,{warning:!0,showCancel:!0,confirmBtnText:"Yes",confirmBtnCssClass:a,confirmBtnBsStyle:"outline-{variant}",title:"Heads up?",onConfirm:ie,onCancel:ce,cancelBtnCssClass:n,focusCancelBtn:!0,children:"The ready material quantities that are added will be deducted from the ready material present in the system! Are you sure you want to continue?"}))}},se=function(){var e=Object(lr.a)(sr.a.mark((function e(){var t;return sr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return{},t={id:I,state:z,readyMaterials:V,party:L.id},d(!0),e.next=5,ac(Ar,t,Ke.getToken()).then((function(e){a.push(Oe),d(!1)})).catch((function(e){d(!1),J((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{show:!0,severity:"error",message:"Error Adding/Editing Sale Return Data"})}))}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(Be.jsxs)(r.a.Fragment,{children:[Object(Be.jsxs)(Ca,{children:[Object(Be.jsx)(ya,{xs:12,sm:12,md:12,children:Object(Be.jsx)(gi,{align:"start",size:"small",onClick:function(){a.push(le)},children:Object(Be.jsx)(Zo.a,{})})}),b,Object(Be.jsx)(bi,{open:Z.show,severity:Z.severity,message:Z.message,handleClose:function(){J((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{show:!1,severity:"",message:""})}))}}),Object(Be.jsx)(fo,{handleCancel:te,handleClose:te,handleAddReadyMaterial:function(e){d(!0),$([].concat(Object(Ta.a)(V),[{ready_material:e,quantity:1,previousQuantity:0,quantity_to_add_deduct:1,price_per_unit:e.final_cost,total_price:e.final_cost,availableQuantity:e.total_quantity,isCannotDelete:!1,message:"No of ready materials to add back to stock :- 1"}]));var t=z.total_price_of_ready_material+parseFloat(e.final_cost),a=ae(t).total_price;A((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{total_price:a,total_price_of_ready_material:t})})),d(!1),O(!1)},isHandleKey:!1,noAddAvailableQuantites:!0,selectedReadyMaterial:V,open:x}),Object(Be.jsx)(po,{handleCancel:ne,handleClose:ne,handleAddParties:function(e){Q((function(t){return Object(Ze.a)(Object(Ze.a)({},t),{},{gst_no:e.gst_no,id:e.id,party_name:e.party_name,address:e.party_address})})),A((function(t){return Object(Ze.a)(Object(Ze.a)({},t),{},{party:e.id})})),delete C.party,S((function(e){return Object(Ze.a)({},e)})),ne()},open:v}),Object(Be.jsx)(ya,{xs:12,sm:12,md:10,children:Object(Be.jsxs)(Vc,{children:[Object(Be.jsxs)(ii,{color:"primary",className:t.cardHeaderStyles,children:[Object(Be.jsx)("h4",{className:t.cardTitleWhite,children:e.header}),Object(Be.jsx)("p",{className:t.cardCategoryWhite})]}),Object(Be.jsxs)(Jc,{children:[Object(Be.jsxs)(Ca,{children:[Object(Be.jsx)(ya,{xs:12,sm:12,md:4,children:Object(Be.jsx)(Hi,{onChange:function(e){return function(e){var t=Na()(e).format("YYYY-MM-DDT00:00:00.000Z");t="Invalid date"===t?null:new Date(t).toISOString(),A((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{date:t})}))}(e)},label:"Return Date",name:"return_date",disabled:N||z.cancelled,value:z.date||new Date,id:"return_date",formControlProps:{fullWidth:!0},minDate:N?null:new Date((new Date).getFullYear(),(new Date).getMonth(),1),maxDate:N?null:new Date((new Date).getFullYear(),(new Date).getMonth()+1,0),style:{width:"100%",marginTop:"1.5rem"}})}),Object(Be.jsx)(ya,{xs:12,sm:12,md:3,children:Object(Be.jsx)(Jn,{onChange:function(e){return function(e){delete C[e.target.name],S((function(e){return Object(Ze.a)({},e)}));var t=On(e.target.value)?0:parseFloat(e.target.value),a=ae(z.total_price_of_ready_material,!0,t).total_price;A((function(t){var n;return Object(Ze.a)(Object(Ze.a)({},t),{},(n={},Object(ma.a)(n,e.target.name,e.target.value),Object(ma.a)(n,"total_price",a),n))}))}(e)},labelText:"Add. Price to return",name:"add_cost",type:"number",placeHolder:"0",disabled:N,value:z.add_cost,id:"add_cost",formControlProps:{fullWidth:!0},helperTextId:"helperText_add_cost",isHelperText:zn("add_cost",C),helperText:zn("add_cost",C)?C.add_cost.map((function(e){return e+" "})):null,error:zn("add_cost",C)})}),Object(Be.jsx)(ya,{xs:12,sm:12,md:3,children:Object(Be.jsx)(Jn,{onChange:function(e){return function(e){delete C[e.target.name],S((function(e){return Object(Ze.a)({},e)})),A((function(t){return Object(Ze.a)(Object(Ze.a)({},t),{},Object(ma.a)({},e.target.name,e.target.value))}))}(e)},labelText:"Total Return Price",name:"total_price",disabled:!0,value:parseFloat(z.total_price).toFixed(2),id:"total_price",formControlProps:{fullWidth:!0},helperTextId:"helperText_total_price",isHelperText:zn("total_price",C),helperText:zn("total_price",C)?C.total_price.map((function(e){return e+" "})):null,error:zn("total_price",C)})})]}),L.id&&N?Object(Be.jsxs)(Be.Fragment,{children:[Object(Be.jsxs)(Ca,{children:[Object(Be.jsx)(ya,{xs:12,sm:12,md:6,children:Object(Be.jsx)(Jn,{labelText:"Party Name",name:"party_name",disabled:!0,value:L.party_name,id:"party_name",formControlProps:{fullWidth:!0},helperTextId:"helperText_party_name",isHelperText:zn("party_name",C),helperText:zn("party_name",C)?C.party_name.map((function(e){return e+" "})):null,error:zn("party_name",C)})}),Object(Be.jsx)(ya,{xs:12,sm:12,md:6,children:Object(Be.jsx)(Jn,{labelText:"Party GST Number",name:"party_gst_no",disabled:!0,value:L.gst_no,id:"party_gst_no",formControlProps:{fullWidth:!0},helperTextId:"helperText_party_gst_no",isHelperText:zn("party_gst_no",C),helperText:zn("party_gst_no",C)?C.party_gst_no.map((function(e){return e+" "})):null,error:zn("party_gst_no",C)})})]}),Object(Be.jsx)(Ca,{children:Object(Be.jsx)(ya,{xs:12,sm:12,md:12,children:Object(Be.jsx)(Jn,{labelText:"Party Address",name:"party_address",disabled:!0,value:L.address,id:"party_address",formControlProps:{fullWidth:!0},helperTextId:"helperText_party_address",isHelperText:zn("party_address",C),helperText:zn("party_address",C)?C.party_address.map((function(e){return e+" "})):null,error:zn("party_address",C)})})})]}):null,N?null:Object(Be.jsx)(Ca,{children:Object(Be.jsx)(ya,{xs:12,sm:12,md:12,children:Object(Be.jsxs)(Ca,{children:[Object(Be.jsxs)(ya,{xs:12,sm:12,md:12,style:{margin:"27px 0px 0px"},children:[Object(Be.jsx)(Ca,{style:{dispay:"flex"},children:Object(Be.jsx)(ya,{xs:12,sm:12,md:8,style:{color:"#C8C8C8"},children:Object(Be.jsx)("b",{children:"Party"})})}),Object(Be.jsx)("br",{}),Object(Be.jsx)(Ca,{style:{dispay:"flex"},children:Object(Be.jsxs)(ya,{xs:12,sm:12,md:8,children:[Object(Be.jsx)("b",{children:"Party Name : "})," ",L.party_name]})}),Object(Be.jsx)(Ca,{children:Object(Be.jsxs)(ya,{xs:12,sm:12,md:8,children:[Object(Be.jsx)("b",{children:"Party Gst No : "}),L.gst_no]})}),Object(Be.jsx)(Ca,{children:Object(Be.jsxs)(ya,{xs:12,sm:12,md:8,children:[Object(Be.jsx)("b",{children:"Party Address : "}),L.address]})})]}),N?null:Object(Be.jsxs)(Be.Fragment,{children:[Object(Be.jsx)(ya,{xs:12,sm:12,md:12,style:{margin:"27px 0px 0px"},children:Object(Be.jsx)(jc,{color:"primary",onClick:function(){y(!0)},children:L.id?"Change Party":"Select Party"})}),zn("party",C)?Object(Be.jsx)(ya,{xs:12,sm:12,md:12,children:Object(Be.jsx)(Gn.a,{id:"party_helpertext_id",error:zn("party",C),children:zn("party",C)?C.party.map((function(e){return e+" "})):null})}):null]})]})})}),N?null:Object(Be.jsx)(Ca,{children:Object(Be.jsx)(ya,{xs:12,sm:12,md:12,children:Object(Be.jsxs)(gi,{color:"primary",size:"medium",variant:"extended",onClick:function(){O(!0)},children:[Object(Be.jsx)(Eo.a,{className:t.extendedIcon}),Object(Be.jsx)("h5",{children:"Add Ready Material"})]})})}),Object(Be.jsx)(Ca,{children:Object(Be.jsx)(ka.a,{component:zt.a,children:Object(Be.jsxs)(At.a,{sx:{minWidth:650},"aria-label":"sale-table",children:[Object(Be.jsx)(Ft.a,{children:Object(Be.jsxs)(Wt.a,{children:[Object(Be.jsx)(Et.a,{children:"Sr No: "}),Object(Be.jsx)(Et.a,{align:"left",children:"Ready Material"}),T?Object(Be.jsx)(Et.a,{align:"left",children:"Previous Quantity"}):null,Object(Be.jsx)(Et.a,{align:"left",children:"Quantity"}),Object(Be.jsx)(Et.a,{align:"left",children:"Total Price"}),N?null:Object(Be.jsx)(Et.a,{align:"center",children:"Action"})]})}),Object(Be.jsx)(Ht.a,{children:V.map((function(e,a){return Object(Be.jsxs)(Be.Fragment,{children:[Object(Be.jsxs)(Wt.a,{sx:{"&:last-child td, &:last-child th":{border:0},backgroundColor:e.isDeleted?"#e7e7e7":"transparent",textDecoration:e.isDeleted?"line-through":"none"},children:[Object(Be.jsx)(Et.a,{align:"left",rowSpan:2,children:a+1}),Object(Be.jsx)(Et.a,{align:"left",rowSpan:2,sx:{width:1/2.8},children:Object(Be.jsxs)(ya,{xs:12,sm:12,md:12,children:[Object(Be.jsx)(Ca,{style:{dispay:"flex"},children:Object(Be.jsx)(ya,{xs:12,sm:12,md:12,children:Object(Be.jsx)("div",{className:t.imageDivInTable,children:e.ready_material.images&&e.ready_material.images.length&&e.ready_material.images[0].url?Object(Be.jsx)("img",{alt:"ready_material_photo",src:pr+e.ready_material.images[0].url,loader:Object(Be.jsx)(oo.a,{}),style:{height:"5rem",width:"10rem"},className:t.UploadImage}):Object(Be.jsx)("img",{src:xo,alt:"ready_material_photo",style:{height:"5rem",width:"10rem"},loader:Object(Be.jsx)(oo.a,{}),className:t.DefaultNoImage})})})}),Object(Be.jsx)(Ca,{children:Object(Be.jsxs)(ya,{xs:12,sm:12,md:8,children:[Object(Be.jsx)("b",{children:"Material No : "}),e.ready_material.material_no]})}),Object(Be.jsx)(Ca,{children:Object(Be.jsxs)(ya,{xs:12,sm:12,md:8,children:[Object(Be.jsx)("b",{children:"Total Available Quantity : "}),e.availableQuantity]})})]})}),T?Object(Be.jsx)(Et.a,{align:"left",children:e.previousQuantity?e.previousQuantity:null}):null,Object(Be.jsx)(Et.a,{align:"left",children:Object(Be.jsx)(Jn,{onChange:function(e){return re(e,a)},type:"number",disabled:N,name:"quantity",value:e.quantity,id:"quantity",formControlProps:{fullWidth:!1},helperTextId:"quantity"+a,isHelperText:zn("quantity"+a,E),helperText:zn("quantity"+a,E)?E["quantity"+a].map((function(e){return e+" "})):null,error:zn("quantity"+a,E)})}),Object(Be.jsx)(Et.a,{align:"left",children:Object(Be.jsx)(Jn,{onChange:function(e){return re(e,a)},type:"number",disabled:N,name:"total_price",value:e.total_price,id:"total_price",formControlProps:{fullWidth:!1},helperTextId:"total_price"+a,isHelperText:zn("total_price"+a,E),helperText:zn("total_price"+a,E)?E["total_price"+a].map((function(e){return e+" "})):null,error:zn("total_price"+a,E)})}),N?null:Object(Be.jsx)(Et.a,{align:"left",children:Object(Be.jsx)(ya,{xs:12,sm:12,md:2,children:Object(Be.jsx)(mi.a,{title:e.isDeleted?"Restore Back":"Delete",children:Object(Be.jsx)(gi,{color:"primary",align:"left",size:"small",onClick:function(){!function(e){var t=V[e];d(!0);var a=z.total_price_of_ready_material-parseFloat(t.total_price),n=ae(a).total_price;delete E["quantity"+e],delete E["price_per_unit"+e],H((function(e){return Object(Ze.a)({},e)})),A((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{total_price:n,total_price_of_ready_material:a})})),t.isCannotDelete?(t=Object(Ze.a)(Object(Ze.a)({},t),{},{quantity_to_add_deduct:-t.previousQuantity,isDeleted:!0,message:"No of ready material added back to stock : "+t.previousQuantity}),$([].concat(Object(Ta.a)(V.slice(0,e)),[t],Object(Ta.a)(V.slice(e+1))))):(V.splice(e,1),$(V)),d(!1)}(a)},children:e.isDeleted?Object(Be.jsx)(jd.a,{}):Object(Be.jsx)(Xo.a,{})})})})})]},e.ready_material.id),Object(Be.jsx)(Wt.a,{sx:{"&:last-child td, &:last-child th":{border:0},backgroundColor:e.isDeleted?"#e7e7e7":"transparent",color:"green"},children:Object(Be.jsx)(Et.a,{align:"left",colSpan:5,sx:{color:"green"},children:e.message})})]})}))}),Object(Be.jsx)(Ht.a,{sx:{borderTop:1,borderColor:"gray"},children:Object(Be.jsxs)(Wt.a,{children:[Object(Be.jsx)(Et.a,{colSpan:3,align:"right",children:"Total price"}),Object(Be.jsx)(Et.a,{children:yn(parseFloat(z.total_price_of_ready_material).toFixed(2),!0)}),Object(Be.jsx)(Et.a,{})]})})]})})})]}),N?null:Object(Be.jsx)(ai,{children:Object(Be.jsx)(jc,{color:"primary",onClick:function(e){return function(e){e.preventDefault(),d(!0);var t,a=!1;t=Rn(z,Od),Mn(t)&&Mn(E)?(d(!1),S({}),a=!0):(d(!1),S(t)),a&&oe(),d(!1)}(e)},disabled:!V.length||Object.keys(E).length,children:"Save"})})]})})]}),Object(Be.jsx)(io.a,{className:t.backdrop,open:l,children:Object(Be.jsx)(oo.a,{color:"inherit"})})]})}var yd=Object(We.a)(so);function _d(){var e=r.a.createRef(),t=Object(s.useHistory)(),a=Object(n.useState)({_sort:"date:desc"}),c=Object(ia.a)(a,2),i=c[0],o=c[1],l=yd(),d=Object(n.useState)(!1),u=Object(ia.a)(d,2),j=u[0],b=u[1],p=Object(n.useState)({id:null,party_name:"",gst_no:"",address:""}),h=Object(ia.a)(p,2),m=h[0],x=h[1],O=Object(n.useState)({}),f=Object(ia.a)(O,2),g=f[0],v=f[1],y=r.a.useState({show:!1,severity:"",message:""}),_=Object(ia.a)(y,2),w=_[0],C=_[1],S=Object(n.useState)(!1),k=Object(ia.a)(S,2),T=k[0],P=k[1],N=[{title:"Return date",field:"date",render:function(e){return fn(new Date(e.date))}},{title:"Party name",field:"party.party_name"},{title:"Total amount to return",field:"total_price",render:function(e){return yn(e.total_price,!0)}}],D=function(){var e=Object(lr.a)(sr.a.mark((function e(t,a){var n;return sr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={page:t,pageSize:a},Object.keys(i).map((function(e){n.hasOwnProperty(e)||(n[e]=i[e])})),e.abrupt("return",new Promise((function(e,t){fetch(Ar+"?"+new URLSearchParams(n),{method:"GET",headers:{"content-type":"application/json",Authorization:"Bearer "+Ke.getToken()}}).then((function(e){if(e.ok)return e.json();if(401!==e.status)throw new Error("Something went wrong");Ke.clearAppStorage(),window.location.href="".concat(hr,"/login")})).then((function(t){e({data:t.data,page:t.page-1,totalCount:t.totalCount})})).catch((function(e){throw e}))})));case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),I=function(e){On(e.target.value)?(delete i[e.target.name],o((function(e){return Object(Ze.a)({},e)}))):o((function(t){return Object(Ze.a)(Object(Ze.a)({},t),{},Object(ma.a)({},e.target.name,e.target.value))}))},M=function(){P(!1)},R=function(){var e=Object(lr.a)(sr.a.mark((function e(){var t;return sr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=!0,i.hasOwnProperty("date_gte")?(delete g.date_gte,v((function(e){return Object(Ze.a)({},e)}))):(v((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{date_gte:["Please select from date"]})})),t=!1),i.hasOwnProperty("date_lte")||(v((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{date_lte:["Please select to date"]})})),t=!1),!t){e.next=11;break}if(!(new Date(i.date_gte)<new Date(i.date_lte))){e.next=10;break}return b(!0),e.next=8,tc(zr,{fromDate:i.date_gte,toDate:i.date_lte},Ke.getToken()).then((function(e){Object(ad.saveAs)(new Blob([z(e.data)],{type:"application/octet-stream"}),"sales_data_from_".concat(gn(i.date_gte),"_to_").concat(gn(i.date_lte),".xlsx")),b(!1)})).catch((function(e){b(!1),C((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{show:!0,severity:"error",message:"Error while exporting data"})}))}));case 8:e.next=11;break;case 10:v((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{date_gte:["From date cannot be greater than to date"]})}));case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function z(e){for(var t=new ArrayBuffer(e.length),a=new Uint8Array(t),n=0;n<e.length;n++)a[n]=255&e.charCodeAt(n);return t}return Object(Be.jsxs)(Be.Fragment,{children:[Object(Be.jsx)(bi,{open:w.show,severity:w.severity,message:w.message,handleClose:function(){C((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{show:!1,severity:"",message:""})}))}}),Object(Be.jsx)(po,{handleCancel:M,handleClose:M,handleAddParties:function(e){x((function(t){return Object(Ze.a)(Object(Ze.a)({},t),{},{gst_no:e.gst_no,id:e.id,party_name:e.party_name,address:e.party_address})})),o((function(t){return Object(Ze.a)(Object(Ze.a)({},t),{},{party:e.id})})),M()},open:T}),Object(Be.jsx)(Ca,{children:Object(Be.jsx)(ya,{xs:12,sm:12,md:12,children:Object(Be.jsxs)(Vc,{children:[Object(Be.jsxs)(ii,{color:"primary",className:l.cardHeaderStyles,children:[Object(Be.jsx)(Fo.a,{fontSize:"large"}),Object(Be.jsx)("p",{className:l.cardCategoryWhite})]}),Object(Be.jsxs)(Jc,{children:[Object(Be.jsx)(Ca,{children:Object(Be.jsx)(ya,{xs:12,sm:12,md:12,children:Object(Be.jsx)(gi,{color:"primary",align:"end",size:"small",onClick:function(){t.push(me)},children:Object(Be.jsx)(Eo.a,{})})})}),Object(Be.jsxs)(Ca,{children:[Object(Be.jsx)(ya,{xs:12,sm:12,md:3,children:Object(Be.jsx)(Hi,{onChange:function(e){return function(e){delete g.date_gte,v((function(e){return Object(Ze.a)({},e)}));var t=Na()(e).format("YYYY-MM-DDT00:00:00.000Z");"Invalid date"===t?(t=null,delete i.date_gte,o((function(e){return Object(Ze.a)({},e)}))):(t=new Date(t).toISOString(),o((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{date_gte:t})})))}(e)},label:"Return date from",name:"date_gte",value:i.date_gte||null,id:"date_gte",formControlProps:{fullWidth:!0},style:{marginTop:"1.5rem",width:"100%"},helperTextId:"helperText_date_gte",isHelperText:zn("date_gte",g),helperText:zn("date_gte",g)?g.date_gte.map((function(e){return e+" "})):null,error:zn("date_gte",g)})}),Object(Be.jsx)(ya,{xs:12,sm:12,md:3,children:Object(Be.jsx)(Hi,{onChange:function(e){return function(e){delete g.date_lte,v((function(e){return Object(Ze.a)({},e)}));var t=Na()(e).endOf("day").format("YYYY-MM-DDT23:59:59.999Z");"Invalid date"===t?(t=null,delete i.date_lte,o((function(e){return Object(Ze.a)({},e)}))):(t=new Date(t).toISOString(),o((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{date_lte:t})})))}(e)},label:"Return date to",name:"date_lte",value:i.date_lte||null,id:"date_lte",formControlProps:{fullWidth:!0},style:{marginTop:"1.5rem",width:"100%"},helperTextId:"helperText_date_lte",isHelperText:zn("date_lte",g),helperText:zn("date_lte",g)?g.date_lte.map((function(e){return e+" "})):null,error:zn("date_lte",g)})}),Object(Be.jsx)(ya,{xs:12,sm:12,md:3,children:Object(Be.jsx)(Jn,{onChange:function(e){return I(e)},labelText:"Total amount from",value:i.total_price_gte||"",name:"total_price_gte",id:"total_price_gte",formControlProps:{fullWidth:!0}})}),Object(Be.jsx)(ya,{xs:12,sm:12,md:3,children:Object(Be.jsx)(Jn,{onChange:function(e){return I(e)},labelText:"Total amount to",value:i.total_price_lte||"",name:"total_price_lte",id:"total_price_lte",formControlProps:{fullWidth:!0}})})]}),Object(Be.jsxs)(Ca,{children:[Object(Be.jsx)(ya,{xs:12,sm:12,md:7,style:{margin:"27px 0px 0px"},children:Object(Be.jsxs)(Ca,{style:{border:"1px solid #C0C0C0",borderRadius:"10px"},children:[Object(Be.jsxs)(ya,{xs:12,sm:12,md:7,style:{margin:"5px 0px 0px 0px"},children:[Object(Be.jsx)(Ca,{style:{dispay:"flex"},children:Object(Be.jsxs)(ya,{xs:12,sm:12,md:8,children:[Object(Be.jsx)("b",{children:"Party Name : "})," ",m.party_name]})}),Object(Be.jsx)(Ca,{children:Object(Be.jsxs)(ya,{xs:12,sm:12,md:8,children:[Object(Be.jsx)("b",{children:"Party Gst No : "}),m.gst_no]})})]}),Object(Be.jsx)(ya,{xs:12,sm:12,md:3,children:Object(Be.jsx)(jc,{color:"primary",onClick:function(){P(!0)},children:i.party?"Change Party":"Select party"})}),Object(Be.jsx)(ya,{xs:12,sm:12,md:2,children:Object(Be.jsx)(la.a,{onClick:function(){x((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{gst_no:"",id:null,party_name:"",address:""})})),delete i.party,o((function(e){return Object(Ze.a)({},e)}))},children:Object(Be.jsx)(Go.a,{})})})]})}),Object(Be.jsxs)(ya,{xs:12,sm:12,md:4,style:{marginTop:"27px"},children:[Object(Be.jsx)(jc,{color:"primary",onClick:function(){v([]),e.current.onQueryChange()},children:"Search"}),Object(Be.jsx)(jc,{color:"primary",onClick:function(){o({_sort:"date:desc"}),e.current.onQueryChange()},children:"Cancel"}),Object(Be.jsx)(jc,{color:"primary",onClick:function(){R()},children:"Export"})]})]}),Object(Be.jsx)("br",{}),Object(Be.jsx)($t,{tableRef:e,title:"Sales",columns:N,data:function(){var e=Object(lr.a)(sr.a.mark((function e(t){return sr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D(t.page+1,t.pageSize);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),actions:[function(e){return{icon:function(){return Object(Be.jsx)(Mo.a,{fontSize:"small"})},tooltip:"Edit",onClick:function(e,a){t.push("".concat(xe,"?id=").concat(a.id))}}},function(e){return{icon:function(){return Object(Be.jsx)(zo.a,{fontSize:"small",color:"primary"})},tooltip:"View",onClick:function(e,a){t.push("".concat(he,"?id=").concat(a.id))}}}],options:{pageSize:10,actionsColumnIndex:-1,search:!1,sorting:!0,thirdSortClick:!1,pageSizeOptions:[10,20,50]},onOrderChange:function(t,a){!function(t,a){var n,r;t>=0&&(n=N[t].field),r=n+":"+a,o((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{_sort:r})})),e.current.onQueryChange()}(t,a)}})]})]})})}),Object(Be.jsx)(io.a,{className:l.backdrop,open:j,children:Object(Be.jsx)(oo.a,{color:"inherit"})})]})}var wd=a(817),Cd=Object(We.a)(so),Sd=Object(We.a)(lc);function kd(e){var t,a,c=Cd(),i=Sd(),o=fa()((t={},Object(ma.a)(t,i.button,!0),Object(ma.a)(t,i.success,!0),t)),l=fa()((a={},Object(ma.a)(a,i.button,!0),Object(ma.a)(a,i.danger,!0),a)),d=Object(s.useHistory)(),u=Object(n.useState)(!1),j=Object(ia.a)(u,2),b=j[0],p=j[1],h=Object(n.useState)(null),m=Object(ia.a)(h,2),x=m[0],O=m[1],f=Object(n.useState)(!1),g=Object(ia.a)(f,2),v=g[0],y=g[1],_=Object(n.useState)(!1),w=Object(ia.a)(_,2),C=w[0],S=w[1],k=Object(n.useState)({}),T=Object(ia.a)(k,2),P=T[0],N=(T[1],r.a.useState({})),D=Object(ia.a)(N,2),I=D[0],M=D[1],R=r.a.useState({}),z=Object(ia.a)(R,2),A=z[0],F=z[1],W=r.a.useState(null),E=Object(ia.a)(W,2),H=E[0],B=E[1],q=Object(n.useState)(e.isEdit?e.isEdit:null),L=Object(ia.a)(q,1)[0],Q=Object(n.useState)(e.isView?e.isView:null),Y=Object(ia.a)(Q,1)[0],U=Object(n.useState)(e.id?e.id:null),V=Object(ia.a)(U,1)[0],$=Object(n.useState)(!1),G=Object(ia.a)($,2),K=G[0],Z=G[1],J=Object(n.useState)({order_id:"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})),inProgress:!0,cancelled:!1,completed:!1,notes:"",quantity:0,party_no:"",date:new Date,bufferQuantity:0}),X=Object(ia.a)(J,2),te=X[0],ne=X[1],re=Object(n.useState)({id:null,party_name:"",gst_no:""}),ce=Object(ia.a)(re,2),ie=ce[0],oe=ce[1],le=Object(n.useState)({id:null,material_no:"",images:[],material_price:0,add_price:0,color_price:[],colors:0}),de=Object(ia.a)(le,2),ue=de[0],je=de[1],be=new URLSearchParams(window.location.search),pe=Object(n.useState)([]),he=Object(ia.a)(pe,2),me=he[0],xe=he[1],Oe=Object(n.useState)([]),fe=Object(ia.a)(Oe,2),ge=fe[0],ve=fe[1],ye=Object(n.useState)([]),_e=Object(ia.a)(ye,2),we=_e[0],Ce=_e[1],Se=Object(n.useState)(null),ke=Object(ia.a)(Se,2),Te=ke[0],Pe=ke[1],Ne=r.a.useState({show:!1,severity:"",message:""}),De=Object(ia.a)(Ne,2),Ie=De[0],Me=De[1];Object(n.useEffect)((function(){(L||Y)&&V&&Ee(V),He()}),[]),Object(n.useEffect)((function(){var e=0;e=me.reduce((function(e,t){return e+Sn(t.quantityCompleted)}),e);var t=Sn(e),a=Sn(te.quantity);ne(t&&a&&t<=a&&t===a?function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{inProgress:!1,completed:!0})}:function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{inProgress:!0,completed:!1})})}),[te.quantity]);var Re=function(){Z(!1)},ze=function(){O(null)},Ae=function(){O(null),Le()},Fe=function(){y(!1)},We=function(){S(!1)},Ee=function(){var e=Object(lr.a)(sr.a.mark((function e(t){return sr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(!0),e.next=3,tc(Yr+"/"+t,{},Ke.getToken()).then((function(e){p(!1),qe(e.data)})).catch((function(e){p(!1),Me((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{show:!0,severity:"error",message:"Error viewing/editing order"})}))}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),He=function(){var e=Object(lr.a)(sr.a.mark((function e(){return sr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(!0),e.next=3,tc(Tr,{pageSize:-1},Ke.getToken()).then((function(e){p(!1),ve(e.data.data)})).catch((function(e){p(!1),Me((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{show:!0,severity:"error",message:"Error getting color data"})}))}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),qe=function(e){if(ne((function(t){return Object(Ze.a)(Object(Ze.a)({},t),{},{order_id:e.order_id,inProgress:e.in_progress,cancelled:e.cancelled,completed:e.completed,notes:e.notes,quantity:e.quantity,date:new Date(e.date),party_no:e.party_no})})),e.design){var t=e.design;je({id:t.id,material_no:t.material_no,images:t.images,material_price:t.material_price,add_price:t.add_price,color_price:[],colors:t.colors})}if(e.party){var a=e.party;oe({id:a.id,party_name:a.party_name,gst_no:a.gst_no})}xe(e.ratio)},Le=function(){var e=Object(lr.a)(sr.a.mark((function e(){var t,a,n;return sr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p(!0),!L){e.next=6;break}return e.next=4,rc(Yr,V,{order_id:null===(t=te.order_id)||void 0===t?void 0:t.trim(),quantity:te.quantity,date:te.date,in_progress:te.inProgress,completed:te.completed,cancelled:te.cancelled,notes:te.notes,ratio:me},Ke.getToken()).then((function(e){d.push(ee),p(!1)})).catch((function(e){p(!1),Me((function(t){return Object(Ze.a)(Object(Ze.a)({},t),{},{show:!0,severity:"error",message:e.response.message?e.response.message:"Error editing new order"})}))}));case 4:e.next=9;break;case 6:return n={order_id:null===(a=te.order_id)||void 0===a?void 0:a.trim(),design:ue.id,quantity:te.quantity,party:ie.id,party_no:te.party_no,date:te.date,in_progress:te.inProgress,completed:te.completed,cancelled:te.cancelled,notes:te.notes,ratio:me},e.next=9,ac(Yr,n,Ke.getToken()).then((function(e){d.push("".concat(ae,"/").concat(e.data.id)),window.location.reload(),p(!1)})).catch((function(e){p(!1),Me((function(t){return Object(Ze.a)(Object(Ze.a)({},t),{},{show:!0,severity:"error",message:e.response.message?e.response.message:"Error adding new order"})}))}));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Qe=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=arguments.length>4?arguments[4]:void 0,c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,i=!0,o=a?e.target.value:e?e.id:null,s=[],d=me[t],u=!0;a?("string"===typeof(o=isNaN(parseFloat(o))?o:parseFloat(o))?s=["".concat(n," should be a valid positive number")]:o<0&&(s=["".concat(n," cannot be negative")],i=!1),"Quantity Completed"===n&&Sn(o)>d.quantity&&(s=["".concat(n," should be smaller then quantity which is placed on the left")],i=!1),"Quantity"===n&&(delete I["quantityCompleted"+t],!te.quantity||On(te.quantity)?(M((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{quantity:["Total Order Quantity cannot be 0"]})})),u=!1):Sn(o)<d.quantityCompleted&&(s=["".concat(n," should be greater then quantity completed which is on the right")],i=!1))):(d=Object(Ze.a)(Object(Ze.a)({},d),{},{colorData:e}),e?(-1!==me.findIndex((function(e){return e.color===o}))&&(u=!1,Pe(Object(Be.jsx)(as.a,{danger:!0,confirmBtnText:"Cancel",confirmBtnCssClass:l,title:"Heads up?",onConfirm:function(){return Pe(null)},children:"Ratio ".concat(e.name," is already added!")}))),u&&(we.includes(o)?F((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},Object(ma.a)({},r,{msg:"Color already present",isError:!1}))})):F((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},Object(ma.a)({},r,{msg:"Color not present",isError:!0}))})))):(delete A[r],F((function(e){return Object(Ze.a)({},e)})))),i?(delete I[r],M((function(e){return Object(Ze.a)({},e)}))):M((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},Object(ma.a)({},r,s))})),u&&(d=Object(Ze.a)(Object(Ze.a)({},d),{},Object(ma.a)({},c||e.target.name,o)),xe([].concat(Object(Ta.a)(me.slice(0,t)),[d],Object(Ta.a)(me.slice(t+1)))))},Ye=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=!0,r=e.target.value,c=[];t&&("string"===typeof(r=isNaN(parseFloat(r))?r:parseFloat(r))?c=["".concat(a," should be a valid positive number")]:r<0&&(c=["".concat(a," cannot be negative")],n=!1)),n?(delete I[e.target.name],M((function(e){return Object(Ze.a)({},e)}))):M((function(t){return Object(Ze.a)(Object(Ze.a)({},t),{},Object(ma.a)({},e.target.name,c))})),ne((function(t){return Object(Ze.a)(Object(Ze.a)({},t),{},Object(ma.a)({},e.target.name,r))}))},Ue=function(){var e=Object(lr.a)(sr.a.mark((function e(){return sr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p(!0),tc(Vr+"/"+V,{},Ke.getToken()).then((function(e){Object(ad.saveAs)(new Blob([_n(e.data)],{type:"application/octet-stream"}),"raw_material_availibility for order ".concat(te.order_id)),p(!1)})).catch((function(e){p(!1),Me((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{show:!0,severity:"error",message:"Error while exporting data"})}))}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ve=function(e){var t=0;return 0===e?t=me.reduce((function(e,t){return e+Sn(t.quantity)}),t):1===e?t=me.reduce((function(e,t){return e+Sn(t.quantityCompleted)}),t):2===e&&(t=me.reduce((function(e,t){return e+(Sn(t.quantity)-Sn(t.quantityCompleted))}),t)),t.toFixed(2)},$e=function(){var e=0;return e=me.reduce((function(e,t){return e+Sn(t.quantity)}),e),Sn(te.quantity)-e};return Object(Be.jsxs)(Ca,{children:[Object(Be.jsx)(ya,{xs:12,sm:12,md:12,children:Object(Be.jsx)(gi,{align:"start",size:"small",onClick:function(){d.push(ee)},children:Object(Be.jsx)(Zo.a,{})})}),Object(Be.jsx)(bi,{open:Ie.show,severity:Ie.severity,message:Ie.message,handleClose:function(){Me((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{show:!1,severity:"",message:""})}))}}),Te,x,Object(Be.jsx)(To,{handleCancel:Fe,handleClose:Fe,handleAddDesign:function(e){delete I.design,me.forEach((function(e,t){delete I["quantity"+t],delete I["quantityCompleted"+t]})),M((function(e){return Object(Ze.a)({},e)})),xe([{color:null,colorData:null,quantity:0,quantityCompleted:0,order:null}]);var t=null;Ce(e.colors.map((function(e){return"white"===e.name.toLowerCase()&&(t=e.id),e.id}))),t||B("Note:- No white/plain color ratio found in design, please add white/plain colors detail in design to add its ratio below"),ve(ge.filter((function(e){return"white"!==e.name.toLowerCase()}))),je((function(t){return Object(Ze.a)(Object(Ze.a)({},t),{},{id:e.id,material_no:e.material_no,images:e.images,material_price:e.material_price,add_price:e.add_price,color_price:e.color_price,colors:e.colors})})),Fe()},isHandleKey:!1,open:v,selectMultiColors:!1}),Object(Be.jsx)(po,{handleCancel:Re,handleClose:Re,handleAddParties:function(e){oe((function(t){return Object(Ze.a)(Object(Ze.a)({},t),{},{gst_no:e.gst_no,id:e.id,party_name:e.party_name})})),delete I.party,M((function(e){return Object(Ze.a)({},e)})),Re()},open:K}),Object(Be.jsx)(go,{handleCancel:We,handleClose:We,availibleStocks:P,open:C}),Object(Be.jsxs)(ya,{xs:12,sm:12,md:8,children:[Object(Be.jsxs)(Vc,{children:[Object(Be.jsxs)(ii,{color:"primary",className:c.cardHeaderStyles,children:[Object(Be.jsx)("h4",{className:c.cardTitleWhite,children:e.header}),Object(Be.jsx)("p",{className:c.cardCategoryWhite})]}),Object(Be.jsxs)(Jc,{children:[Object(Be.jsxs)(Ca,{children:[Object(Be.jsx)(ya,{xs:12,sm:12,md:6,children:Object(Be.jsx)(Jn,{onChange:function(e){return Ye(e)},labelText:"Order ID",name:"order_id",disabled:Y,value:te.order_id,id:"order_id",formControlProps:{fullWidth:!0},helperTextId:"helperText_order_id",isHelperText:zn("order_id",I),helperText:zn("order_id",I)?I.order_id.map((function(e){return e+" "})):null,error:zn("order_id",I)})}),Object(Be.jsx)(ya,{xs:12,sm:12,md:4,children:Object(Be.jsx)(Hi,{onChange:function(e){return function(e){var t=Na()(e).format("YYYY-MM-DDT00:00:00.000Z");t="Invalid date"===t?null:new Date(t).toISOString(),ne((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{date:t})}))}(e)},label:"Order Date",name:"order_date",disabled:Y,value:te.date||new Date,id:"order_date",formControlProps:{fullWidth:!0},style:{width:"100%",marginTop:"1.5rem"}})})]}),Object(Be.jsx)(Ca,{children:Object(Be.jsxs)(ya,{xs:12,sm:12,md:12,style:{margin:"20px 10px 0px 13px",overflowX:"auto"},children:[Object(Be.jsx)(Ca,{children:Object(Be.jsx)(ya,{xs:12,sm:12,md:12,style:{margin:"0px 0px 10px 0px",overflowX:"auto"},children:Object(Be.jsx)("b",{children:"Design : "})})}),Object(Be.jsxs)(Ca,{style:{margin:"2px 2px 2px 2px",border:"1px solid #C0C0C0",borderRadius:"10px",overflowX:"auto"},children:[Object(Be.jsx)(ya,{xs:12,sm:12,md:10,style:{margin:"15px 0px 10px 0px",overflowX:"auto"},children:ue.id?Object(Be.jsxs)("div",{style:{textAlign:"center"},children:[Object(Be.jsx)(Ca,{children:Object(Be.jsx)(ya,{xs:12,md:12,lg:12,style:{overflowX:"auto"},children:Object(Be.jsx)("div",{className:c.imageDivInTable,children:ue.images&&ue.images.length&&ue.images[0].url?Object(Be.jsx)("img",{alt:"ready_material_photo",src:pr+ue.images[0].url,loader:Object(Be.jsx)(oo.a,{}),style:{height:"10rem",width:"20rem"},className:c.UploadImage}):Object(Be.jsx)("img",{src:xo,alt:"ready_material_photo",style:{height:"10rem",width:"20rem"},loader:Object(Be.jsx)(oo.a,{}),className:c.DefaultNoImage})})})}),Object(Be.jsxs)(Ca,{children:[Object(Be.jsxs)(ya,{xs:12,sm:12,md:12,children:[Object(Be.jsx)("b",{children:"Material No : "})," ",ue.material_no]}),Object(Be.jsx)(So,{data:ue.colors})]})]}):Object(Be.jsx)(Ca,{style:{dispay:"flex"},children:Object(Be.jsx)(ya,{xs:12,sm:12,md:12,children:"No Design Selected"})})}),Object(Be.jsx)(ya,{xs:12,sm:12,md:1,children:Object(Be.jsx)(mi.a,{title:ue.id?"Change Design ":"Select Design",children:Object(Be.jsx)(la.a,{disabled:Y||L||te.cancelled||te.completed,onClick:function(){y(!0)},children:Object(Be.jsx)(Mo.a,{})})})}),Object(Be.jsx)(ya,{xs:12,sm:12,md:1,children:Object(Be.jsx)(la.a,{disabled:Y||L||te.cancelled||te.completed,onClick:function(){return delete I.design,je((function(e){return{id:null,material_no:"",images:[],material_price:0,add_price:0,color_price:[],colors:0}})),me.forEach((function(e,t){delete I["quantity"+t],delete I["quantityCompleted"+t]})),M((function(e){return Object(Ze.a)({},e)})),void xe([])},children:Object(Be.jsx)(Go.a,{})})})]}),Object(Be.jsx)(Ca,{children:Object(Be.jsx)(ya,{children:zn("ready_material",I)?Object(Be.jsx)(ya,{xs:12,sm:12,md:12,children:Object(Be.jsx)(Gn.a,{id:"ready_material_helpertext_id",error:zn("ready_material",I),children:zn("ready_material",I)?I.ready_material.map((function(e){return e+" "})):null})}):null})})]})}),Object(Be.jsx)(Ca,{children:Object(Be.jsxs)(ya,{xs:12,sm:12,md:12,style:{margin:"20px 10px 0px 13px"},children:[Object(Be.jsx)(Ca,{children:Object(Be.jsx)(ya,{xs:12,sm:12,md:12,style:{margin:"0px 0px 10px 0px"},children:Object(Be.jsx)("b",{children:"Party : "})})}),Object(Be.jsxs)(Ca,{style:{margin:"2px 2px 0px 2px",border:"1px solid #C0C0C0",borderRadius:"10px"},children:[Object(Be.jsx)(ya,{xs:12,sm:12,md:10,style:{margin:"15px 0px 10px 0px"},children:ie.id?Object(Be.jsx)(Be.Fragment,{children:Object(Be.jsxs)(Ca,{style:{dispay:"flex"},children:[Object(Be.jsxs)(ya,{xs:12,sm:12,md:12,children:[Object(Be.jsx)("b",{children:"Party : "})," ",ie.party_name]}),Object(Be.jsxs)(ya,{xs:12,sm:12,md:12,children:[Object(Be.jsx)("b",{children:"GST No : "})," ",ie.gst_no]})]})}):Object(Be.jsx)(Ca,{style:{dispay:"flex"},children:Object(Be.jsx)(ya,{xs:12,sm:12,md:12,children:"No party selected"})})}),Object(Be.jsx)(ya,{xs:12,sm:12,md:1,children:Object(Be.jsx)(mi.a,{title:ie.id?"Change Party ":"Select Party",children:Object(Be.jsx)(la.a,{disabled:Y||L||te.cancelled||te.completed,onClick:function(){Z(!0)},children:Object(Be.jsx)(Mo.a,{})})})}),Object(Be.jsx)(ya,{xs:12,sm:12,md:1,children:Object(Be.jsx)(la.a,{disabled:Y||L||te.cancelled||te.completed,onClick:function(){delete I.party,M((function(e){return Object(Ze.a)({},e)})),oe((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{gst_no:"",id:null,party_name:""})}))},children:Object(Be.jsx)(Go.a,{})})})]}),Object(Be.jsx)(Ca,{children:Object(Be.jsx)(ya,{children:zn("party",I)?Object(Be.jsx)(ya,{xs:12,sm:12,md:12,children:Object(Be.jsx)(Gn.a,{id:"party_helpertext_id",error:zn("party",I),children:zn("party",I)?I.party.map((function(e){return e+" "})):null})}):null})})]})}),Object(Be.jsx)(Ca,{children:Object(Be.jsx)(ya,{xs:12,sm:12,md:4,children:Object(Be.jsx)(Jn,{onChange:function(e){return Ye(e)},labelText:"Party Number",name:"party_no",disabled:Y||te.cancelled||L,value:te.party_no,id:"party_no",formControlProps:{fullWidth:!0}})})}),Object(Be.jsxs)(Ca,{children:[Object(Be.jsx)(ya,{xs:12,sm:12,md:6,children:Object(Be.jsx)(Jn,{onChange:function(e){return Ye(e,!0,"Total Order Quantity")},labelText:"Total Order Quantity",name:"quantity",disabled:Y||te.completed||te.cancelled,value:te.quantity,id:"quantity",formControlProps:{fullWidth:!0},type:"number",helperTextId:"helperText_quantity",isHelperText:zn("quantity",I),helperText:zn("quantity",I)?I.quantity.map((function(e){return e+" "})):null,error:zn("quantity",I)})}),Object(Be.jsx)(ya,{xs:12,sm:12,md:6,children:Object(Be.jsx)(Jn,{labelText:"Buffer Quantity / Quantity for which ratio not present",disabled:!0,value:$e(),id:"bufferQuantity",formControlProps:{fullWidth:!0},name:"bufferQuantity",type:"number"})})]}),Object(Be.jsxs)(Ca,{children:[Object(Be.jsx)(ya,{xs:12,sm:4,md:4,className:c.switchBox,children:Object(Be.jsx)("div",{className:c.block,children:Object(Be.jsx)(Qi.a,{control:Object(Be.jsx)(dl.a,{disabled:Y||te.cancelled||te.completed,checked:!!te.inProgress,classes:{switchBase:c.switchBase,checked:c.switchChecked,thumb:c.switchIcon,track:c.switchBar}}),classes:{label:c.label},label:"In Progress"})})}),Object(Be.jsx)(ya,{xs:12,sm:4,md:4,className:c.switchBox,children:Object(Be.jsx)("div",{className:c.block,children:Object(Be.jsx)(Qi.a,{control:Object(Be.jsx)(dl.a,{checked:!!te.completed,disabled:Y||te.cancelled||!te.quantity,onChange:function(e){ne((function(t){return Object(Ze.a)(Object(Ze.a)({},t),{},{completed:e.target.checked,inProgress:!e.target.checked})}))},classes:{switchBase:c.switchBase,checked:c.switchChecked,thumb:c.switchIcon,track:c.switchBar}}),classes:{label:c.label},label:"Completed"})})}),L?Object(Be.jsx)(ya,{xs:12,sm:4,md:4,className:c.switchBox,children:Object(Be.jsx)("div",{className:c.block,children:Object(Be.jsx)(Qi.a,{control:Object(Be.jsx)(dl.a,{checked:!!te.cancelled,onChange:function(e){ne((function(t){return Object(Ze.a)(Object(Ze.a)({},t),{},{cancelled:e.target.checked,completed:!1,inProgress:!e.target.checked})}))},disabled:Y||te.quantity===te.completed_quantity||te.completed,classes:{switchBase:c.switchBase,checked:c.switchChecked,thumb:c.switchIcon,track:c.switchBar}}),classes:{label:c.label},label:"Cancelled"})})}):null]}),H?Object(Be.jsx)(Ca,{children:Object(Be.jsx)(ya,{xs:12,sm:12,md:12,style:{marginTop:"20px"},children:Object(Be.jsx)(wo.a,{variant:"body2",gutterBottom:!0,sx:{color:"red"},children:H})})}):null,me&&me.length?Object(Be.jsx)(Ca,{children:Object(Be.jsx)(ya,{xs:12,sm:12,md:12,style:{margin:"20px 10px 20px 13px"},children:Object(Be.jsx)(Ca,{style:{margin:"1px 1px 1px 1px",border:"1px solid #C0C0C0",borderRadius:"10px"},children:Object(Be.jsx)(ya,{xs:12,sm:12,md:12,children:Object(Be.jsx)(Be.Fragment,{children:me.map((function(e,t){var a;return Object(Be.jsxs)(Ca,{children:[Object(Be.jsx)(ya,{xs:12,sm:12,md:3,children:Object(Be.jsx)(ir,{id:"color"+t,labelText:"Color",autocompleteId:"color"+t,optionKey:"name",disabled:L||Y||te.cancelled||te.completed,renderOption:function(e,t){return we.includes(e.id)?Object(Be.jsx)(wd.a,{label:e.name,color:"success",variant:"outlined"}):Object(Be.jsx)(wd.a,{label:e.name,variant:"outlined"})},options:ge,onChange:function(e,a){Qe(a,t,!1,"Color","color"+t,"color")},value:ge[ge.findIndex((function(t,a){return t.id===e.color}))]||null,formControlProps:{fullWidth:!0},helperTextId:"helperText_color"+t,isHelperText:!0,helperText:A["color"+t]?A["color"+t].msg:"",error:!!(null===(a=A["color"+t])||void 0===a?void 0:a.isError)})}),Object(Be.jsx)(ya,{xs:12,sm:12,md:2,children:Object(Be.jsx)(Jn,{onChange:function(e){return Qe(e,t,!0,"Quantity","quantity"+t)},labelText:"Quantity",disabled:L||Y||te.cancelled||!e.color||te.completed,value:e.quantity,id:"quantity",formControlProps:{fullWidth:!0},type:"number",name:"quantity",helperTextId:"helperText_quantity"+t,isHelperText:zn("quantity"+t,I),helperText:zn("quantity"+t,I)?I["quantity"+t].map((function(e){return e+" "})):null,error:zn("quantity"+t,I)})}),Object(Be.jsx)(ya,{xs:12,sm:12,md:2,children:Object(Be.jsx)(Jn,{onChange:function(e){return Qe(e,t,!0,"Quantity Completed","quantityCompleted"+t)},labelText:"Quantity Completed",disabled:Y||te.cancelled||!e.quantity||!e.color||te.completed,value:e.quantityCompleted,id:"quantityCompleted",formControlProps:{fullWidth:!0},name:"quantityCompleted",type:"number",helperTextId:"helperText_quantityCompleted"+t,isHelperText:zn("quantityCompleted"+t,I),helperText:zn("quantityCompleted"+t,I)?I["quantityCompleted"+t].map((function(e){return e+" "})):null,error:zn("quantityCompleted"+t,I)})}),Object(Be.jsx)(ya,{xs:12,sm:12,md:2,children:Object(Be.jsx)(Jn,{labelText:"Remaining Quantity",disabled:!0,value:e.quantity-e.quantityCompleted,id:"quantityRemaining",formControlProps:{fullWidth:!0},name:"quantityRemaining"})}),Y||L||te.cancelled||te.completed?null:Object(Be.jsxs)(Be.Fragment,{children:[Object(Be.jsx)(ya,{xs:6,sm:6,md:1,className:c.addDeleteFabButon,children:Object(Be.jsx)(gi,{color:"danger",align:"end",size:"small",disabled:!e.color,onClick:function(){1===me.length?xe([{color:null,colorData:null,quantity:0,quantityCompleted:0,order:null}]):xe([].concat(Object(Ta.a)(me.slice(0,t)),Object(Ta.a)(me.slice(t+1)))),delete A["color"+t],F((function(e){return Object(Ze.a)({},e)}))},children:Object(Be.jsx)(Xo.a,{})})}),me.length-1===t?Object(Be.jsx)(ya,{xs:6,sm:6,md:1,className:c.addDeleteFabButon,children:Object(Be.jsx)(gi,{color:"success",align:"end",size:"small",disabled:!e.color||0===$e(),onClick:function(){xe([].concat(Object(Ta.a)(me),[{color:null,colorData:null,quantity:0,quantityCompleted:0,order:null}]))},children:Object(Be.jsx)(Eo.a,{})})}):null]})]})}))})})})})}):null,me&&me.length?Object(Be.jsx)(Ca,{children:Object(Be.jsx)(ya,{xs:12,sm:12,md:12,style:{margin:"-10px 10px 20px 13px"},children:Object(Be.jsx)(Ca,{style:{margin:"1px 1px 1px 1px",border:"1px solid #C0C0C0",borderRadius:"10px"},children:Object(Be.jsx)(ya,{xs:12,sm:12,md:12,children:Object(Be.jsxs)(Ca,{children:[Object(Be.jsx)(ya,{xs:12,sm:12,md:3}),Object(Be.jsx)(ya,{xs:12,sm:12,md:2,children:Object(Be.jsx)(Jn,{labelText:"Total Quantity",disabled:!0,value:Ve(0),formControlProps:{fullWidth:!0},name:"quantityRemaining"})}),Object(Be.jsx)(ya,{xs:12,sm:12,md:2,children:Object(Be.jsx)(Jn,{labelText:"Total Completed",disabled:!0,value:Ve(1),formControlProps:{fullWidth:!0},name:"quantityRemaining"})}),Object(Be.jsx)(ya,{xs:12,sm:12,md:2,children:Object(Be.jsx)(Jn,{labelText:"Total Remaining",disabled:!0,value:Ve(2),formControlProps:{fullWidth:!0},name:"quantityRemaining"})})]})})})})}):null,Object(Be.jsx)(Ca,{children:Object(Be.jsx)(ya,{xs:12,sm:12,md:12,children:Object(Be.jsx)(Jn,{labelText:"Notes",id:"notes",name:"notes",disabled:Y,onChange:function(e){return Ye(e)},value:te.notes,formControlProps:{fullWidth:!0},inputProps:{multiline:!0,rows:3}})})})]}),Object(Be.jsx)(ai,{children:Object(Be.jsxs)(Ca,{children:[Y?Object(Be.jsx)(ya,{children:Object(Be.jsx)(jc,{color:"primary",disabled:!ue.id||!ie.id||!te.quantity||!te.order_id||Object.keys(I).length,onClick:function(e){d.push("".concat(ae,"/").concat(V)),window.location.reload()},children:"Edit"})}):Object(Be.jsx)(ya,{children:Object(Be.jsx)(jc,{color:"primary",onClick:function(e){return function(e){e.preventDefault();var t=!0,a=0;(a=me.reduce((function(e,t){return e+Sn(t.quantity)}),a))>te.quantity?(t=!1,Pe(Object(Be.jsx)(as.a,{danger:!0,confirmBtnText:"Cancel",confirmBtnCssClass:l,title:"Heads up?",onConfirm:function(){return Pe(null)},children:"Quantity added for ratios execeds the total order quantity"}))):a===te.quantity&&(t=!0,ne((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{completed:!0,inProgress:!1,cancelled:!1})}))),ue.id&&ie.id||(ue.id||M((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{ready_material:["Ready Material is required"]})})),ie.id||M((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{party:["Party is required"]})})),t=!1),t&&O(Object(Be.jsx)(as.a,{warning:!0,showCancel:!0,confirmBtnText:"Yes",confirmBtnCssClass:o,confirmBtnBsStyle:"outline-{variant}",title:"Heads up?",onConfirm:Ae,onCancel:ze,cancelBtnCssClass:l,focusCancelBtn:!0,children:"Arey you sure you want to save the changes?"}))}(e)},disabled:!ue.id||!ie.id||!te.quantity||!te.order_id||Object.keys(I).length,children:"Save"})}),L||Y?Object(Be.jsxs)(Be.Fragment,{children:[Object(Be.jsx)(ya,{children:Object(Be.jsx)(jc,{color:"primary",onClick:function(){return Ue()},children:"Check Stock Availability"})}),be.get("oid")?Object(Be.jsx)(ya,{children:Object(Be.jsx)(jc,{color:"primary",onClick:function(){d.push("".concat(se,"/").concat(V))},children:"Department Sheet"})}):null]}):null]})})]}),Object(Be.jsx)(io.a,{className:c.backdrop,open:b,children:Object(Be.jsx)(oo.a,{color:"inherit"})})]})]})}var Td=a(478),Pd=a(555),Nd=a.n(Pd),Dd=Object(We.a)(so);function Id(e){var t=Dd(),a=r.a.createRef(),c=Object(s.useHistory)(),i=Object(n.useState)(!1),o=Object(ia.a)(i,2),l=o[0],d=o[1],u=Object(n.useState)({_sort:"date:desc",in_progress:!0}),j=Object(ia.a)(u,2),b=j[0],p=j[1],h=r.a.useState({show:!1,severity:"",message:""}),m=Object(ia.a)(h,2),x=m[0],O=m[1],f=[{title:"Order Date",field:"date",render:function(e){return gn(new Date(e.date))}},{title:"Order Number",field:"order_id",render:function(e){return"#"+e.order_id}},{title:"Design",sorting:!1,field:"design",render:function(e){var t,a;return(null===(t=e.design)||void 0===t?void 0:t.material_no)?null===(a=e.design)||void 0===a?void 0:a.material_no:"----"}},{title:"Party",field:"party",sorting:!1,render:function(e){return e.party?e.party.party_name:"----"}},{title:"Ratio",render:function(e){var t="";e.orderRatio&&e.orderRatio.length?e.orderRatio.forEach((function(e,a){var n,r=(null===(n=e.color)||void 0===n?void 0:n.name)+": "+Sn(e.quantity_completed)+"/"+Sn(e.quantity);0===a?t+=r:t=t+", "+r,t+="\n\n"})):t=e.completed_quantity+"/"+e.quantity;return t}},{title:"Status",render:function(e){return e.in_progress?"In Progress":e.completed?"Completed":e.cancelled?"Cancelled":void 0}}],g=function(){var e=Object(lr.a)(sr.a.mark((function e(t,a){var n;return sr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={page:t,pageSize:a},Object.keys(b).map((function(e){n.hasOwnProperty(e)||(n[e]=b[e])})),e.abrupt("return",new Promise((function(e,t){fetch(Yr+"?"+new URLSearchParams(n),{method:"GET",headers:{"content-type":"application/json",Authorization:"Bearer "+Ke.getToken()}}).then((function(e){if(e.ok)return e.json();if(401!==e.status)throw new Error("Something went wrong");Ke.clearAppStorage(),window.location.href="".concat(hr,"/login")})).then((function(t){e({data:t.data,page:t.page-1,totalCount:t.totalCount})})).catch((function(e){O((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{show:!0,severity:"error",message:"Error"})}))}))})));case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),v=function(){var e=Object(lr.a)(sr.a.mark((function e(t,a){return sr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a?c.push("".concat(ne,"/").concat(t.id)):c.push("".concat(ae,"/").concat(t.id));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),y=function(){var e=Object(lr.a)(sr.a.mark((function e(t){return sr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c.push("".concat(ie,"/").concat(t.id));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(e){On(e.target.value)?(delete b[e.target.name],p((function(e){return Object(Ze.a)({},e)}))):p((function(t){return Object(Ze.a)(Object(Ze.a)({},t),{},Object(ma.a)({},e.target.name,e.target.value))}))},w=function(){var e=Object(lr.a)(sr.a.mark((function e(){return sr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:d(!0),tc($r,b,Ke.getToken()).then((function(e){Object(ad.saveAs)(new Blob([_n(e.data)],{type:"application/octet-stream"}),"raw material availibility"),d(!1)})).catch((function(e){d(!1),O((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{show:!0,severity:"error",message:"Error while exporting data"})}))}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=function(){var e=Object(lr.a)(sr.a.mark((function e(){return sr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),e.next=3,ic(Gr,b,Ke.getToken()).then((function(e){var t=URL.createObjectURL(new Blob([e.data],{type:"application/pdf"}));window.open().location.href=t,d(!1)})).catch((function(e){d(!1),O((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{show:!0,severity:"error",message:"Error while downloading order data"})}))}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=Object(lr.a)(sr.a.mark((function e(t){return sr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),e.next=3,ic(Kr,{id:t.id},Ke.getToken()).then((function(e){var t=URL.createObjectURL(new Blob([e.data],{type:"application/pdf"}));window.open().location.href=t,d(!1)})).catch((function(e){d(!1),console.log("error ",e),O((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{show:!0,severity:"error",message:"Error while downloading order data"})}))}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(Be.jsxs)(Be.Fragment,{children:[Object(Be.jsx)(bi,{open:x.show,severity:x.severity,message:x.message,handleClose:function(){O((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{show:!1,severity:"",message:""})}))}}),Object(Be.jsx)(Ca,{children:Object(Be.jsx)(ya,{xs:12,sm:12,md:12,children:Object(Be.jsxs)(Vc,{children:[Object(Be.jsxs)(ii,{color:"primary",className:t.cardHeaderStyles,children:[Object(Be.jsx)(Fo.a,{fontSize:"large"}),Object(Be.jsx)("p",{className:t.cardCategoryWhite})]}),Object(Be.jsxs)(Jc,{children:[Object(Be.jsx)(Ca,{children:Object(Be.jsx)(ya,{xs:12,sm:12,md:12,children:Object(Be.jsx)(gi,{color:"primary",align:"end",size:"small",onClick:function(){c.push(te)},children:Object(Be.jsx)(Eo.a,{})})})}),Object(Be.jsxs)(Ca,{children:[Object(Be.jsx)(ya,{xs:12,sm:12,md:2,children:Object(Be.jsx)(Jn,{onChange:function(e){return _(e)},labelText:"Order Number",value:b.order_id_contains||"",name:"order_id_contains",id:"order_id_contains",formControlProps:{fullWidth:!0}})}),Object(Be.jsx)(ya,{xs:12,sm:12,md:2,children:Object(Be.jsx)(Hi,{onChange:function(e){return function(e){var t=Na()(e).format("YYYY-MM-DDT00:00:00.000Z");"Invalid date"===t?(t=null,delete b.date_gte,p((function(e){return Object(Ze.a)({},e)}))):(t=new Date(t).toISOString(),p((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{date_gte:t})})))}(e)},label:"Order Date From",name:"date_gte",value:b.date_gte||null,id:"date_gte",formControlProps:{fullWidth:!0},style:{marginTop:"1.5rem",width:"100%"}})}),Object(Be.jsx)(ya,{xs:12,sm:12,md:2,children:Object(Be.jsx)(Hi,{onChange:function(e){return function(e){var t=Na()(e).endOf("day").format("YYYY-MM-DDT23:59:59.999Z");"Invalid date"===t?(t=null,delete b.date_lte,p((function(e){return Object(Ze.a)({},e)}))):(t=new Date(t).toISOString(),p((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{date_lte:t})})))}(e)},label:"Order Date To",name:"date_lte",value:b.date_lte||null,id:"date_lte",formControlProps:{fullWidth:!0},style:{marginTop:"1.5rem",width:"100%"}})}),Object(Be.jsx)(ya,{xs:12,sm:12,md:2,children:Object(Be.jsx)(Jn,{onChange:function(e){return _(e)},labelText:"Design Number",value:b["design.material_no_contains"]||"",name:"design.material_no_contains",id:"design.material_no_contains",formControlProps:{fullWidth:!0}})}),Object(Be.jsx)(ya,{xs:12,sm:12,md:2,children:Object(Be.jsx)(Jn,{onChange:function(e){return _(e)},labelText:"Party Name",value:b["party.party_name_contains"]||"",name:"party.party_name_contains",id:"party.party_name_contains",formControlProps:{fullWidth:!0}})}),Object(Be.jsx)(ya,{xs:12,sm:12,md:2,children:Object(Be.jsx)(Jn,{onChange:function(e){return _(e)},labelText:"Party Number",value:b.party_no_contains||"",name:"party_no_contains",id:"party_no_contains",formControlProps:{fullWidth:!0}})})]}),Object(Be.jsxs)(Ca,{children:[Object(Be.jsx)(ya,{xs:12,sm:12,md:3,className:t.switchBoxInFilter,children:Object(Be.jsx)("div",{className:t.block,children:Object(Be.jsx)(Qi.a,{control:Object(Be.jsx)(dl.a,{checked:!!b.completed,onChange:function(e){e.target.checked?p((function(t){return Object(Ze.a)(Object(Ze.a)({},t),{},{completed:e.target.checked})})):(delete b.completed,p((function(e){return Object(Ze.a)({},e)})))},classes:{switchBase:t.switchBase,checked:t.switchChecked,thumb:t.switchIcon,track:t.switchBar}}),classes:{label:t.label},label:"Completed orders"})})}),Object(Be.jsx)(ya,{xs:12,sm:12,md:3,className:t.switchBoxInFilter,children:Object(Be.jsx)("div",{className:t.block,children:Object(Be.jsx)(Qi.a,{control:Object(Be.jsx)(dl.a,{checked:!!b.in_progress,onChange:function(e){e.target.checked?p((function(t){return Object(Ze.a)(Object(Ze.a)({},t),{},{in_progress:e.target.checked})})):(delete b.in_progress,p((function(e){return Object(Ze.a)({},e)})))},classes:{switchBase:t.switchBase,checked:t.switchChecked,thumb:t.switchIcon,track:t.switchBar}}),classes:{label:t.label},label:"In progress"})})}),Object(Be.jsx)(ya,{xs:12,sm:12,md:3,className:t.switchBoxInFilter,children:Object(Be.jsx)("div",{className:t.block,children:Object(Be.jsx)(Qi.a,{control:Object(Be.jsx)(dl.a,{checked:!!b.cancelled,onChange:function(e){e.target.checked?p((function(t){return Object(Ze.a)(Object(Ze.a)({},t),{},{cancelled:e.target.checked})})):(delete b.cancelled,p((function(e){return Object(Ze.a)({},e)})))},classes:{switchBase:t.switchBase,checked:t.switchChecked,thumb:t.switchIcon,track:t.switchBar}}),classes:{label:t.label},label:"Cancelled orders"})})})]}),Object(Be.jsx)(Ca,{children:Object(Be.jsxs)(ya,{xs:12,sm:12,md:12,style:{marginTop:"27px"},children:[Object(Be.jsx)(jc,{color:"primary",onClick:function(){a.current.onQueryChange()},children:"Search"}),Object(Be.jsx)(jc,{color:"primary",onClick:function(){p({_sort:"date:desc"}),a.current.onQueryChange()},children:"Cancel"}),Object(Be.jsx)(jc,{color:"primary",onClick:function(){return w()},children:"Check Stock Availability"}),Object(Be.jsx)(jc,{color:"primary",onClick:function(){return C()},children:"Download Order"})]})}),Object(Be.jsx)(Ca,{children:Object(Be.jsx)(ya,{xs:12,sm:12,md:12,children:Object(Be.jsx)($t,{tableRef:a,title:"Departments",columns:f,data:function(){var e=Object(lr.a)(sr.a.mark((function e(t){return sr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g(t.page+1,t.pageSize);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),localization:{body:{editRow:{deleteText:"Are you sure you want to delete this Admin User?",saveTooltip:"Delete"}}},actions:[function(e){return{icon:function(){return Object(Be.jsx)(Mo.a,{fontSize:"small"})},tooltip:"Edit",onClick:function(e,t){v(t,!1)}}},function(e){return{icon:function(){return Object(Be.jsx)(zo.a,{fontSize:"small",color:"primary"})},tooltip:"View",onClick:function(e,t){v(t,!0)}}},function(e){return{icon:function(){return Object(Be.jsx)(Td.a,{fontSize:"small",children:"edit_note"})},tooltip:"Department Sheet",onClick:function(e,t){y(t)}}},function(e){return{icon:function(){return Object(Be.jsx)(Nd.a,{fontSize:"small"})},tooltip:"Download Order Sheet",onClick:function(e,t){S(t)}}}],options:{pageSize:10,actionsColumnIndex:-1,search:!1,sorting:!0,thirdSortClick:!1},onOrderChange:function(e,t){!function(e,t){var n,r;e>=0&&(n=f[e].field),r=n+":"+t,p((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{_sort:r})})),a.current.onQueryChange()}(e,t)}})})})]})]})})}),Object(Be.jsx)(io.a,{className:t.backdrop,open:l,children:Object(Be.jsx)(oo.a,{color:"inherit"})})]})}var Md,Rd=Object(We.a)(so),zd=Object(We.a)((function(e){return{inputClass:{width:"80px"},trRoot:{overflow:"auto"},label:{fontSize:"small",paddingLeft:20},cardTitleStyle:{fontFamily:"Montserrat",fontWeight:600,fontSize:"1rem",color:"#8A8A97",padding:"1rem !important"},tableRowStyle:{},tableCellStyle:{fontFamily:"Montserrat",fontWeight:500,fontSize:"0.9375rem",color:"#110F48",padding:0,backgroundColor:"#f4f8ff"},borderNone:{padding:0,border:"2px solid rgb(109 101 101)"},inputRoot:{"& .MuiOutlinedInput-input":{textAlign:"center",padding:"0.875rem !important"},"& .MuiOutlinedInput-root":{margin:"8px 0px"},"& .MuiInputBase-root":{fontFamily:"Montserrat",fontWeight:700,fontSize:"1rem",color:"#110F48"}},checkBoxStyle:{"& .MuiCheckbox-colorSecondary.Mui-checked":{color:"#1C4979"}},cardHeaderStyle:{fontFamily:"Montserrat",fontWeight:500,fontSize:"1rem",color:"#110F48",textAlign:"center",paddingLeft:"44%"},paddingStyle:{padding:30,paddingRight:0,paddingBottom:0},radioButtonStyle:{"& .MuiFormControlLabel-label":{fontFamily:"Montserrat",fontWeight:500,fontSize:"0.9375rem",color:"#000000",textAlign:"center"},"& .MuiRadio-colorSecondary.Mui-checked":{color:"#1C4979"},"& .MuiSvgIcon-root":{fontSize:"1.2rem"}},responsiveContainerWrap:{overflow:"auto",height:"270px","& > div":{margin:"0 auto"}},root:{"& .MuiOutlinedInput-notchedOutline":{border:"0px"}},tableCurveCellStyle:{fontFamily:"Montserrat",fontWeight:500,fontSize:"0.9375rem",color:"#110F48",textAlign:"center",border:"2px solid rgb(109 101 101)"}}})),Ad=function(e){new URLSearchParams(window.location.search);var t=Rd(),a=zd(),c=Object(n.useState)(!1),i=Object(ia.a)(c,2),o=i[0],l=i[1],d=Object(s.useHistory)(),u=Object(n.useState)([]),j=Object(ia.a)(u,2),b=j[0],p=j[1],h=Object(n.useState)({order_id:null,nl_no:"",quantity:0,order_date:"",order_no:"",platting:"",remarks:""}),m=Object(ia.a)(h,2),x=m[0],O=m[1],f=Object(n.useState)([]),g=Object(ia.a)(f,2),v=g[0],y=g[1],_=r.a.useState({show:!1,severity:"",message:""}),w=Object(ia.a)(_,2),C=w[0],S=w[1],k=Object(n.useState)(e.isEdit?e.isEdit:null),T=(Object(ia.a)(k,1)[0],Object(n.useState)(e.isView?e.isView:null)),P=Object(ia.a)(T,1)[0],N=Object(n.useState)(e.id?e.id:null),D=Object(ia.a)(N,1)[0];Object(n.useEffect)((function(){D?I():d.push(ee)}),[]);var I=function(){var e=Object(lr.a)(sr.a.mark((function e(){return sr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),e.next=3,tc(Ur+"/"+D,{},Ke.getToken()).then((function(e){l(!1),M(e.data)})).catch((function(e){l(!1),S((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{show:!0,severity:"error",message:"Error getting department sheet detail"})}))}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),M=function(e){p(e.colorList),y(e.departmentColorList),O((function(t){return Object(Ze.a)(Object(Ze.a)({},t),{},{order_id:e.order_id,nl_no:e.nl_no,order_no:e.order_no,order_date:e.order_date,platting:e.platting,remarks:e.remark,quantity:e.quantity})}))},R=function(){var e=Object(lr.a)(sr.a.mark((function e(t){var a;return sr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),a={order_id:x.order_id,platting:x.platting,remark:x.remarks,departmentColorList:v},e.next=4,ac(Ur,a,Ke.getToken()).then((function(e){I(),l(!1)})).catch((function(e){l(!1)}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(Be.jsxs)(Be.Fragment,{children:[Object(Be.jsx)(bi,{open:C.show,severity:C.severity,message:C.message,handleClose:function(){S((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{show:!1,severity:"",message:""})}))}}),Object(Be.jsx)(Ca,{children:Object(Be.jsx)(ya,{xs:12,sm:12,md:12,children:Object(Be.jsxs)(Vc,{children:[Object(Be.jsxs)(ii,{color:"primary",className:t.cardHeaderStyles,children:[Object(Be.jsx)(Fo.a,{fontSize:"large"}),Object(Be.jsx)("p",{className:t.cardCategoryWhite})]}),Object(Be.jsxs)(Jc,{children:[Object(Be.jsx)(Ca,{children:Object(Be.jsx)(ya,{xs:12,sm:12,md:12,children:Object(Be.jsx)(gi,{align:"start",size:"small",onClick:function(){d.push(ee)},children:Object(Be.jsx)(Zo.a,{})})})}),Object(Be.jsx)(Ca,{children:Object(Be.jsxs)(ya,{xs:12,sm:12,md:12,children:[Object(Be.jsx)(Ca,{style:{dispay:"flex"},children:Object(Be.jsxs)(ya,{xs:12,sm:12,md:8,children:[Object(Be.jsx)("b",{children:"Order Number : "})," ",x.order_no]})}),Object(Be.jsx)(Ca,{style:{dispay:"flex"},children:Object(Be.jsxs)(ya,{xs:12,sm:12,md:8,children:[Object(Be.jsx)("b",{children:"NL NO : "}),x.nl_no]})}),Object(Be.jsx)(Ca,{style:{dispay:"flex"},children:Object(Be.jsxs)(ya,{xs:12,sm:12,md:8,children:[Object(Be.jsx)("b",{children:"Quantity : "}),x.quantity]})}),Object(Be.jsx)(Ca,{style:{dispay:"flex"},children:Object(Be.jsxs)(ya,{xs:12,sm:12,md:8,children:[Object(Be.jsx)("b",{children:"Order Date : "})," ",fn(x.order_date)]})}),Object(Be.jsx)(Ca,{style:{dispay:"flex"},children:Object(Be.jsxs)(ya,{xs:12,sm:12,md:8,children:[Object(Be.jsx)("b",{children:"Ratio"})," ",function(e){var t="";e&&(e||[]).forEach((function(e,a){var n=e.name+": "+Sn(e.quantityCompleted)+"/"+Sn(e.quantity);0===a?t+=n:t=t+", "+n,t+="\n\n"}));return t}(b)]})})]})}),Object(Be.jsxs)(Ca,{children:[Object(Be.jsx)(ya,{xs:12,sm:12,md:4,children:Object(Be.jsx)(Jn,{labelText:"Platting",id:"platting",name:"platting",disabled:P,onChange:function(e){O((function(t){return Object(Ze.a)(Object(Ze.a)({},t),{},{platting:e.target.value})}))},value:x.platting,formControlProps:{fullWidth:!0}})}),Object(Be.jsx)(ya,{xs:12,sm:12,md:12,children:Object(Be.jsx)(Jn,{labelText:"Remarks",id:"remarks",name:"remarks",disabled:P,onChange:function(e){O((function(t){return Object(Ze.a)(Object(Ze.a)({},t),{},{remarks:e.target.value})}))},value:x.remarks,formControlProps:{fullWidth:!0},inputProps:{multiline:!0,rows:3}})})]}),P?null:Object(Be.jsx)(jc,{color:"primary",onClick:function(e){return R(e)},children:"Save"}),Object(Be.jsx)(Ca,{children:Object(Be.jsx)(ya,{xs:12,sm:12,md:12,children:Object(Be.jsx)("div",{className:a.trRoot,children:Object(Be.jsxs)(ea.a,{className:a.departmentTable,children:[Object(Be.jsx)(ta.a,{children:Object(Be.jsxs)(aa.a,{children:[Object(Be.jsx)(ra.a,{className:a.borderNone,children:Object(Be.jsx)(Je.a,{className:a.cardTitleStyle,align:"center"})}),b.map((function(e){return Object(Be.jsx)(ra.a,{className:a.borderNone,children:Object(Be.jsx)(Je.a,{className:a.cardTitleStyle,align:"center",children:"".concat(e.name," (").concat(e.quantity,"/").concat(e.quantityCompleted,")")})})})),Object(Be.jsx)(ra.a,{className:a.borderNone,children:Object(Be.jsx)(Je.a,{className:a.cardTitleStyle,align:"center",children:"In Date"})}),Object(Be.jsx)(ra.a,{className:a.borderNone,children:Object(Be.jsx)(Je.a,{className:a.cardTitleStyle,align:"center",children:"Out Date"})})]})}),Object(Be.jsx)(na.a,{children:v.map((function(e,t){return Object(Be.jsx)(Be.Fragment,{children:Object(Be.jsxs)(aa.a,{className:a.tableRowStyle,hover:!0,children:[Object(Be.jsx)(ra.a,{className:a.tableCurveCellStyle,align:"center",children:e.department.name}),e.departmentsColor.map((function(n,r){return Object(Be.jsx)(ra.a,{className:a.tableCurveCellStyle,align:"center",children:Object(Be.jsx)("div",{className:a.inputRoot,children:Object(Be.jsx)(Jn,{disabled:P,id:e.department.id+"_"+n.color.id,onChange:function(a){if(On(a.target.value)||!isNaN(parseFloat(a.target.value))&&parseFloat(a.target.value)>=0){var n=e.departmentsColor[r];n=Object(Ze.a)(Object(Ze.a)({},n),{},{value:a.target.value});var c=v[t];c=Object(Ze.a)(Object(Ze.a)({},c),{},{departmentsColor:[].concat(Object(Ta.a)(c.departmentsColor.slice(0,r)),[n],Object(Ta.a)(c.departmentsColor.slice(r+1)))}),y([].concat(Object(Ta.a)(v.slice(0,t)),[c],Object(Ta.a)(v.slice(t+1))))}},value:n.value||"",placeholder:"0",type:"number",variant:"outlined",noMargin:!0,className:a.inputClass,InputProps:{style:{textAlign:"center"}},formControlProps:{fullWidth:!0}})})})})),Object(Be.jsx)(ra.a,{className:a.tableCurveCellStyle,align:"center",children:Object(Be.jsx)(Hi,{disabled:P,onChange:function(e){return function(e,t){var a=Na()(e).format("YYYY-MM-DDT00:00:00.000Z");a="Invalid date"===a?null:new Date(a).toISOString();var n=v[t];n=Object(Ze.a)(Object(Ze.a)({},n),{},{in_date:a}),y([].concat(Object(Ta.a)(v.slice(0,t)),[n],Object(Ta.a)(v.slice(t+1))))}(e,t)},label:"In Date",name:"in_date",value:vn(e.in_date),id:"date_gte",formControlProps:{fullWidth:!0},noMargin:!0,style:{width:"100%",marginTop:"0px !Important"}})}),Object(Be.jsx)(ra.a,{className:a.tableCurveCellStyle,align:"center",children:Object(Be.jsx)(Hi,{disabled:P,onChange:function(e){return function(e,t){var a=Na()(e).endOf("day").format("YYYY-MM-DDT23:59:59.999Z");a="Invalid date"===a?null:new Date(a).toISOString();var n=v[t];n=Object(Ze.a)(Object(Ze.a)({},n),{},{out_date:a}),y([].concat(Object(Ta.a)(v.slice(0,t)),[n],Object(Ta.a)(v.slice(t+1))))}(e,t)},label:"Out Date",name:"out_date",value:vn(e.out_date),id:"date_gte",formControlProps:{fullWidth:!0},noMargin:!0,style:{width:"100%",marginTop:"0px !Important"}})})]})})}))})]})})})})]}),P?null:Object(Be.jsx)(ai,{children:Object(Be.jsx)(jc,{color:"primary",onClick:function(e){return R(e)},children:"Save"})})]})})}),Object(Be.jsx)(io.a,{className:t.backdrop,open:o,children:Object(Be.jsx)(oo.a,{color:"inherit"})})]})},Fd=(a(8),a(556)),Wd=(a(699),function(e){var t;return{wrapper:{position:"relative",top:"0",height:"100vh"},mainPanel:Object(Ze.a)(Object(Ze.a)((t={},Object(ma.a)(t,e.breakpoints.up("md"),{width:"calc(100% - ".concat(et,"px)")}),Object(ma.a)(t,"overflow","auto"),Object(ma.a)(t,"position","relative"),Object(ma.a)(t,"float","right"),t),tt),{},{maxHeight:"100%",width:"100%",overflowScrolling:"touch"}),content:{marginTop:"70px",padding:"8px 9px",minHeight:"calc(100vh - 123px)"},container:at,map:{marginTop:"70px"}}}),Ed=a.p+"static/media/sidebar-2.de847d0d.jpg",Hd=Object(We.a)(Wd);function Bd(e){var t=Hd(),a=r.a.createRef(),n=r.a.useState(Ed),c=Object(ia.a)(n,1)[0],i=r.a.useState("blue"),o=Object(ia.a)(i,1)[0],s=r.a.useState(!1),l=Object(ia.a)(s,2),d=l[0],u=l[1],j=function(){u(!d)},b=function(){window.innerWidth>=960&&u(!1)};return r.a.useEffect((function(){return navigator.platform.indexOf("Win")>-1&&(Md=new Fd.a(a.current,{suppressScrollX:!0,suppressScrollY:!1}),document.body.style.overflow="hidden"),window.addEventListener("resize",b),function(){navigator.platform.indexOf("Win")>-1&&Md.destroy(),window.removeEventListener("resize",b)}}),[a]),Object(Be.jsxs)("div",{className:t.wrapper,children:[Object(Be.jsx)(Lc,{routes:e.dashboardRoutes,logoText:"JINIT Creation",logo:Qs,image:c,handleDrawerToggle:j,open:d,color:o,openSubMenu:e.openSubMenu}),Object(Be.jsxs)("div",{className:t.mainPanel,ref:a,children:[Object(Be.jsx)(Rc,{handleDrawerToggle:j,header:e.header}),Object(Be.jsx)("div",{className:t.content,children:Object(Be.jsx)("div",{className:t.container,children:e.children})}),Object(Be.jsx)(Qn,{})]})]})}var qd=function(e){if(null!==Ke.getToken()){var t=Cn(Ke);return Object(Be.jsx)(s.Route,{render:function(e){return Object(Be.jsx)(Be.Fragment,{children:Object(Be.jsx)(Bd,{dashboardRoutes:t,children:Object(Be.jsx)(qe,{})})})}})}return Object(Be.jsx)(Be.Fragment,{children:Object(Be.jsx)(s.Redirect,{to:{pathname:l,state:{from:e.location}}})})},Ld=["component","computedMatch","header","openSubMenu","defaultPathToPush","isDependent"],Qd=function(e){var t=e.component,a=e.computedMatch,r=e.header,c=e.openSubMenu,i=(e.defaultPathToPush,e.isDependent),o=void 0!==i&&i,d=Object(Pt.a)(e,Ld);if(null!==Ke.getToken()){var u,j=Cn(Ke),b=[];if(o)b=(null===d||void 0===d||null===(u=d.location)||void 0===u?void 0:u.pathname)?d.location.pathname.match(/\d+/g):[];return Object(Be.jsx)(Be.Fragment,{children:Object(Be.jsx)(s.Route,{render:function(e){return Object(Be.jsx)(Be.Fragment,{children:Object(Be.jsxs)(Bd,{dashboardRoutes:j,header:r,openSubMenu:c,children:[o&&b&&b.length&&Object(Be.jsx)(t,Object(Ze.a)(Object(Ze.a)({},e),{},{urlParams:a,header:r,id:b[b.length-1]},d)),o&&(!b||b&&!b.length)&&Object(Be.jsx)(qe,{}),!o&&Object(Be.jsx)(t,Object(Ze.a)(Object(Ze.a)({},e),{},{urlParams:a,header:r},d))]})})}})})}return Ke.clearAppStorage(),Object(Be.jsx)(n.Fragment,{children:Object(Be.jsx)(s.Redirect,{to:{pathname:l}})})},Yd=["component"],Ud=function(e){var t=e.component;Object(Pt.a)(e,Yd);return null===Ke.getToken()?Object(Be.jsx)(Be.Fragment,{children:Object(Be.jsx)(s.Route,{render:function(e){return Object(Be.jsx)(Be.Fragment,{children:Object(Be.jsx)(t,Object(Ze.a)({},e))})}})}):null===Ke.getToken()||null===Ke.getUserInfo()?Object(Be.jsx)(n.Fragment,{children:Object(Be.jsx)(qe,{})}):"Admin"===Ke.getUserInfo().role.name?Object(Be.jsx)(s.Redirect,{to:{pathname:Q}}):"Super Admin"===Ke.getUserInfo().role.name?Object(Be.jsx)(s.Redirect,{to:{pathname:q}}):"Staff"===Ke.getUserInfo().role.name?Object(Be.jsx)(s.Redirect,{to:{pathname:d}}):void 0},Vd=["component","computedMatch","header","openSubMenu","defaultPathToPush"],$d=function(e){var t=e.component,a=e.computedMatch,r=e.header,c=e.openSubMenu,i=e.defaultPathToPush,o=Object(Pt.a)(e,Vd),d=Object(s.useHistory)();if(null!==Ke.getToken()){var u,j=[];j="Super Admin"===Ke.getUserInfo().role.name?xn:"Admin"===Ke.getUserInfo().role.name?mn:hn;var b=(null===o||void 0===o||null===(u=o.location)||void 0===u?void 0:u.pathname)?o.location.pathname.match(/\d+/g):null;return b.length?Object(Be.jsx)(Be.Fragment,{children:Object(Be.jsx)(s.Route,{render:function(e){return Object(Be.jsx)(Be.Fragment,{children:Object(Be.jsx)(Bd,{dashboardRoutes:j,header:r,openSubMenu:c,children:Object(Be.jsx)(t,Object(Ze.a)(Object(Ze.a)({},e),{},{urlParams:a,header:r,id:b[b.length-1],isEdit:!0}))})})}})}):(d.push(i),null)}return Ke.clearAppStorage(),Object(Be.jsx)(n.Fragment,{children:Object(Be.jsx)(s.Redirect,{to:{pathname:l}})})},Gd=["component","computedMatch","header","openSubMenu","defaultPathToPush"],Kd=function(e){var t=e.component,a=e.computedMatch,r=e.header,c=e.openSubMenu,i=e.defaultPathToPush,o=(Object(Pt.a)(e,Gd),Object(s.useHistory)());if(null!==Ke.getToken()){var d=[];d="Super Admin"===Ke.getUserInfo().role.name?xn:"Admin"===Ke.getUserInfo().role.name?mn:hn;var u=new URLSearchParams(window.location.search).get("id");return u?Object(Be.jsx)(Be.Fragment,{children:Object(Be.jsx)(s.Route,{render:function(e){return Object(Be.jsx)(Be.Fragment,{children:Object(Be.jsx)(Bd,{dashboardRoutes:d,header:r,openSubMenu:c,children:Object(Be.jsx)(t,Object(Ze.a)(Object(Ze.a)({},e),{},{urlParams:a,header:r,id:u,isView:!0}))})})}})}):(o.push(i),null)}return Ke.clearAppStorage(),Object(Be.jsx)(n.Fragment,{children:Object(Be.jsx)(s.Redirect,{to:{pathname:l}})})},Zd=["header","openSubMenu"],Jd=function(e){var t=e.header,a=e.openSubMenu;Object(Pt.a)(e,Zd);if(null!==Ke.getToken()){var n=[];return n="Super Admin"===Ke.getUserInfo().role.name?xn:"Admin"===Ke.getUserInfo().role.name?mn:hn,Object(Be.jsx)(s.Route,{render:function(e){return Object(Be.jsx)(Be.Fragment,{children:Object(Be.jsx)(Bd,{dashboardRoutes:n,header:t,openSubMenu:a,children:Object(Be.jsx)(qe,{})})})}})}return Object(Be.jsx)(Be.Fragment,{children:Object(Be.jsx)(qe,{})})},Xd=a(14),eu=a(807),tu=a(819),au=["component","computedMatch","openSubMenu"],nu=function(e){var t=null;if(e){var a;(a=e.match(/\d+/g))&&a.length&&(t=a[0])}return t},ru=Object(Xd.a)(eu.a)((function(e){e.theme;return{"& .MuiTabs-indicator":{display:"flex",justifyContent:"center",backgroundColor:rt[0]}}})),cu=Object(Xd.a)(tu.a)((function(e){return{marginRight:e.theme.spacing(1),"&.Mui-focusVisible":{backgroundColor:rt[0]},"&.Mui-selected":{color:rt[0]}}})),iu=function(e){var t,a,c=e.component,i=e.computedMatch,o=e.openSubMenu,d=Object(Pt.a)(e,au),u=Object(s.useLocation)(),j=Object(We.a)(so),b=Object(s.useHistory)(),p=j(),h=r.a.useState(0),m=Object(ia.a)(h,2),x=m[0],O=m[1],f=r.a.useState(""),g=Object(ia.a)(f,2),v=g[0],y=g[1],_=r.a.useState(!0),w=Object(ia.a)(_,2),C=w[0],S=w[1],k=r.a.useState(!1),T=Object(ia.a)(k,2),P=T[0],N=T[1],D=r.a.useState(!1),I=Object(ia.a)(D,2),M=I[0],R=I[1],z=r.a.useState({designId:nu((null===d||void 0===d||null===(t=d.location)||void 0===t?void 0:t.pathname)?null===d||void 0===d||null===(a=d.location)||void 0===a?void 0:a.pathname:null),routes:[],isRawMaterial:null,isReadyMaterial:null,designData:{}}),A=Object(ia.a)(z,2),F=A[0],W=A[1],E=r.a.useState({isColorSelected:!1,selectedColor:null,selectedColorPrice:null}),H=Object(ia.a)(E,2),B=H[0],q=H[1],L=["Select Raw Materials"];Object(n.useEffect)((function(){if(null===(null===Ke||void 0===Ke?void 0:Ke.getToken()))return Ke.clearAppStorage(),Object(Be.jsx)(r.a.Fragment,{children:Object(Be.jsx)(s.Redirect,{to:{pathname:l}})});Y()}),[u]),Object(n.useEffect)((function(){if(null==(null===Ke||void 0===Ke?void 0:Ke.getToken()))return Ke.clearAppStorage(),Object(Be.jsx)(r.a.Fragment,{children:Object(Be.jsx)(s.Redirect,{to:{pathname:l}})})}));var Q=function(e,t){var a,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null===(a=F.designData)||void 0===a?void 0:a.color_price,r=n||[],c=null;if(t)for(var i=0;i<r.length;i++)if(r[i].color===t.id){c=r[i];break}q((function(a){return Object(Ze.a)(Object(Ze.a)({},a),{},{isColorSelected:e,selectedColor:e?t:null,selectedColorPrice:c})}))},Y=function(){var e=Object(lr.a)(sr.a.mark((function e(){var t,a,n,r,c;return sr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t={},a=Cn(Ke),S(!0),n={isRawMaterial:!1,isReadyMaterial:!1,routes:a},r=window.location.pathname,c=r.split("/"),!(!(null===F||void 0===F?void 0:F.designId)||(null===F||void 0===F?void 0:F.designId)&&isNaN(F.designId))){e.next=11;break}S(!1),R(!0),e.next=16;break;case 11:return e.next=13,tc(Wr+"/"+F.designId,{},Ke.getToken()).then((function(e){t=e.data})).catch((function(e){S(!1),R(!0)}));case 13:c.indexOf(Ce)>-1?n=Object(Ze.a)(Object(Ze.a)({},n),{},{isRawMaterial:!0}):c.indexOf(Se)>-1?n=Object(Ze.a)(Object(Ze.a)({},n),{},{isReadyMaterial:!0}):(S(!1),R(!0)),W((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{isRawMaterial:n.isRawMaterial,isReadyMaterial:n.isReadyMaterial,designData:t,routes:n.routes})})),y("Select ".concat(n.isRawMaterial?"Raw":"Ready"," Material"));case 16:O(n.isRawMaterial?0:1),S(!1);case 18:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),U=function(e,t){var a=null;(a=0===t?ke:Te)?b.push({pathname:"".concat(ge).concat(a,"/").concat(F.designId)}):R(!0)},V=function(){var e=Object(lr.a)(sr.a.mark((function e(){return sr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return N(!0),e.next=3,tc(Wr+"/"+F.designId,{},Ke.getToken()).then((function(e){if(N(!1),!e.data)throw new Error("");var t;Q(B.isColorSelected,B.selectedColor,null===(t=e.data)||void 0===t?void 0:t.color_price),W((function(t){return Object(Ze.a)(Object(Ze.a)({},t),{},{designData:e.data})}))})).catch((function(e){N(!1),R(!0)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),$=function(){return Object(Be.jsx)(oo.a,{color:"primary",className:p.colorPrimary,size:20,style:{marginLeft:"10px"}})},G=function(){var e,t,a,n,r,c;if(null===F||void 0===F||null===(e=F.designData)||void 0===e||null===(t=e.colors)||void 0===t?void 0:t.length){var i,o,s,l,d=B.selectedColor,u=B.selectedColorPrice;return Object(Be.jsx)(Be.Fragment,{children:B.isColorSelected?Object(Be.jsxs)(Be.Fragment,{children:[Object(Be.jsx)(ya,{xs:12,children:Object(Be.jsxs)(Be.Fragment,{children:[" ",Object(Be.jsxs)("b",{children:["Price of all the raw materials required for color '",null===d||void 0===d?void 0:d.name,"'"]})," ","( this price excludes add. price ):"," ",P?$():yn(parseFloat(null===u||void 0===u?void 0:u.color_price).toFixed(2),!0)]})}),Object(Be.jsxs)(ya,{xs:12,children:[Object(Be.jsxs)(Be.Fragment,{children:[" ",Object(Be.jsxs)("b",{children:["Total Price for color '",null===d||void 0===d?void 0:d.name,"': "]})," ( i.e price of all the common raw materials i.e (",yn([parseFloat(null===F||void 0===F||null===(i=F.designData)||void 0===i?void 0:i.material_price).toFixed(2)],!0),") + price of raw materials required for color '",null===d||void 0===d?void 0:d.name,"' i.e (",yn(parseFloat(null===u||void 0===u?void 0:u.color_price).toFixed(2),!0),") + add. price i.e (",yn(parseFloat(null===F||void 0===F||null===(o=F.designData)||void 0===o?void 0:o.add_price).toFixed(2),!0),") ):"," "]}),Object(Be.jsx)("b",{}),P?$():yn(parseFloat((null===F||void 0===F||null===(s=F.designData)||void 0===s?void 0:s.material_price)+(null===F||void 0===F||null===(l=F.designData)||void 0===l?void 0:l.add_price)+(null===u||void 0===u?void 0:u.color_price)).toFixed(2),!0)]})]}):null})}return Object(Be.jsxs)(ya,{xs:12,children:[Object(Be.jsx)("b",{children:"Total Price "}),"( price of all the materials required for this order i.e (",yn(parseFloat(null===F||void 0===F||null===(a=F.designData)||void 0===a?void 0:a.material_price).toFixed(2),!0),") + add. price i.e (",yn(parseFloat(null===F||void 0===F||null===(n=F.designData)||void 0===n?void 0:n.add_price).toFixed(2),!0),")) :"," ",P?$():yn(parseFloat((null===F||void 0===F||null===(r=F.designData)||void 0===r?void 0:r.material_price)+(null===F||void 0===F||null===(c=F.designData)||void 0===c?void 0:c.add_price)).toFixed(2),!0)]})};return null!==Ke.getToken()?Object(Be.jsx)(Be.Fragment,{children:Object(Be.jsx)(s.Route,{render:function(e){var t,a,n,r,s,l;return Object(Be.jsx)(Be.Fragment,{children:Object(Be.jsx)(Bd,{dashboardRoutes:F.routes,header:v,openSubMenu:o,children:C?Object(Be.jsx)(io.a,{className:p.backdrop,open:C,children:Object(Be.jsx)(oo.a,{color:"inherit"})}):M?Object(Be.jsx)(qe,{}):Object(Be.jsxs)(Rt.a,{sx:{width:"100%"},children:[Object(Be.jsxs)(Ca,{style:{dispay:"flex"},children:[Object(Be.jsxs)(ya,{xs:12,children:[Object(Be.jsx)("b",{children:"Design No : "})," ",null===F||void 0===F||null===(t=F.designData)||void 0===t?void 0:t.material_no]}),B.isColorSelected?Object(Be.jsxs)(Be.Fragment,{children:[Object(Be.jsxs)(ya,{xs:12,children:[Object(Be.jsx)("b",{children:"Selected Color : "})," ",null===(a=B.selectedColor)||void 0===a?void 0:a.name]})," ",Object(Be.jsx)(ya,{xs:12,children:"< ----------------- >"})]}):null,Object(Be.jsxs)(ya,{xs:12,children:[Object(Be.jsx)("b",{children:"Add. Price : "})," ",P?$():yn(parseFloat(null===F||void 0===F||null===(n=F.designData)||void 0===n?void 0:n.add_price).toFixed(2),!0)]}),Object(Be.jsxs)(ya,{xs:12,children:[(null===F||void 0===F||null===(r=F.designData)||void 0===r||null===(s=r.colors)||void 0===s?void 0:s.length)?Object(Be.jsxs)(Be.Fragment,{children:[" ",Object(Be.jsx)("b",{children:"Price of all the common raw materials "})," ( i.e price of all the common materials present across all the colors excluding add. price ):"," "]}):Object(Be.jsxs)(Be.Fragment,{children:[" ",Object(Be.jsx)("b",{children:"Price of raw materials"})," ( i.e price of all the materials present excluding add. price ):"," "]}),P?$():yn(parseFloat(null===F||void 0===F||null===(l=F.designData)||void 0===l?void 0:l.material_price).toFixed(2),!0)]}),G()]}),Object(Be.jsx)("br",{}),Object(Be.jsx)(Rt.a,{sx:{borderBottom:1,borderColor:"divider"},children:Object(Be.jsx)(ru,{value:x,onChange:U,variant:"scrollable",scrollButtons:!0,allowScrollButtonsMobile:!0,TabIndicatorProps:{children:Object(Be.jsx)("span",{className:"MuiTabs-indicatorSpan"})},children:L.map((function(e){return Object(Be.jsx)(cu,{label:e})}))})}),Object(Be.jsx)(Rt.a,{children:Object(Be.jsx)(c,Object(Ze.a)(Object(Ze.a)({},e),{},{setColor:Q,urlParams:i,id:F.designId,designData:F.designData,isRawMaterial:F.isRawMaterial,isReadyMaterial:F.isReadyMaterial,updateDesign:V},d))})]})})})}})}):(Ke.clearAppStorage(),Object(Be.jsx)(r.a.Fragment,{children:Object(Be.jsx)(s.Redirect,{to:{pathname:l}})}))},ou=Object(We.a)(so),su=function(e){var t=ou(),a=Object(n.useState)({_sort:"date:desc"}),r=Object(ia.a)(a,2),c=r[0],i=r[1],o=Object(n.useState)({show:!1,severity:"",message:""}),s=Object(ia.a)(o,2),l=s[0],d=s[1],u=Object(n.useState)(!1),j=Object(ia.a)(u,2),b=(j[0],j[1],Object(n.useState)(null)),p=Object(ia.a)(b,2),h=(p[0],p[1]),m=Object(n.useState)(!1),x=Object(ia.a)(m,2),O=x[0],f=x[1],g=function(){f(!1)};return Object(Be.jsxs)(Be.Fragment,{children:[Object(Be.jsx)(bi,{open:l.show,severity:l.severity,message:l.message,handleClose:function(){d((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{show:!1,severity:"",message:""})}))}}),Object(Be.jsx)(uo,{handleCancel:g,handleClose:g,handleAccept:g,handleAddRawMaterial:function(e,t){h(t),g()},isHandleKey:!1,gridKey:null,isBalanceCheck:!0,open:O}),Object(Be.jsx)(Ca,{children:Object(Be.jsx)(ya,{xs:12,sm:12,md:12,children:Object(Be.jsxs)(Vc,{children:[Object(Be.jsxs)(ii,{color:"primary",className:t.cardHeaderStyles,children:[Object(Be.jsx)(Bo.a,{fontSize:"large"}),Object(Be.jsx)("p",{className:t.cardCategoryWhite})]}),Object(Be.jsxs)(Jc,{children:[Object(Be.jsx)(Ca,{children:Object(Be.jsx)(ya,{xs:12,sm:12,md:12,children:Object(Be.jsx)(gi,{color:"primary",align:"end",size:"small",onClick:function(){f(!0)},children:Object(Be.jsx)(Eo.a,{})})})}),Object(Be.jsxs)(Ca,{children:[Object(Be.jsx)(ya,{xs:12,sm:12,md:2,children:Object(Be.jsx)(Hi,{onChange:function(e){return function(e){var t=Na()(e).format("YYYY-MM-DDT00:00:00.000Z");"Invalid date"===t?(t=null,delete c.date_gte,i((function(e){return Object(Ze.a)({},e)}))):(t=new Date(t).toISOString(),i((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{date_gte:t})})))}(e)},label:"From Date",name:"date_gte",value:c.date_gte||null,id:"date_gte",formControlProps:{fullWidth:!0},style:{marginTop:"1.5rem",width:"100%"}})}),Object(Be.jsx)(ya,{xs:12,sm:12,md:2,children:Object(Be.jsx)(Hi,{onChange:function(e){return function(e){var t=Na()(e).endOf("day").format("YYYY-MM-DDT23:59:59.999Z");"Invalid date"===t?(t=null,delete c.date_lte,i((function(e){return Object(Ze.a)({},e)}))):(t=new Date(t).toISOString(),i((function(e){return Object(Ze.a)(Object(Ze.a)({},e),{},{date_lte:t})})))}(e)},label:"To Date",name:"date_lte",value:c.date_lte||null,id:"date_lte",formControlProps:{fullWidth:!0},style:{marginTop:"1.5rem",width:"100%"}})})]}),Object(Be.jsx)(Ca,{children:Object(Be.jsxs)(ya,{xs:12,sm:12,md:4,style:{marginTop:"27px"},children:[Object(Be.jsx)(jc,{color:"primary",onClick:function(){},children:"Search"}),Object(Be.jsx)(jc,{color:"primary",onClick:function(){i({_sort:"date:desc"})},children:"Cancel"})]})}),Object(Be.jsx)("br",{}),Object(Be.jsxs)(Gt,{sx:{minWidth:650},"aria-label":"simple table",children:[Object(Be.jsx)(Kt,{children:Object(Be.jsxs)(Zt,{children:[Object(Be.jsx)(Jt,{children:"Raw Material"}),Object(Be.jsx)(Jt,{children:"Total Used"})]})}),Object(Be.jsx)(Xt,{})]})]})]})})})]})},lu=function(){return Object(Be.jsx)("div",{children:Object(Be.jsxs)(s.Switch,{children:[Object(Be.jsx)(Qd,{openSubMenu:!1,path:q,exact:!0,component:$s,header:"Admin Users"}),Object(Be.jsx)(Qd,{openSubMenu:!1,path:L,exact:!0,component:Ks,header:"Add Admin"}),Object(Be.jsx)(Qd,{openSubMenu:!1,path:Q,exact:!0,component:Js,header:"Staff Users"}),Object(Be.jsx)(Qd,{openSubMenu:!1,path:Y,exact:!0,component:el,header:"Add Staff"}),Object(Be.jsx)(Qd,{openSubMenu:!0,path:E,exact:!0,component:ll,addComponentPath:H,header:"Sellers",value:1}),Object(Be.jsx)(Qd,{openSubMenu:!0,path:H,exact:!0,component:ml,header:"Add Seller"}),Object(Be.jsx)(Qd,{openSubMenu:!0,path:B,exact:!0,component:ml,header:"Edit Seller"}),Object(Be.jsx)(Qd,{openSubMenu:!0,path:g,exact:!0,component:il,addComponentPath:f,header:"All Purchases",value:0}),Object(Be.jsx)(Qd,{openSubMenu:!0,path:f,exact:!0,component:bl,header:"Add Purchases"}),Object(Be.jsx)(Qd,{openSubMenu:!0,path:_,exact:!0,component:bl,header:"Edit Purchase",defaultPathToPush:g,isDependent:!0,isEdit:!0}),Object(Be.jsx)(Qd,{openSubMenu:!0,path:w,exact:!0,component:bl,header:"View Purchase",defaultPathToPush:g,isDependent:!0,isView:!0}),Object(Be.jsx)(Qd,{openSubMenu:!0,path:D,exact:!0,component:wl,header:"Kachha Purchase Details"}),Object(Be.jsx)(Qd,{openSubMenu:!0,path:I,exact:!0,component:kl,header:"Purchase Ledger"}),Object(Be.jsx)(Qd,{openSubMenu:!0,path:C,exact:!0,component:Il,header:"Add Purchase Payment"}),Object(Be.jsx)(Qd,{openSubMenu:!0,path:P,exact:!0,component:Il,header:"Edit Purchase Payment",defaultPathToPush:S,isDependent:!0,isEdit:!0}),Object(Be.jsx)(Qd,{openSubMenu:!0,path:N,exact:!0,component:Il,header:"View Purchase Payment",defaultPathToPush:S,isDependent:!0,isView:!0}),Object(Be.jsx)(Qd,{openSubMenu:!0,path:S,exact:!0,component:Pl,header:"All Purchase Payments"}),Object(Be.jsx)(Qd,{openSubMenu:!0,path:d,exact:!0,addComponentPath:u,component:Yo,header:"Raw Materials",value:0}),Object(Be.jsx)(Qd,{openSubMenu:!0,path:u,exact:!0,component:hs,header:"Add New Raw Material"}),Object(Be.jsx)(Qd,{openSubMenu:!0,path:j,exact:!0,component:hs,header:"Edit Raw Material"}),Object(Be.jsx)(Qd,{openSubMenu:!0,path:b,exact:!0,component:hs,header:"View Raw Material"}),Object(Be.jsx)(Qd,{openSubMenu:!0,path:p,exact:!0,component:su,header:"Daily Usage"}),Object(Be.jsx)(Qd,{openSubMenu:!0,path:h,exact:!0,component:_s,header:"Add Edit Daily Usage"}),Object(Be.jsx)(Qd,{openSubMenu:!0,path:$,exact:!0,addComponentPath:G,component:Vo,header:"Units",value:1}),Object(Be.jsx)(Qd,{openSubMenu:!0,path:G,exact:!0,component:xs,header:"Add New Unit"}),Object(Be.jsx)(Qd,{openSubMenu:!0,path:U,exact:!0,component:al,header:"Departments"}),Object(Be.jsx)(Qd,{openSubMenu:!0,path:V,exact:!0,component:rl,header:"Add Department"}),Object(Be.jsx)(Qd,{openSubMenu:!0,path:A,exact:!0,component:Ol,header:"Returned Goods"}),Object(Be.jsx)(Qd,{openSubMenu:!0,path:M,exact:!0,component:yl,header:"Return Goods"}),Object(Be.jsx)(Qd,{openSubMenu:!0,path:F,exact:!0,component:yl,header:"Edit Returned Goods",defaultPathToPush:A,isDependent:!0,isEdit:!0}),Object(Be.jsx)(Qd,{openSubMenu:!0,path:W,exact:!0,component:yl,header:"View Returned Goods",defaultPathToPush:A,isDependent:!0,isEdit:!0}),Object(Be.jsx)(Qd,{openSubMenu:!0,path:ye,exact:!0,component:Ll,header:"Designs"}),Object(Be.jsx)(Qd,{openSubMenu:!0,path:ve,exact:!0,component:$l,header:"Add Design"}),Object(Be.jsx)(Qd,{openSubMenu:!0,path:we,exact:!0,component:$l,header:"Edit Design",isDependent:!0,isEdit:!0}),Object(Be.jsx)(Qd,{openSubMenu:!0,path:_e,exact:!0,component:td,header:"View Design",isDependent:!0,isView:!0}),Object(Be.jsx)(iu,{openSubMenu:!0,path:Pe,exact:!0,component:Xl,header:"",isColor:!1}),Object(Be.jsx)(iu,{openSubMenu:!0,path:Ne,exact:!0,component:Xl,header:"Select Ready Materials For Design",isColor:!1}),Object(Be.jsx)(Qd,{openSubMenu:!0,path:K,exact:!0,component:Rl,header:"Ready Material"}),Object(Be.jsx)(Qd,{openSubMenu:!0,path:Z,exact:!0,component:El,header:"Add Ready Material"}),Object(Be.jsx)(Qd,{openSubMenu:!0,path:J,exact:!0,component:El,header:"Edit Ready Material"}),Object(Be.jsx)(Qd,{openSubMenu:!0,path:X,exact:!0,component:El,header:"Views Ready Material"}),Object(Be.jsx)(Qd,{openSubMenu:!0,path:te,exact:!0,component:kd,header:"Add Order"}),Object(Be.jsx)(Qd,{openSubMenu:!0,path:ce,exact:!0,component:kd,header:"Edit Order",isDependent:!0,isEdit:!0}),Object(Be.jsx)(Qd,{openSubMenu:!0,path:re,exact:!0,component:kd,header:"View Order",isDependent:!0,isView:!0}),Object(Be.jsx)(Qd,{openSubMenu:!0,path:ee,exact:!0,component:Id,header:"Orders"}),Object(Be.jsx)(Qd,{openSubMenu:!0,path:oe,exact:!0,component:Ad,header:"View Department Sheet",isDependent:!0,isView:!0}),Object(Be.jsx)(Qd,{openSubMenu:!0,path:se,exact:!0,component:Ad,header:"Edit Department Sheet",isDependent:!0,isEdit:!0}),Object(Be.jsx)(Qd,{openSubMenu:!0,path:Ie,exact:!0,component:Ns,header:"Add Color"}),Object(Be.jsx)(Qd,{openSubMenu:!0,path:Me,exact:!0,component:Ns,header:"Edit Color"}),Object(Be.jsx)(Qd,{openSubMenu:!0,path:De,exact:!0,component:ks,header:"Colors"}),Object(Be.jsx)(Qd,{openSubMenu:!0,path:ze,exact:!0,component:zs,header:"Add Category"}),Object(Be.jsx)(Qd,{openSubMenu:!0,path:Ae,exact:!0,component:zs,header:"Edit Category"}),Object(Be.jsx)(Qd,{openSubMenu:!0,path:Re,exact:!0,component:Is,header:"Categories"}),Object(Be.jsx)(Qd,{openSubMenu:!0,path:le,exact:!0,component:rd,header:"Sales"}),Object(Be.jsx)(Qd,{openSubMenu:!0,path:de,exact:!0,component:md,header:"Add Sale"}),Object(Be.jsx)($d,{openSubMenu:!0,path:pe,exact:!0,component:md,header:"Edit Sale",defaultPathToPush:le,isDependent:!0,isEdit:!0}),Object(Be.jsx)(Qd,{openSubMenu:!0,path:be,exact:!0,component:md,header:"View Sale",defaultPathToPush:le,isDependent:!0,isView:!0}),Object(Be.jsx)(Qd,{openSubMenu:!0,path:Oe,exact:!0,component:_d,header:"Sale Return"}),Object(Be.jsx)(Qd,{openSubMenu:!0,path:me,exact:!0,component:vd,header:"Add Sale Return"}),Object(Be.jsx)($d,{openSubMenu:!0,path:xe,exact:!0,component:vd,header:"Edit Sale Return",defaultPathToPush:Oe}),Object(Be.jsx)(Kd,{openSubMenu:!0,path:he,exact:!0,component:vd,header:"View Sale",defaultPathToPush:Oe}),Object(Be.jsx)(Qd,{openSubMenu:!0,path:m,exact:!0,component:ld,header:"Parties"}),Object(Be.jsx)(Qd,{openSubMenu:!0,path:x,exact:!0,component:od,header:"Add Party"}),Object(Be.jsx)(Qd,{openSubMenu:!0,path:O,exact:!0,component:od,header:"Edit Party"}),Object(Be.jsx)(Jd,{openSubMenu:!0,path:Fe,exact:!0,header:""}),Object(Be.jsx)(Ud,{path:l,exact:!0,component:Us}),Object(Be.jsx)(qd,{path:"*",exact:!0})]})})},du=Object(zi.a)({overrides:{MuiPickersClock:{clock:{backgroundColor:"#a56863"}},MuiPickersToolbar:{toolbar:{backgroundColor:"#a56863"}},MuiPickersDay:{daySelected:{backgroundColor:"#a56863"}},MuiTypography:{colorPrimary:{color:"#a56863"}},MuiButton:{textPrimary:{color:"#a56863"}},MuiPickersMonth:{monthSelected:{color:"#a56863"},root:{"&:focus":{color:"#a56863"}}},palette:{primary:{main:"#a56863"}},primaryCardHeader:{backgroundColor:"#a56863"}}});var uu=function(){return Object(Be.jsx)(Ai.a,{theme:du,children:Object(Be.jsx)(o.a,{children:Object(Be.jsx)(lu,{})})})},ju=function(e){e&&e instanceof Function&&a.e(6).then(a.bind(null,1203)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;a(e),n(e),r(e),c(e),i(e)}))};a(700),a(701),a(702),a(703);i.a.render(Object(Be.jsx)(r.a.StrictMode,{children:Object(Be.jsx)(uu,{})}),document.getElementById("root")),ju()}},[[704,1,2]]]);